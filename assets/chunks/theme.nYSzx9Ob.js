const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunks/VPLocalSearchBox.UbHn8Fzn.js","assets/chunks/framework.BjvEk-qr.js"])))=>i.map(i=>d[i]);
import{d as C,o as _,c as b,r as w,n as B,a as gt,t as X,b as R,w as S,e as $,T as $i,_ as A,u as Vc,i as Uc,f as zc,g as Ma,h as I,j as P,k as g,l as mt,m as Po,p as L,q as ue,s as xi,v as ve,x as ja,y as Ba,z as Kc,A as Gc,B as xt,F as Y,C as le,D as Fa,E as Ri,G as x,H as Oe,I as dl,J as Li,K as Te,L as Ve,M as Wc,N as hr,O as So,P as qt,Q as hl,R as Ai,S as Yc,U as Xc,V as qc,W as pl,X as Ha,Y as Jc,Z as Zc,$ as Di,a0 as vl,a1 as Qc,a2 as dt,a3 as Vr,a4 as Ni,a5 as ef,a6 as tf,a7 as nf,a8 as yl,a9 as hs,aa as rf,ab as of,ac as af,ad as ps,ae as sf,af as uf,ag as lf,ah as cf,ai as ff}from"./framework.BjvEk-qr.js";const df=C({__name:"VPBadge",props:{text:{},type:{default:"tip"}},setup(t){return(e,i)=>(_(),b("span",{class:B(["VPBadge",e.type])},[w(e.$slots,"default",{},()=>[gt(X(e.text),1)])],2))}}),hf={key:0,class:"VPBackdrop"},pf=C({__name:"VPBackdrop",props:{show:{type:Boolean}},setup(t){return(e,i)=>(_(),R($i,{name:"fade"},{default:S(()=>[e.show?(_(),b("div",hf)):$("",!0)]),_:1}))}}),vf=A(pf,[["__scopeId","data-v-76a8e5d4"]]),U=Vc;function yf(t,e){let i,r=!1;return()=>{i&&clearTimeout(i),r?i=setTimeout(t,e):(t(),(r=!0)&&setTimeout(()=>r=!1,e))}}function ko(t){return/^\//.test(t)?t:`/${t}`}function Va(t){const{pathname:e,search:i,hash:r,protocol:n}=new URL(t,"http://a.com");if(Uc(t)||t.startsWith("#")||!n.startsWith("http")||!zc(e))return t;const{site:o}=U(),a=e.endsWith("/")||e.endsWith(".html")?t:t.replace(/(?:(^\.+)\/)?.*$/,`$1${e.replace(/(\.md)?$/,o.value.cleanUrls?"":".html")}${i}${r}`);return Ma(a)}function kr({correspondingLink:t=!1}={}){const{site:e,localeIndex:i,page:r,theme:n,hash:o}=U(),a=I(()=>{var u,l;return{label:(u=e.value.locales[i.value])==null?void 0:u.label,link:((l=e.value.locales[i.value])==null?void 0:l.link)||(i.value==="root"?"/":`/${i.value}/`)}});return{localeLinks:I(()=>Object.entries(e.value.locales).flatMap(([u,l])=>a.value.label===l.label?[]:{text:l.label,link:gf(l.link||(u==="root"?"/":`/${u}/`),n.value.i18nRouting!==!1&&t,r.value.relativePath.slice(a.value.link.length-1),!e.value.cleanUrls)+o.value})),currentLang:a}}function gf(t,e,i,r){return e?t.replace(/\/$/,"")+ko(i.replace(/(^|\/)index\.md$/,"$1").replace(/\.md$/,r?".html":"")):t}const mf={class:"NotFound"},_f={class:"code"},bf={class:"title"},wf={class:"quote"},Pf={class:"action"},Sf=["href","aria-label"],kf=C({__name:"NotFound",setup(t){const{theme:e}=U(),{currentLang:i}=kr();return(r,n)=>{var o,a,s,u,l;return _(),b("div",mf,[P("p",_f,X(((o=g(e).notFound)==null?void 0:o.code)??"404"),1),P("h1",bf,X(((a=g(e).notFound)==null?void 0:a.title)??"PAGE NOT FOUND"),1),n[0]||(n[0]=P("div",{class:"divider"},null,-1)),P("blockquote",wf,X(((s=g(e).notFound)==null?void 0:s.quote)??"But if you don't change your direction, and if you keep looking, you may end up where you are heading."),1),P("div",Pf,[P("a",{class:"link",href:g(Ma)(g(i).link),"aria-label":((u=g(e).notFound)==null?void 0:u.linkLabel)??"go to home"},X(((l=g(e).notFound)==null?void 0:l.linkText)??"Take me home"),9,Sf)])])}}}),Of=A(kf,[["__scopeId","data-v-5c61c8d5"]]);function gl(t,e){if(Array.isArray(t))return Br(t);if(t==null)return[];e=ko(e);const i=Object.keys(t).sort((n,o)=>o.split("/").length-n.split("/").length).find(n=>e.startsWith(ko(n))),r=i?t[i]:[];return Array.isArray(r)?Br(r):Br(r.items,r.base)}function Tf(t){const e=[];let i=0;for(const r in t){const n=t[r];if(n.items){i=e.push(n);continue}e[i]||e.push({items:[]}),e[i].items.push(n)}return e}function Ef(t){const e=[];function i(r){for(const n of r)n.text&&n.link&&e.push({text:n.text,link:n.link,docFooterText:n.docFooterText}),n.items&&i(n.items)}return i(t),e}function Oo(t,e){return Array.isArray(e)?e.some(i=>Oo(t,i)):mt(t,e.link)?!0:e.items?Oo(t,e.items):!1}function Br(t,e){return[...t].map(i=>{const r={...i},n=r.base||e;return n&&r.link&&(r.link=n+r.link),r.items&&(r.items=Br(r.items,n)),r})}function Ke(){const{frontmatter:t,page:e,theme:i}=U(),r=Po("(min-width: 960px)"),n=L(!1),o=I(()=>{const v=i.value.sidebar,m=e.value.relativePath;return v?gl(v,m):[]}),a=L(o.value);ue(o,(v,m)=>{JSON.stringify(v)!==JSON.stringify(m)&&(a.value=o.value)});const s=I(()=>t.value.sidebar!==!1&&a.value.length>0&&t.value.layout!=="home"),u=I(()=>l?t.value.aside==null?i.value.aside==="left":t.value.aside==="left":!1),l=I(()=>t.value.layout==="home"?!1:t.value.aside!=null?!!t.value.aside:i.value.aside!==!1),c=I(()=>s.value&&r.value),f=I(()=>s.value?Tf(a.value):[]);function h(){n.value=!0}function p(){n.value=!1}function y(){n.value?p():h()}return{isOpen:n,sidebar:a,sidebarGroups:f,hasSidebar:s,hasAside:l,leftAside:u,isSidebarEnabled:c,open:h,close:p,toggle:y}}function Cf(t,e){let i;xi(()=>{i=t.value?document.activeElement:void 0}),ve(()=>{window.addEventListener("keyup",r)}),ja(()=>{window.removeEventListener("keyup",r)});function r(n){n.key==="Escape"&&t.value&&(e(),i==null||i.focus())}}function If(t){const{page:e,hash:i}=U(),r=L(!1),n=I(()=>t.value.collapsed!=null),o=I(()=>!!t.value.link),a=L(!1),s=()=>{a.value=mt(e.value.relativePath,t.value.link)};ue([e,t,i],s),ve(s);const u=I(()=>a.value?!0:t.value.items?Oo(e.value.relativePath,t.value.items):!1),l=I(()=>!!(t.value.items&&t.value.items.length));xi(()=>{r.value=!!(n.value&&t.value.collapsed)}),Ba(()=>{(a.value||u.value)&&(r.value=!1)});function c(){n.value&&(r.value=!r.value)}return{collapsed:r,collapsible:n,isLink:o,isActiveLink:a,hasActiveLink:u,hasChildren:l,toggle:c}}function $f(){const{hasSidebar:t}=Ke(),e=Po("(min-width: 960px)"),i=Po("(min-width: 1280px)");return{isAsideEnabled:I(()=>!i.value&&!e.value?!1:t.value?i.value:e.value)}}const To=[];function ml(t){return typeof t.outline=="object"&&!Array.isArray(t.outline)&&t.outline.label||t.outlineTitle||"On this page"}function Ua(t){const e=[...document.querySelectorAll(".VPDoc :where(h1,h2,h3,h4,h5,h6)")].filter(i=>i.id&&i.hasChildNodes()).map(i=>{const r=Number(i.tagName[1]);return{element:i,title:xf(i),link:"#"+i.id,level:r}});return Rf(e,t)}function xf(t){let e="";for(const i of t.childNodes)if(i.nodeType===1){if(i.classList.contains("VPBadge")||i.classList.contains("header-anchor")||i.classList.contains("ignore-header"))continue;e+=i.textContent}else i.nodeType===3&&(e+=i.textContent);return e.trim()}function Rf(t,e){if(e===!1)return[];const i=(typeof e=="object"&&!Array.isArray(e)?e.level:e)||2,[r,n]=typeof i=="number"?[i,i]:i==="deep"?[2,6]:i;return Df(t,r,n)}function Lf(t,e){const{isAsideEnabled:i}=$f(),r=yf(o,100);let n=null;ve(()=>{requestAnimationFrame(o),window.addEventListener("scroll",r)}),Kc(()=>{a(location.hash)}),ja(()=>{window.removeEventListener("scroll",r)});function o(){if(!i.value)return;const s=window.scrollY,u=window.innerHeight,l=document.body.offsetHeight,c=Math.abs(s+u-l)<1,f=To.map(({element:p,link:y})=>({link:y,top:Af(p)})).filter(({top:p})=>!Number.isNaN(p)).sort((p,y)=>p.top-y.top);if(!f.length){a(null);return}if(s<1){a(null);return}if(c){a(f[f.length-1].link);return}let h=null;for(const{link:p,top:y}of f){if(y>s+Gc()+4)break;h=p}a(h)}function a(s){n&&n.classList.remove("active"),s==null?n=null:n=t.value.querySelector(`a[href="${decodeURIComponent(s)}"]`);const u=n;u?(u.classList.add("active"),e.value.style.top=u.offsetTop+39+"px",e.value.style.opacity="1"):(e.value.style.top="33px",e.value.style.opacity="0")}}function Af(t){let e=0;for(;t!==document.body;){if(t===null)return NaN;e+=t.offsetTop,t=t.offsetParent}return e}function Df(t,e,i){To.length=0;const r=[],n=[];return t.forEach(o=>{const a={...o,children:[]};let s=n[n.length-1];for(;s&&s.level>=a.level;)n.pop(),s=n[n.length-1];if(a.element.classList.contains("ignore-header")||s&&"shouldIgnore"in s){n.push({level:a.level,shouldIgnore:!0});return}a.level>i||a.level<e||(To.push({element:a.element,link:a.link}),s?s.children.push(a):r.push(a),n.push(a))}),r}const Nf=["href","title"],Mf=C({__name:"VPDocOutlineItem",props:{headers:{},root:{type:Boolean}},setup(t){function e({target:i}){const r=i.href.split("#")[1],n=document.getElementById(decodeURIComponent(r));n==null||n.focus({preventScroll:!0})}return(i,r)=>{const n=xt("VPDocOutlineItem",!0);return _(),b("ul",{class:B(["VPDocOutlineItem",i.root?"root":"nested"])},[(_(!0),b(Y,null,le(i.headers,({children:o,link:a,title:s})=>(_(),b("li",null,[P("a",{class:"outline-link",href:a,onClick:e,title:s},X(s),9,Nf),o!=null&&o.length?(_(),R(n,{key:0,headers:o},null,8,["headers"])):$("",!0)]))),256))],2)}}}),_l=A(Mf,[["__scopeId","data-v-4b3b5933"]]),jf={class:"content"},Bf={"aria-level":"2",class:"outline-title",id:"doc-outline-aria-label",role:"heading"},Ff=C({__name:"VPDocAsideOutline",setup(t){const{frontmatter:e,theme:i}=U(),r=Fa([]);Ri(()=>{r.value=Ua(e.value.outline??i.value.outline)});const n=L(),o=L();return Lf(n,o),(a,s)=>(_(),b("nav",{"aria-labelledby":"doc-outline-aria-label",class:B(["VPDocAsideOutline",{"has-outline":r.value.length>0}]),ref_key:"container",ref:n},[P("div",jf,[P("div",{class:"outline-marker",ref_key:"marker",ref:o},null,512),P("div",Bf,X(g(ml)(g(i))),1),x(_l,{headers:r.value,root:!0},null,8,["headers"])])],2))}}),Hf=A(Ff,[["__scopeId","data-v-e254a773"]]),Vf={class:"VPDocAsideCarbonAds"},Uf=C({__name:"VPDocAsideCarbonAds",props:{carbonAds:{}},setup(t){const e=()=>null;return(i,r)=>(_(),b("div",Vf,[x(g(e),{"carbon-ads":i.carbonAds},null,8,["carbon-ads"])]))}}),zf={class:"VPDocAside"},Kf=C({__name:"VPDocAside",setup(t){const{theme:e}=U();return(i,r)=>(_(),b("div",zf,[w(i.$slots,"aside-top",{},void 0,!0),w(i.$slots,"aside-outline-before",{},void 0,!0),x(Hf),w(i.$slots,"aside-outline-after",{},void 0,!0),r[0]||(r[0]=P("div",{class:"spacer"},null,-1)),w(i.$slots,"aside-ads-before",{},void 0,!0),g(e).carbonAds?(_(),R(Uf,{key:0,"carbon-ads":g(e).carbonAds},null,8,["carbon-ads"])):$("",!0),w(i.$slots,"aside-ads-after",{},void 0,!0),w(i.$slots,"aside-bottom",{},void 0,!0)]))}}),Gf=A(Kf,[["__scopeId","data-v-32e4fbb3"]]);function Wf(){const{theme:t,page:e}=U();return I(()=>{const{text:i="Edit this page",pattern:r=""}=t.value.editLink||{};let n;return typeof r=="function"?n=r(e.value):n=r.replace(/:path/g,e.value.filePath),{url:n,text:i}})}function Yf(){const{page:t,theme:e,frontmatter:i}=U();return I(()=>{var l,c,f,h,p,y,v,m;const r=gl(e.value.sidebar,t.value.relativePath),n=Ef(r),o=Xf(n,k=>k.link.replace(/[?#].*$/,"")),a=o.findIndex(k=>mt(t.value.relativePath,k.link)),s=((l=e.value.docFooter)==null?void 0:l.prev)===!1&&!i.value.prev||i.value.prev===!1,u=((c=e.value.docFooter)==null?void 0:c.next)===!1&&!i.value.next||i.value.next===!1;return{prev:s?void 0:{text:(typeof i.value.prev=="string"?i.value.prev:typeof i.value.prev=="object"?i.value.prev.text:void 0)??((f=o[a-1])==null?void 0:f.docFooterText)??((h=o[a-1])==null?void 0:h.text),link:(typeof i.value.prev=="object"?i.value.prev.link:void 0)??((p=o[a-1])==null?void 0:p.link)},next:u?void 0:{text:(typeof i.value.next=="string"?i.value.next:typeof i.value.next=="object"?i.value.next.text:void 0)??((y=o[a+1])==null?void 0:y.docFooterText)??((v=o[a+1])==null?void 0:v.text),link:(typeof i.value.next=="object"?i.value.next.link:void 0)??((m=o[a+1])==null?void 0:m.link)}}})}function Xf(t,e){const i=new Set;return t.filter(r=>{const n=e(r);return i.has(n)?!1:i.add(n)})}const Me=C({__name:"VPLink",props:{tag:{},href:{},noIcon:{type:Boolean},target:{},rel:{}},setup(t){const e=t,i=I(()=>e.tag??(e.href?"a":"span")),r=I(()=>e.href&&dl.test(e.href)||e.target==="_blank");return(n,o)=>(_(),R(Oe(i.value),{class:B(["VPLink",{link:n.href,"vp-external-link-icon":r.value,"no-icon":n.noIcon}]),href:n.href?g(Va)(n.href):void 0,target:n.target??(r.value?"_blank":void 0),rel:n.rel??(r.value?"noreferrer":void 0)},{default:S(()=>[w(n.$slots,"default")]),_:3},8,["class","href","target","rel"]))}}),qf={class:"VPLastUpdated"},Jf=["datetime"],Zf=C({__name:"VPDocFooterLastUpdated",setup(t){const{theme:e,page:i,lang:r}=U(),n=I(()=>new Date(i.value.lastUpdated)),o=I(()=>n.value.toISOString()),a=L("");return ve(()=>{xi(()=>{var s,u,l;a.value=new Intl.DateTimeFormat((u=(s=e.value.lastUpdated)==null?void 0:s.formatOptions)!=null&&u.forceLocale?r.value:void 0,((l=e.value.lastUpdated)==null?void 0:l.formatOptions)??{dateStyle:"short",timeStyle:"short"}).format(n.value)})}),(s,u)=>{var l;return _(),b("p",qf,[gt(X(((l=g(e).lastUpdated)==null?void 0:l.text)||g(e).lastUpdatedText||"Last updated")+": ",1),P("time",{datetime:o.value},X(a.value),9,Jf)])}}}),Qf=A(Zf,[["__scopeId","data-v-ac196f60"]]),ed={key:0,class:"VPDocFooter"},td={key:0,class:"edit-info"},nd={key:0,class:"edit-link"},rd={key:1,class:"last-updated"},id={key:1,class:"prev-next","aria-labelledby":"doc-footer-aria-label"},od={class:"pager"},ad=["innerHTML"],sd=["innerHTML"],ud={class:"pager"},ld=["innerHTML"],cd=["innerHTML"],fd=C({__name:"VPDocFooter",setup(t){const{theme:e,page:i,frontmatter:r}=U(),n=Wf(),o=Yf(),a=I(()=>e.value.editLink&&r.value.editLink!==!1),s=I(()=>i.value.lastUpdated),u=I(()=>a.value||s.value||o.value.prev||o.value.next);return(l,c)=>{var f,h,p,y;return u.value?(_(),b("footer",ed,[w(l.$slots,"doc-footer-before",{},void 0,!0),a.value||s.value?(_(),b("div",td,[a.value?(_(),b("div",nd,[x(Me,{class:"edit-link-button",href:g(n).url,"no-icon":!0},{default:S(()=>[c[0]||(c[0]=P("span",{class:"vpi-square-pen edit-link-icon"},null,-1)),gt(" "+X(g(n).text),1)]),_:1},8,["href"])])):$("",!0),s.value?(_(),b("div",rd,[x(Qf)])):$("",!0)])):$("",!0),(f=g(o).prev)!=null&&f.link||(h=g(o).next)!=null&&h.link?(_(),b("nav",id,[c[1]||(c[1]=P("span",{class:"visually-hidden",id:"doc-footer-aria-label"},"Pager",-1)),P("div",od,[(p=g(o).prev)!=null&&p.link?(_(),R(Me,{key:0,class:"pager-link prev",href:g(o).prev.link},{default:S(()=>{var v;return[P("span",{class:"desc",innerHTML:((v=g(e).docFooter)==null?void 0:v.prev)||"Previous page"},null,8,ad),P("span",{class:"title",innerHTML:g(o).prev.text},null,8,sd)]}),_:1},8,["href"])):$("",!0)]),P("div",ud,[(y=g(o).next)!=null&&y.link?(_(),R(Me,{key:0,class:"pager-link next",href:g(o).next.link},{default:S(()=>{var v;return[P("span",{class:"desc",innerHTML:((v=g(e).docFooter)==null?void 0:v.next)||"Next page"},null,8,ld),P("span",{class:"title",innerHTML:g(o).next.text},null,8,cd)]}),_:1},8,["href"])):$("",!0)])])):$("",!0)])):$("",!0)}}}),dd=A(fd,[["__scopeId","data-v-c05c6a74"]]),hd={class:"container"},pd={class:"aside-container"},vd={class:"aside-content"},yd={class:"content"},gd={class:"content-container"},md={class:"main"},_d=C({__name:"VPDoc",setup(t){const{theme:e}=U(),i=Li(),{hasSidebar:r,hasAside:n,leftAside:o}=Ke(),a=I(()=>i.path.replace(/[./]+/g,"_").replace(/_html$/,""));return(s,u)=>{const l=xt("Content");return _(),b("div",{class:B(["VPDoc",{"has-sidebar":g(r),"has-aside":g(n)}])},[w(s.$slots,"doc-top",{},void 0,!0),P("div",hd,[g(n)?(_(),b("div",{key:0,class:B(["aside",{"left-aside":g(o)}])},[u[0]||(u[0]=P("div",{class:"aside-curtain"},null,-1)),P("div",pd,[P("div",vd,[x(Gf,null,{"aside-top":S(()=>[w(s.$slots,"aside-top",{},void 0,!0)]),"aside-bottom":S(()=>[w(s.$slots,"aside-bottom",{},void 0,!0)]),"aside-outline-before":S(()=>[w(s.$slots,"aside-outline-before",{},void 0,!0)]),"aside-outline-after":S(()=>[w(s.$slots,"aside-outline-after",{},void 0,!0)]),"aside-ads-before":S(()=>[w(s.$slots,"aside-ads-before",{},void 0,!0)]),"aside-ads-after":S(()=>[w(s.$slots,"aside-ads-after",{},void 0,!0)]),_:3})])])],2)):$("",!0),P("div",yd,[P("div",gd,[w(s.$slots,"doc-before",{},void 0,!0),P("main",md,[x(l,{class:B(["vp-doc",[a.value,g(e).externalLinkIcon&&"external-link-icon-enabled"]])},null,8,["class"])]),x(dd,null,{"doc-footer-before":S(()=>[w(s.$slots,"doc-footer-before",{},void 0,!0)]),_:3}),w(s.$slots,"doc-after",{},void 0,!0)])])]),w(s.$slots,"doc-bottom",{},void 0,!0)],2)}}}),bd=A(_d,[["__scopeId","data-v-6cf404b5"]]),wd=C({__name:"VPButton",props:{tag:{},size:{default:"medium"},theme:{default:"brand"},text:{},href:{},target:{},rel:{}},setup(t){const e=t,i=I(()=>e.href&&dl.test(e.href)),r=I(()=>e.tag||(e.href?"a":"button"));return(n,o)=>(_(),R(Oe(r.value),{class:B(["VPButton",[n.size,n.theme]]),href:n.href?g(Va)(n.href):void 0,target:e.target??(i.value?"_blank":void 0),rel:e.rel??(i.value?"noreferrer":void 0)},{default:S(()=>[gt(X(n.text),1)]),_:1},8,["class","href","target","rel"]))}}),Pd=A(wd,[["__scopeId","data-v-d553fd8d"]]),Sd=["src","alt"],kd=C({inheritAttrs:!1,__name:"VPImage",props:{image:{},alt:{}},setup(t){return(e,i)=>{const r=xt("VPImage",!0);return e.image?(_(),b(Y,{key:0},[typeof e.image=="string"||"src"in e.image?(_(),b("img",Te({key:0,class:"VPImage"},typeof e.image=="string"?e.$attrs:{...e.image,...e.$attrs},{src:g(Ma)(typeof e.image=="string"?e.image:e.image.src),alt:e.alt??(typeof e.image=="string"?"":e.image.alt||"")}),null,16,Sd)):(_(),b(Y,{key:1},[x(r,Te({class:"dark",image:e.image.dark,alt:e.image.alt},e.$attrs),null,16,["image","alt"]),x(r,Te({class:"light",image:e.image.light,alt:e.image.alt},e.$attrs),null,16,["image","alt"])],64))],64)):$("",!0)}}}),Ur=A(kd,[["__scopeId","data-v-d11d87b5"]]),Od={class:"container"},Td={class:"main"},Ed={key:0,class:"name"},Cd=["innerHTML"],Id=["innerHTML"],$d=["innerHTML"],xd={key:0,class:"actions"},Rd={key:0,class:"image"},Ld={class:"image-container"},Ad=C({__name:"VPHero",props:{name:{},text:{},tagline:{},image:{},actions:{}},setup(t){const e=Ve("hero-image-slot-exists");return(i,r)=>(_(),b("div",{class:B(["VPHero",{"has-image":i.image||g(e)}])},[P("div",Od,[P("div",Td,[w(i.$slots,"home-hero-info-before",{},void 0,!0),w(i.$slots,"home-hero-info",{},()=>[i.name?(_(),b("h1",Ed,[P("span",{innerHTML:i.name,class:"clip"},null,8,Cd)])):$("",!0),i.text?(_(),b("p",{key:1,innerHTML:i.text,class:"text"},null,8,Id)):$("",!0),i.tagline?(_(),b("p",{key:2,innerHTML:i.tagline,class:"tagline"},null,8,$d)):$("",!0)],!0),w(i.$slots,"home-hero-info-after",{},void 0,!0),i.actions?(_(),b("div",xd,[(_(!0),b(Y,null,le(i.actions,n=>(_(),b("div",{key:n.link,class:"action"},[x(Pd,{tag:"a",size:"medium",theme:n.theme,text:n.text,href:n.link,target:n.target,rel:n.rel},null,8,["theme","text","href","target","rel"])]))),128))])):$("",!0),w(i.$slots,"home-hero-actions-after",{},void 0,!0)]),i.image||g(e)?(_(),b("div",Rd,[P("div",Ld,[r[0]||(r[0]=P("div",{class:"image-bg"},null,-1)),w(i.$slots,"home-hero-image",{},()=>[i.image?(_(),R(Ur,{key:0,class:"image-src",image:i.image},null,8,["image"])):$("",!0)],!0)])])):$("",!0)])],2))}}),Dd=A(Ad,[["__scopeId","data-v-70930aa0"]]),Nd=C({__name:"VPHomeHero",setup(t){const{frontmatter:e}=U();return(i,r)=>g(e).hero?(_(),R(Dd,{key:0,class:"VPHomeHero",name:g(e).hero.name,text:g(e).hero.text,tagline:g(e).hero.tagline,image:g(e).hero.image,actions:g(e).hero.actions},{"home-hero-info-before":S(()=>[w(i.$slots,"home-hero-info-before")]),"home-hero-info":S(()=>[w(i.$slots,"home-hero-info")]),"home-hero-info-after":S(()=>[w(i.$slots,"home-hero-info-after")]),"home-hero-actions-after":S(()=>[w(i.$slots,"home-hero-actions-after")]),"home-hero-image":S(()=>[w(i.$slots,"home-hero-image")]),_:3},8,["name","text","tagline","image","actions"])):$("",!0)}}),Md={class:"box"},jd={key:0,class:"icon"},Bd=["innerHTML"],Fd=["innerHTML"],Hd=["innerHTML"],Vd={key:4,class:"link-text"},Ud={class:"link-text-value"},zd=C({__name:"VPFeature",props:{icon:{},title:{},details:{},link:{},linkText:{},rel:{},target:{}},setup(t){return(e,i)=>(_(),R(Me,{class:"VPFeature",href:e.link,rel:e.rel,target:e.target,"no-icon":!0,tag:e.link?"a":"div"},{default:S(()=>[P("article",Md,[typeof e.icon=="object"&&e.icon.wrap?(_(),b("div",jd,[x(Ur,{image:e.icon,alt:e.icon.alt,height:e.icon.height||48,width:e.icon.width||48},null,8,["image","alt","height","width"])])):typeof e.icon=="object"?(_(),R(Ur,{key:1,image:e.icon,alt:e.icon.alt,height:e.icon.height||48,width:e.icon.width||48},null,8,["image","alt","height","width"])):e.icon?(_(),b("div",{key:2,class:"icon",innerHTML:e.icon},null,8,Bd)):$("",!0),P("h2",{class:"title",innerHTML:e.title},null,8,Fd),e.details?(_(),b("p",{key:3,class:"details",innerHTML:e.details},null,8,Hd)):$("",!0),e.linkText?(_(),b("div",Vd,[P("p",Ud,[gt(X(e.linkText)+" ",1),i[0]||(i[0]=P("span",{class:"vpi-arrow-right link-text-icon"},null,-1))])])):$("",!0)])]),_:1},8,["href","rel","target","tag"]))}}),Kd=A(zd,[["__scopeId","data-v-bb26bd7f"]]),Gd={key:0,class:"VPFeatures"},Wd={class:"container"},Yd={class:"items"},Xd=C({__name:"VPFeatures",props:{features:{}},setup(t){const e=t,i=I(()=>{const r=e.features.length;if(r){if(r===2)return"grid-2";if(r===3)return"grid-3";if(r%3===0)return"grid-6";if(r>3)return"grid-4"}else return});return(r,n)=>r.features?(_(),b("div",Gd,[P("div",Wd,[P("div",Yd,[(_(!0),b(Y,null,le(r.features,o=>(_(),b("div",{key:o.title,class:B(["item",[i.value]])},[x(Kd,{icon:o.icon,title:o.title,details:o.details,link:o.link,"link-text":o.linkText,rel:o.rel,target:o.target},null,8,["icon","title","details","link","link-text","rel","target"])],2))),128))])])])):$("",!0)}}),qd=A(Xd,[["__scopeId","data-v-94fc0825"]]),Jd=C({__name:"VPHomeFeatures",setup(t){const{frontmatter:e}=U();return(i,r)=>g(e).features?(_(),R(qd,{key:0,class:"VPHomeFeatures",features:g(e).features},null,8,["features"])):$("",!0)}}),Zd=C({__name:"VPHomeContent",setup(t){const{width:e}=Wc({initialWidth:0,includeScrollbar:!1});return(i,r)=>(_(),b("div",{class:"vp-doc container",style:hr(g(e)?{"--vp-offset":`calc(50% - ${g(e)/2}px)`}:{})},[w(i.$slots,"default",{},void 0,!0)],4))}}),Qd=A(Zd,[["__scopeId","data-v-692d9054"]]),eh={class:"VPHome"},th=C({__name:"VPHome",setup(t){const{frontmatter:e}=U();return(i,r)=>{const n=xt("Content");return _(),b("div",eh,[w(i.$slots,"home-hero-before",{},void 0,!0),x(Nd,null,{"home-hero-info-before":S(()=>[w(i.$slots,"home-hero-info-before",{},void 0,!0)]),"home-hero-info":S(()=>[w(i.$slots,"home-hero-info",{},void 0,!0)]),"home-hero-info-after":S(()=>[w(i.$slots,"home-hero-info-after",{},void 0,!0)]),"home-hero-actions-after":S(()=>[w(i.$slots,"home-hero-actions-after",{},void 0,!0)]),"home-hero-image":S(()=>[w(i.$slots,"home-hero-image",{},void 0,!0)]),_:3}),w(i.$slots,"home-hero-after",{},void 0,!0),w(i.$slots,"home-features-before",{},void 0,!0),x(Jd),w(i.$slots,"home-features-after",{},void 0,!0),g(e).markdownStyles!==!1?(_(),R(Qd,{key:0},{default:S(()=>[x(n)]),_:1})):(_(),R(n,{key:1}))])}}}),nh=A(th,[["__scopeId","data-v-33b428de"]]),rh={},ih={class:"VPPage"};function oh(t,e){const i=xt("Content");return _(),b("div",ih,[w(t.$slots,"page-top"),x(i),w(t.$slots,"page-bottom")])}const ah=A(rh,[["render",oh]]),sh=C({__name:"VPContent",setup(t){const{page:e,frontmatter:i}=U(),{hasSidebar:r}=Ke();return(n,o)=>(_(),b("div",{class:B(["VPContent",{"has-sidebar":g(r),"is-home":g(i).layout==="home"}]),id:"VPContent"},[g(e).isNotFound?w(n.$slots,"not-found",{key:0},()=>[x(Of)],!0):g(i).layout==="page"?(_(),R(ah,{key:1},{"page-top":S(()=>[w(n.$slots,"page-top",{},void 0,!0)]),"page-bottom":S(()=>[w(n.$slots,"page-bottom",{},void 0,!0)]),_:3})):g(i).layout==="home"?(_(),R(nh,{key:2},{"home-hero-before":S(()=>[w(n.$slots,"home-hero-before",{},void 0,!0)]),"home-hero-info-before":S(()=>[w(n.$slots,"home-hero-info-before",{},void 0,!0)]),"home-hero-info":S(()=>[w(n.$slots,"home-hero-info",{},void 0,!0)]),"home-hero-info-after":S(()=>[w(n.$slots,"home-hero-info-after",{},void 0,!0)]),"home-hero-actions-after":S(()=>[w(n.$slots,"home-hero-actions-after",{},void 0,!0)]),"home-hero-image":S(()=>[w(n.$slots,"home-hero-image",{},void 0,!0)]),"home-hero-after":S(()=>[w(n.$slots,"home-hero-after",{},void 0,!0)]),"home-features-before":S(()=>[w(n.$slots,"home-features-before",{},void 0,!0)]),"home-features-after":S(()=>[w(n.$slots,"home-features-after",{},void 0,!0)]),_:3})):g(i).layout&&g(i).layout!=="doc"?(_(),R(Oe(g(i).layout),{key:3})):(_(),R(bd,{key:4},{"doc-top":S(()=>[w(n.$slots,"doc-top",{},void 0,!0)]),"doc-bottom":S(()=>[w(n.$slots,"doc-bottom",{},void 0,!0)]),"doc-footer-before":S(()=>[w(n.$slots,"doc-footer-before",{},void 0,!0)]),"doc-before":S(()=>[w(n.$slots,"doc-before",{},void 0,!0)]),"doc-after":S(()=>[w(n.$slots,"doc-after",{},void 0,!0)]),"aside-top":S(()=>[w(n.$slots,"aside-top",{},void 0,!0)]),"aside-outline-before":S(()=>[w(n.$slots,"aside-outline-before",{},void 0,!0)]),"aside-outline-after":S(()=>[w(n.$slots,"aside-outline-after",{},void 0,!0)]),"aside-ads-before":S(()=>[w(n.$slots,"aside-ads-before",{},void 0,!0)]),"aside-ads-after":S(()=>[w(n.$slots,"aside-ads-after",{},void 0,!0)]),"aside-bottom":S(()=>[w(n.$slots,"aside-bottom",{},void 0,!0)]),_:3}))],2))}}),uh=A(sh,[["__scopeId","data-v-09e8bd68"]]),lh={class:"container"},ch=["innerHTML"],fh=["innerHTML"],dh=C({__name:"VPFooter",setup(t){const{theme:e,frontmatter:i}=U(),{hasSidebar:r}=Ke();return(n,o)=>g(e).footer&&g(i).footer!==!1?(_(),b("footer",{key:0,class:B(["VPFooter",{"has-sidebar":g(r)}])},[P("div",lh,[g(e).footer.message?(_(),b("p",{key:0,class:"message",innerHTML:g(e).footer.message},null,8,ch)):$("",!0),g(e).footer.copyright?(_(),b("p",{key:1,class:"copyright",innerHTML:g(e).footer.copyright},null,8,fh)):$("",!0)])],2)):$("",!0)}}),hh=A(dh,[["__scopeId","data-v-5c15583b"]]);function ph(){const{theme:t,frontmatter:e}=U(),i=Fa([]),r=I(()=>i.value.length>0);return Ri(()=>{i.value=Ua(e.value.outline??t.value.outline)}),{headers:i,hasLocalNav:r}}const vh={class:"menu-text"},yh={class:"header"},gh={class:"outline"},mh=C({__name:"VPLocalNavOutlineDropdown",props:{headers:{},navHeight:{}},setup(t){const e=t,{theme:i}=U(),r=L(!1),n=L(0),o=L(),a=L();function s(f){var h;(h=o.value)!=null&&h.contains(f.target)||(r.value=!1)}ue(r,f=>{if(f){document.addEventListener("click",s);return}document.removeEventListener("click",s)}),So("Escape",()=>{r.value=!1}),Ri(()=>{r.value=!1});function u(){r.value=!r.value,n.value=window.innerHeight+Math.min(window.scrollY-e.navHeight,0)}function l(f){f.target.classList.contains("outline-link")&&(a.value&&(a.value.style.transition="none"),qt(()=>{r.value=!1}))}function c(){r.value=!1,window.scrollTo({top:0,left:0,behavior:"smooth"})}return(f,h)=>(_(),b("div",{class:"VPLocalNavOutlineDropdown",style:hr({"--vp-vh":n.value+"px"}),ref_key:"main",ref:o},[f.headers.length>0?(_(),b("button",{key:0,onClick:u,class:B({open:r.value})},[P("span",vh,X(g(ml)(g(i))),1),h[0]||(h[0]=P("span",{class:"vpi-chevron-right icon"},null,-1))],2)):(_(),b("button",{key:1,onClick:c},X(g(i).returnToTopLabel||"Return to top"),1)),x($i,{name:"flyout"},{default:S(()=>[r.value?(_(),b("div",{key:0,ref_key:"items",ref:a,class:"items",onClick:l},[P("div",yh,[P("a",{class:"top-link",href:"#",onClick:c},X(g(i).returnToTopLabel||"Return to top"),1)]),P("div",gh,[x(_l,{headers:f.headers},null,8,["headers"])])],512)):$("",!0)]),_:1})],4))}}),_h=A(mh,[["__scopeId","data-v-7d8aeb35"]]),bh={class:"container"},wh=["aria-expanded"],Ph={class:"menu-text"},Sh=C({__name:"VPLocalNav",props:{open:{type:Boolean}},emits:["open-menu"],setup(t){const{theme:e,frontmatter:i}=U(),{hasSidebar:r}=Ke(),{headers:n}=ph(),{y:o}=hl(),a=L(0);ve(()=>{a.value=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--vp-nav-height"))}),Ri(()=>{n.value=Ua(i.value.outline??e.value.outline)});const s=I(()=>n.value.length===0),u=I(()=>s.value&&!r.value),l=I(()=>({VPLocalNav:!0,"has-sidebar":r.value,empty:s.value,fixed:u.value}));return(c,f)=>g(i).layout!=="home"&&(!u.value||g(o)>=a.value)?(_(),b("div",{key:0,class:B(l.value)},[P("div",bh,[g(r)?(_(),b("button",{key:0,class:"menu","aria-expanded":c.open,"aria-controls":"VPSidebarNav",onClick:f[0]||(f[0]=h=>c.$emit("open-menu"))},[f[1]||(f[1]=P("span",{class:"vpi-align-left menu-icon"},null,-1)),P("span",Ph,X(g(e).sidebarMenuLabel||"Menu"),1)],8,wh)):$("",!0),x(_h,{headers:g(n),navHeight:a.value},null,8,["headers","navHeight"])])],2)):$("",!0)}}),kh=A(Sh,[["__scopeId","data-v-691532b2"]]);function Oh(){const t=L(!1);function e(){t.value=!0,window.addEventListener("resize",n)}function i(){t.value=!1,window.removeEventListener("resize",n)}function r(){t.value?i():e()}function n(){window.outerWidth>=768&&i()}const o=Li();return ue(()=>o.path,i),{isScreenOpen:t,openScreen:e,closeScreen:i,toggleScreen:r}}const Th={},Eh={class:"VPSwitch",type:"button",role:"switch"},Ch={class:"check"},Ih={key:0,class:"icon"};function $h(t,e){return _(),b("button",Eh,[P("span",Ch,[t.$slots.default?(_(),b("span",Ih,[w(t.$slots,"default",{},void 0,!0)])):$("",!0)])])}const xh=A(Th,[["render",$h],["__scopeId","data-v-13431714"]]),Rh=C({__name:"VPSwitchAppearance",setup(t){const{isDark:e,theme:i}=U(),r=Ve("toggle-appearance",()=>{e.value=!e.value}),n=L("");return Ba(()=>{n.value=e.value?i.value.lightModeSwitchTitle||"Switch to light theme":i.value.darkModeSwitchTitle||"Switch to dark theme"}),(o,a)=>(_(),R(xh,{title:n.value,class:"VPSwitchAppearance","aria-checked":g(e),onClick:g(r)},{default:S(()=>a[0]||(a[0]=[P("span",{class:"vpi-sun sun"},null,-1),P("span",{class:"vpi-moon moon"},null,-1)])),_:1},8,["title","aria-checked","onClick"]))}}),za=A(Rh,[["__scopeId","data-v-a5bad0d7"]]),Lh={key:0,class:"VPNavBarAppearance"},Ah=C({__name:"VPNavBarAppearance",setup(t){const{site:e}=U();return(i,r)=>g(e).appearance&&g(e).appearance!=="force-dark"&&g(e).appearance!=="force-auto"?(_(),b("div",Lh,[x(za)])):$("",!0)}}),Dh=A(Ah,[["__scopeId","data-v-acb70142"]]),Ka=L();let bl=!1,Zi=0;function Nh(t){const e=L(!1);if(Ai){!bl&&Mh(),Zi++;const i=ue(Ka,r=>{var n,o,a;r===t.el.value||(n=t.el.value)!=null&&n.contains(r)?(e.value=!0,(o=t.onFocus)==null||o.call(t)):(e.value=!1,(a=t.onBlur)==null||a.call(t))});ja(()=>{i(),Zi--,Zi||jh()})}return Yc(e)}function Mh(){document.addEventListener("focusin",wl),bl=!0,Ka.value=document.activeElement}function jh(){document.removeEventListener("focusin",wl)}function wl(){Ka.value=document.activeElement}const Bh={class:"VPMenuLink"},Fh=["innerHTML"],Hh=C({__name:"VPMenuLink",props:{item:{}},setup(t){const{page:e}=U();return(i,r)=>(_(),b("div",Bh,[x(Me,{class:B({active:g(mt)(g(e).relativePath,i.item.activeMatch||i.item.link,!!i.item.activeMatch)}),href:i.item.link,target:i.item.target,rel:i.item.rel,"no-icon":i.item.noIcon},{default:S(()=>[P("span",{innerHTML:i.item.text},null,8,Fh)]),_:1},8,["class","href","target","rel","no-icon"])]))}}),Mi=A(Hh,[["__scopeId","data-v-c659f4e1"]]),Vh={class:"VPMenuGroup"},Uh={key:0,class:"title"},zh=C({__name:"VPMenuGroup",props:{text:{},items:{}},setup(t){return(e,i)=>(_(),b("div",Vh,[e.text?(_(),b("p",Uh,X(e.text),1)):$("",!0),(_(!0),b(Y,null,le(e.items,r=>(_(),b(Y,null,["link"in r?(_(),R(Mi,{key:0,item:r},null,8,["item"])):$("",!0)],64))),256))]))}}),Kh=A(zh,[["__scopeId","data-v-1bf6eaf7"]]),Gh={class:"VPMenu"},Wh={key:0,class:"items"},Yh=C({__name:"VPMenu",props:{items:{}},setup(t){return(e,i)=>(_(),b("div",Gh,[e.items?(_(),b("div",Wh,[(_(!0),b(Y,null,le(e.items,r=>(_(),b(Y,{key:JSON.stringify(r)},["link"in r?(_(),R(Mi,{key:0,item:r},null,8,["item"])):"component"in r?(_(),R(Oe(r.component),Te({key:1,ref_for:!0},r.props),null,16)):(_(),R(Kh,{key:2,text:r.text,items:r.items},null,8,["text","items"]))],64))),128))])):$("",!0),w(e.$slots,"default",{},void 0,!0)]))}}),Xh=A(Yh,[["__scopeId","data-v-55e6f9c7"]]),qh=["aria-expanded","aria-label"],Jh={key:0,class:"text"},Zh=["innerHTML"],Qh={key:1,class:"vpi-more-horizontal icon"},ep={class:"menu"},tp=C({__name:"VPFlyout",props:{icon:{},button:{},label:{},items:{}},setup(t){const e=L(!1),i=L();Nh({el:i,onBlur:r});function r(){e.value=!1}return(n,o)=>(_(),b("div",{class:"VPFlyout",ref_key:"el",ref:i,onMouseenter:o[1]||(o[1]=a=>e.value=!0),onMouseleave:o[2]||(o[2]=a=>e.value=!1)},[P("button",{type:"button",class:"button","aria-haspopup":"true","aria-expanded":e.value,"aria-label":n.label,onClick:o[0]||(o[0]=a=>e.value=!e.value)},[n.button||n.icon?(_(),b("span",Jh,[n.icon?(_(),b("span",{key:0,class:B([n.icon,"option-icon"])},null,2)):$("",!0),n.button?(_(),b("span",{key:1,innerHTML:n.button},null,8,Zh)):$("",!0),o[3]||(o[3]=P("span",{class:"vpi-chevron-down text-icon"},null,-1))])):(_(),b("span",Qh))],8,qh),P("div",ep,[x(Xh,{items:n.items},{default:S(()=>[w(n.$slots,"default",{},void 0,!0)]),_:3},8,["items"])])],544))}}),Ga=A(tp,[["__scopeId","data-v-fbebbc99"]]),np=["href","aria-label","innerHTML"],rp=C({__name:"VPSocialLink",props:{icon:{},link:{},ariaLabel:{}},setup(t){const e=t,i=L();ve(async()=>{var o;await qt();const n=(o=i.value)==null?void 0:o.children[0];n instanceof HTMLElement&&n.className.startsWith("vpi-social-")&&(getComputedStyle(n).maskImage||getComputedStyle(n).webkitMaskImage)==="none"&&n.style.setProperty("--icon",`url('https://api.iconify.design/simple-icons/${e.icon}.svg')`)});const r=I(()=>typeof e.icon=="object"?e.icon.svg:`<span class="vpi-social-${e.icon}"></span>`);return(n,o)=>(_(),b("a",{ref_key:"el",ref:i,class:"VPSocialLink no-icon",href:n.link,"aria-label":n.ariaLabel??(typeof n.icon=="string"?n.icon:""),target:"_blank",rel:"noopener",innerHTML:r.value},null,8,np))}}),ip=A(rp,[["__scopeId","data-v-36dcb1e6"]]),op={class:"VPSocialLinks"},ap=C({__name:"VPSocialLinks",props:{links:{}},setup(t){return(e,i)=>(_(),b("div",op,[(_(!0),b(Y,null,le(e.links,({link:r,icon:n,ariaLabel:o})=>(_(),R(ip,{key:r,icon:n,link:r,ariaLabel:o},null,8,["icon","link","ariaLabel"]))),128))]))}}),Wa=A(ap,[["__scopeId","data-v-b7c915a8"]]),sp={key:0,class:"group translations"},up={class:"trans-title"},lp={key:1,class:"group"},cp={class:"item appearance"},fp={class:"label"},dp={class:"appearance-action"},hp={key:2,class:"group"},pp={class:"item social-links"},vp=C({__name:"VPNavBarExtra",setup(t){const{site:e,theme:i}=U(),{localeLinks:r,currentLang:n}=kr({correspondingLink:!0}),o=I(()=>r.value.length&&n.value.label||e.value.appearance||i.value.socialLinks);return(a,s)=>o.value?(_(),R(Ga,{key:0,class:"VPNavBarExtra",label:"extra navigation"},{default:S(()=>[g(r).length&&g(n).label?(_(),b("div",sp,[P("p",up,X(g(n).label),1),(_(!0),b(Y,null,le(g(r),u=>(_(),R(Mi,{key:u.link,item:u},null,8,["item"]))),128))])):$("",!0),g(e).appearance&&g(e).appearance!=="force-dark"&&g(e).appearance!=="force-auto"?(_(),b("div",lp,[P("div",cp,[P("p",fp,X(g(i).darkModeSwitchLabel||"Appearance"),1),P("div",dp,[x(za)])])])):$("",!0),g(i).socialLinks?(_(),b("div",hp,[P("div",pp,[x(Wa,{class:"social-links-list",links:g(i).socialLinks},null,8,["links"])])])):$("",!0)]),_:1})):$("",!0)}}),yp=A(vp,[["__scopeId","data-v-7b15c4e2"]]),gp=["aria-expanded"],mp=C({__name:"VPNavBarHamburger",props:{active:{type:Boolean}},emits:["click"],setup(t){return(e,i)=>(_(),b("button",{type:"button",class:B(["VPNavBarHamburger",{active:e.active}]),"aria-label":"mobile navigation","aria-expanded":e.active,"aria-controls":"VPNavScreen",onClick:i[0]||(i[0]=r=>e.$emit("click"))},i[1]||(i[1]=[P("span",{class:"container"},[P("span",{class:"top"}),P("span",{class:"middle"}),P("span",{class:"bottom"})],-1)]),10,gp))}}),_p=A(mp,[["__scopeId","data-v-8bc7f765"]]),bp=["innerHTML"],wp=C({__name:"VPNavBarMenuLink",props:{item:{}},setup(t){const{page:e}=U();return(i,r)=>(_(),R(Me,{class:B({VPNavBarMenuLink:!0,active:g(mt)(g(e).relativePath,i.item.activeMatch||i.item.link,!!i.item.activeMatch)}),href:i.item.link,target:i.item.target,rel:i.item.rel,"no-icon":i.item.noIcon,tabindex:"0"},{default:S(()=>[P("span",{innerHTML:i.item.text},null,8,bp)]),_:1},8,["class","href","target","rel","no-icon"]))}}),Pp=A(wp,[["__scopeId","data-v-9b28d82e"]]),Sp=C({__name:"VPNavBarMenuGroup",props:{item:{}},setup(t){const e=t,{page:i}=U(),r=o=>"component"in o?!1:"link"in o?mt(i.value.relativePath,o.link,!!e.item.activeMatch):o.items.some(r),n=I(()=>r(e.item));return(o,a)=>(_(),R(Ga,{class:B({VPNavBarMenuGroup:!0,active:g(mt)(g(i).relativePath,o.item.activeMatch,!!o.item.activeMatch)||n.value}),button:o.item.text,items:o.item.items},null,8,["class","button","items"]))}}),kp={key:0,"aria-labelledby":"main-nav-aria-label",class:"VPNavBarMenu"},Op=C({__name:"VPNavBarMenu",setup(t){const{theme:e}=U();return(i,r)=>g(e).nav?(_(),b("nav",kp,[r[0]||(r[0]=P("span",{id:"main-nav-aria-label",class:"visually-hidden"}," Main Navigation ",-1)),(_(!0),b(Y,null,le(g(e).nav,n=>(_(),b(Y,{key:JSON.stringify(n)},["link"in n?(_(),R(Pp,{key:0,item:n},null,8,["item"])):"component"in n?(_(),R(Oe(n.component),Te({key:1,ref_for:!0},n.props),null,16)):(_(),R(Sp,{key:2,item:n},null,8,["item"]))],64))),128))])):$("",!0)}}),Tp=A(Op,[["__scopeId","data-v-4e6be24c"]]);function Ep(t){const{localeIndex:e,theme:i}=U();function r(n){var y,v,m;const o=n.split("."),a=(y=i.value.search)==null?void 0:y.options,s=a&&typeof a=="object",u=s&&((m=(v=a.locales)==null?void 0:v[e.value])==null?void 0:m.translations)||null,l=s&&a.translations||null;let c=u,f=l,h=t;const p=o.pop();for(const k of o){let T=null;const O=h==null?void 0:h[k];O&&(T=h=O);const z=f==null?void 0:f[k];z&&(T=f=z);const F=c==null?void 0:c[k];F&&(T=c=F),O||(h=T),z||(f=T),F||(c=T)}return(c==null?void 0:c[p])??(f==null?void 0:f[p])??(h==null?void 0:h[p])??""}return r}const Cp=["aria-label"],Ip={class:"DocSearch-Button-Container"},$p={class:"DocSearch-Button-Placeholder"},vs=C({__name:"VPNavBarSearchButton",setup(t){const i=Ep({button:{buttonText:"Search",buttonAriaLabel:"Search"}});return(r,n)=>(_(),b("button",{type:"button",class:"DocSearch DocSearch-Button","aria-label":g(i)("button.buttonAriaLabel")},[P("span",Ip,[n[0]||(n[0]=P("span",{class:"vp-icon DocSearch-Search-Icon"},null,-1)),P("span",$p,X(g(i)("button.buttonText")),1)]),n[1]||(n[1]=P("span",{class:"DocSearch-Button-Keys"},[P("kbd",{class:"DocSearch-Button-Key"}),P("kbd",{class:"DocSearch-Button-Key"},"K")],-1))],8,Cp))}}),xp={class:"VPNavBarSearch"},Rp={id:"local-search"},Lp={key:1,id:"docsearch"},Ap=C({__name:"VPNavBarSearch",setup(t){const e=Xc(()=>qc(()=>import("./VPLocalSearchBox.UbHn8Fzn.js"),__vite__mapDeps([0,1]))),i=()=>null,{theme:r}=U(),n=L(!1),o=L(!1);ve(()=>{});function a(){n.value||(n.value=!0,setTimeout(s,16))}function s(){const f=new Event("keydown");f.key="k",f.metaKey=!0,window.dispatchEvent(f),setTimeout(()=>{document.querySelector(".DocSearch-Modal")||s()},16)}function u(f){const h=f.target,p=h.tagName;return h.isContentEditable||p==="INPUT"||p==="SELECT"||p==="TEXTAREA"}const l=L(!1);So("k",f=>{(f.ctrlKey||f.metaKey)&&(f.preventDefault(),l.value=!0)}),So("/",f=>{u(f)||(f.preventDefault(),l.value=!0)});const c="local";return(f,h)=>{var p;return _(),b("div",xp,[g(c)==="local"?(_(),b(Y,{key:0},[l.value?(_(),R(g(e),{key:0,onClose:h[0]||(h[0]=y=>l.value=!1)})):$("",!0),P("div",Rp,[x(vs,{onClick:h[1]||(h[1]=y=>l.value=!0)})])],64)):g(c)==="algolia"?(_(),b(Y,{key:1},[n.value?(_(),R(g(i),{key:0,algolia:((p=g(r).search)==null?void 0:p.options)??g(r).algolia,onVnodeBeforeMount:h[2]||(h[2]=y=>o.value=!0)},null,8,["algolia"])):$("",!0),o.value?$("",!0):(_(),b("div",Lp,[x(vs,{onClick:a})]))],64)):$("",!0)])}}}),Dp=C({__name:"VPNavBarSocialLinks",setup(t){const{theme:e}=U();return(i,r)=>g(e).socialLinks?(_(),R(Wa,{key:0,class:"VPNavBarSocialLinks",links:g(e).socialLinks},null,8,["links"])):$("",!0)}}),Np=A(Dp,[["__scopeId","data-v-d884cb04"]]),Mp=["href","rel","target"],jp=["innerHTML"],Bp={key:2},Fp=C({__name:"VPNavBarTitle",setup(t){const{site:e,theme:i}=U(),{hasSidebar:r}=Ke(),{currentLang:n}=kr(),o=I(()=>{var u;return typeof i.value.logoLink=="string"?i.value.logoLink:(u=i.value.logoLink)==null?void 0:u.link}),a=I(()=>{var u;return typeof i.value.logoLink=="string"||(u=i.value.logoLink)==null?void 0:u.rel}),s=I(()=>{var u;return typeof i.value.logoLink=="string"||(u=i.value.logoLink)==null?void 0:u.target});return(u,l)=>(_(),b("div",{class:B(["VPNavBarTitle",{"has-sidebar":g(r)}])},[P("a",{class:"title",href:o.value??g(Va)(g(n).link),rel:a.value,target:s.value},[w(u.$slots,"nav-bar-title-before",{},void 0,!0),g(i).logo?(_(),R(Ur,{key:0,class:"logo",image:g(i).logo},null,8,["image"])):$("",!0),g(i).siteTitle?(_(),b("span",{key:1,innerHTML:g(i).siteTitle},null,8,jp)):g(i).siteTitle===void 0?(_(),b("span",Bp,X(g(e).title),1)):$("",!0),w(u.$slots,"nav-bar-title-after",{},void 0,!0)],8,Mp)],2))}}),Hp=A(Fp,[["__scopeId","data-v-1778879a"]]),Vp={class:"items"},Up={class:"title"},zp=C({__name:"VPNavBarTranslations",setup(t){const{theme:e}=U(),{localeLinks:i,currentLang:r}=kr({correspondingLink:!0});return(n,o)=>g(i).length&&g(r).label?(_(),R(Ga,{key:0,class:"VPNavBarTranslations",icon:"vpi-languages",label:g(e).langMenuLabel||"Change language"},{default:S(()=>[P("div",Vp,[P("p",Up,X(g(r).label),1),(_(!0),b(Y,null,le(g(i),a=>(_(),R(Mi,{key:a.link,item:a},null,8,["item"]))),128))])]),_:1},8,["label"])):$("",!0)}}),Kp=A(zp,[["__scopeId","data-v-801ef135"]]),Gp={class:"wrapper"},Wp={class:"container"},Yp={class:"title"},Xp={class:"content"},qp={class:"content-body"},Jp=C({__name:"VPNavBar",props:{isScreenOpen:{type:Boolean}},emits:["toggle-screen"],setup(t){const e=t,{y:i}=hl(),{hasSidebar:r}=Ke(),{frontmatter:n}=U(),o=L({});return Ba(()=>{o.value={"has-sidebar":r.value,home:n.value.layout==="home",top:i.value===0,"screen-open":e.isScreenOpen}}),(a,s)=>(_(),b("div",{class:B(["VPNavBar",o.value])},[P("div",Gp,[P("div",Wp,[P("div",Yp,[x(Hp,null,{"nav-bar-title-before":S(()=>[w(a.$slots,"nav-bar-title-before",{},void 0,!0)]),"nav-bar-title-after":S(()=>[w(a.$slots,"nav-bar-title-after",{},void 0,!0)]),_:3})]),P("div",Xp,[P("div",qp,[w(a.$slots,"nav-bar-content-before",{},void 0,!0),x(Ap,{class:"search"}),x(Tp,{class:"menu"}),x(Kp,{class:"translations"}),x(Dh,{class:"appearance"}),x(Np,{class:"social-links"}),x(yp,{class:"extra"}),w(a.$slots,"nav-bar-content-after",{},void 0,!0),x(_p,{class:"hamburger",active:a.isScreenOpen,onClick:s[0]||(s[0]=u=>a.$emit("toggle-screen"))},null,8,["active"])])])])]),s[1]||(s[1]=P("div",{class:"divider"},[P("div",{class:"divider-line"})],-1))],2))}}),Zp=A(Jp,[["__scopeId","data-v-8a445744"]]),Qp={key:0,class:"VPNavScreenAppearance"},ev={class:"text"},tv=C({__name:"VPNavScreenAppearance",setup(t){const{site:e,theme:i}=U();return(r,n)=>g(e).appearance&&g(e).appearance!=="force-dark"&&g(e).appearance!=="force-auto"?(_(),b("div",Qp,[P("p",ev,X(g(i).darkModeSwitchLabel||"Appearance"),1),x(za)])):$("",!0)}}),nv=A(tv,[["__scopeId","data-v-fde54375"]]),rv=["innerHTML"],iv=C({__name:"VPNavScreenMenuLink",props:{item:{}},setup(t){const e=Ve("close-screen");return(i,r)=>(_(),R(Me,{class:"VPNavScreenMenuLink",href:i.item.link,target:i.item.target,rel:i.item.rel,"no-icon":i.item.noIcon,onClick:g(e)},{default:S(()=>[P("span",{innerHTML:i.item.text},null,8,rv)]),_:1},8,["href","target","rel","no-icon","onClick"]))}}),ov=A(iv,[["__scopeId","data-v-62bd65c4"]]),av=["innerHTML"],sv=C({__name:"VPNavScreenMenuGroupLink",props:{item:{}},setup(t){const e=Ve("close-screen");return(i,r)=>(_(),R(Me,{class:"VPNavScreenMenuGroupLink",href:i.item.link,target:i.item.target,rel:i.item.rel,"no-icon":i.item.noIcon,onClick:g(e)},{default:S(()=>[P("span",{innerHTML:i.item.text},null,8,av)]),_:1},8,["href","target","rel","no-icon","onClick"]))}}),Pl=A(sv,[["__scopeId","data-v-56f1d0cd"]]),uv={class:"VPNavScreenMenuGroupSection"},lv={key:0,class:"title"},cv=C({__name:"VPNavScreenMenuGroupSection",props:{text:{},items:{}},setup(t){return(e,i)=>(_(),b("div",uv,[e.text?(_(),b("p",lv,X(e.text),1)):$("",!0),(_(!0),b(Y,null,le(e.items,r=>(_(),R(Pl,{key:r.text,item:r},null,8,["item"]))),128))]))}}),fv=A(cv,[["__scopeId","data-v-dab09ffa"]]),dv=["aria-controls","aria-expanded"],hv=["innerHTML"],pv=["id"],vv={key:0,class:"item"},yv={key:1,class:"item"},gv={key:2,class:"group"},mv=C({__name:"VPNavScreenMenuGroup",props:{text:{},items:{}},setup(t){const e=t,i=L(!1),r=I(()=>`NavScreenGroup-${e.text.replace(" ","-").toLowerCase()}`);function n(){i.value=!i.value}return(o,a)=>(_(),b("div",{class:B(["VPNavScreenMenuGroup",{open:i.value}])},[P("button",{class:"button","aria-controls":r.value,"aria-expanded":i.value,onClick:n},[P("span",{class:"button-text",innerHTML:o.text},null,8,hv),a[0]||(a[0]=P("span",{class:"vpi-plus button-icon"},null,-1))],8,dv),P("div",{id:r.value,class:"items"},[(_(!0),b(Y,null,le(o.items,s=>(_(),b(Y,{key:JSON.stringify(s)},["link"in s?(_(),b("div",vv,[x(Pl,{item:s},null,8,["item"])])):"component"in s?(_(),b("div",yv,[(_(),R(Oe(s.component),Te({ref_for:!0},s.props,{"screen-menu":""}),null,16))])):(_(),b("div",gv,[x(fv,{text:s.text,items:s.items},null,8,["text","items"])]))],64))),128))],8,pv)],2))}}),_v=A(mv,[["__scopeId","data-v-8f0f3b27"]]),bv={key:0,class:"VPNavScreenMenu"},wv=C({__name:"VPNavScreenMenu",setup(t){const{theme:e}=U();return(i,r)=>g(e).nav?(_(),b("nav",bv,[(_(!0),b(Y,null,le(g(e).nav,n=>(_(),b(Y,{key:JSON.stringify(n)},["link"in n?(_(),R(ov,{key:0,item:n},null,8,["item"])):"component"in n?(_(),R(Oe(n.component),Te({key:1,ref_for:!0},n.props,{"screen-menu":""}),null,16)):(_(),R(_v,{key:2,text:n.text||"",items:n.items},null,8,["text","items"]))],64))),128))])):$("",!0)}}),Pv=C({__name:"VPNavScreenSocialLinks",setup(t){const{theme:e}=U();return(i,r)=>g(e).socialLinks?(_(),R(Wa,{key:0,class:"VPNavScreenSocialLinks",links:g(e).socialLinks},null,8,["links"])):$("",!0)}}),Sv={class:"list"},kv=C({__name:"VPNavScreenTranslations",setup(t){const{localeLinks:e,currentLang:i}=kr({correspondingLink:!0}),r=L(!1);function n(){r.value=!r.value}return(o,a)=>g(e).length&&g(i).label?(_(),b("div",{key:0,class:B(["VPNavScreenTranslations",{open:r.value}])},[P("button",{class:"title",onClick:n},[a[0]||(a[0]=P("span",{class:"vpi-languages icon lang"},null,-1)),gt(" "+X(g(i).label)+" ",1),a[1]||(a[1]=P("span",{class:"vpi-chevron-down icon chevron"},null,-1))]),P("ul",Sv,[(_(!0),b(Y,null,le(g(e),s=>(_(),b("li",{key:s.link,class:"item"},[x(Me,{class:"link",href:s.link},{default:S(()=>[gt(X(s.text),1)]),_:2},1032,["href"])]))),128))])],2)):$("",!0)}}),Ov=A(kv,[["__scopeId","data-v-d5902a4c"]]),Tv={class:"container"},Ev=C({__name:"VPNavScreen",props:{open:{type:Boolean}},setup(t){const e=L(null),i=pl(Ai?document.body:null);return(r,n)=>(_(),R($i,{name:"fade",onEnter:n[0]||(n[0]=o=>i.value=!0),onAfterLeave:n[1]||(n[1]=o=>i.value=!1)},{default:S(()=>[r.open?(_(),b("div",{key:0,class:"VPNavScreen",ref_key:"screen",ref:e,id:"VPNavScreen"},[P("div",Tv,[w(r.$slots,"nav-screen-content-before",{},void 0,!0),x(wv,{class:"menu"}),x(Ov,{class:"translations"}),x(nv,{class:"appearance"}),x(Pv,{class:"social-links"}),w(r.$slots,"nav-screen-content-after",{},void 0,!0)])],512)):$("",!0)]),_:3}))}}),Cv=A(Ev,[["__scopeId","data-v-8369d561"]]),Iv={key:0,class:"VPNav"},$v=C({__name:"VPNav",setup(t){const{isScreenOpen:e,closeScreen:i,toggleScreen:r}=Oh(),{frontmatter:n}=U(),o=I(()=>n.value.navbar!==!1);return Ha("close-screen",i),xi(()=>{Ai&&document.documentElement.classList.toggle("hide-nav",!o.value)}),(a,s)=>o.value?(_(),b("header",Iv,[x(Zp,{"is-screen-open":g(e),onToggleScreen:g(r)},{"nav-bar-title-before":S(()=>[w(a.$slots,"nav-bar-title-before",{},void 0,!0)]),"nav-bar-title-after":S(()=>[w(a.$slots,"nav-bar-title-after",{},void 0,!0)]),"nav-bar-content-before":S(()=>[w(a.$slots,"nav-bar-content-before",{},void 0,!0)]),"nav-bar-content-after":S(()=>[w(a.$slots,"nav-bar-content-after",{},void 0,!0)]),_:3},8,["is-screen-open","onToggleScreen"]),x(Cv,{open:g(e)},{"nav-screen-content-before":S(()=>[w(a.$slots,"nav-screen-content-before",{},void 0,!0)]),"nav-screen-content-after":S(()=>[w(a.$slots,"nav-screen-content-after",{},void 0,!0)]),_:3},8,["open"])])):$("",!0)}}),xv=A($v,[["__scopeId","data-v-bf189b8a"]]),Rv=["role","tabindex"],Lv={key:1,class:"items"},Av=C({__name:"VPSidebarItem",props:{item:{},depth:{}},setup(t){const e=t,{collapsed:i,collapsible:r,isLink:n,isActiveLink:o,hasActiveLink:a,hasChildren:s,toggle:u}=If(I(()=>e.item)),l=I(()=>s.value?"section":"div"),c=I(()=>n.value?"a":"div"),f=I(()=>s.value?e.depth+2===7?"p":`h${e.depth+2}`:"p"),h=I(()=>n.value?void 0:"button"),p=I(()=>[[`level-${e.depth}`],{collapsible:r.value},{collapsed:i.value},{"is-link":n.value},{"is-active":o.value},{"has-active":a.value}]);function y(m){"key"in m&&m.key!=="Enter"||!e.item.link&&u()}function v(){e.item.link&&u()}return(m,k)=>{const T=xt("VPSidebarItem",!0);return _(),R(Oe(l.value),{class:B(["VPSidebarItem",p.value])},{default:S(()=>[m.item.text?(_(),b("div",Te({key:0,class:"item",role:h.value},Zc(m.item.items?{click:y,keydown:y}:{},!0),{tabindex:m.item.items&&0}),[k[1]||(k[1]=P("div",{class:"indicator"},null,-1)),m.item.link?(_(),R(Me,{key:0,tag:c.value,class:"link",href:m.item.link,rel:m.item.rel,target:m.item.target},{default:S(()=>[(_(),R(Oe(f.value),{class:"text",innerHTML:m.item.text},null,8,["innerHTML"]))]),_:1},8,["tag","href","rel","target"])):(_(),R(Oe(f.value),{key:1,class:"text",innerHTML:m.item.text},null,8,["innerHTML"])),m.item.collapsed!=null&&m.item.items&&m.item.items.length?(_(),b("div",{key:2,class:"caret",role:"button","aria-label":"toggle section",onClick:v,onKeydown:Jc(v,["enter"]),tabindex:"0"},k[0]||(k[0]=[P("span",{class:"vpi-chevron-right caret-icon"},null,-1)]),32)):$("",!0)],16,Rv)):$("",!0),m.item.items&&m.item.items.length?(_(),b("div",Lv,[m.depth<5?(_(!0),b(Y,{key:0},le(m.item.items,O=>(_(),R(T,{key:O.text,item:O,depth:m.depth+1},null,8,["item","depth"]))),128)):$("",!0)])):$("",!0)]),_:1},8,["class"])}}}),Dv=A(Av,[["__scopeId","data-v-09e7dc20"]]),Nv=C({__name:"VPSidebarGroup",props:{items:{}},setup(t){const e=L(!0);let i=null;return ve(()=>{i=setTimeout(()=>{i=null,e.value=!1},300)}),Di(()=>{i!=null&&(clearTimeout(i),i=null)}),(r,n)=>(_(!0),b(Y,null,le(r.items,o=>(_(),b("div",{key:o.text,class:B(["group",{"no-transition":e.value}])},[x(Dv,{item:o,depth:0},null,8,["item"])],2))),128))}}),Mv=A(Nv,[["__scopeId","data-v-e0d08644"]]),jv={class:"nav",id:"VPSidebarNav","aria-labelledby":"sidebar-aria-label",tabindex:"-1"},Bv=C({__name:"VPSidebar",props:{open:{type:Boolean}},setup(t){const{sidebarGroups:e,hasSidebar:i}=Ke(),r=t,n=L(null),o=pl(Ai?document.body:null);ue([r,n],()=>{var s;r.open?(o.value=!0,(s=n.value)==null||s.focus()):o.value=!1},{immediate:!0,flush:"post"});const a=L(0);return ue(e,()=>{a.value+=1},{deep:!0}),(s,u)=>g(i)?(_(),b("aside",{key:0,class:B(["VPSidebar",{open:s.open}]),ref_key:"navEl",ref:n,onClick:u[0]||(u[0]=vl(()=>{},["stop"]))},[u[2]||(u[2]=P("div",{class:"curtain"},null,-1)),P("nav",jv,[u[1]||(u[1]=P("span",{class:"visually-hidden",id:"sidebar-aria-label"}," Sidebar Navigation ",-1)),w(s.$slots,"sidebar-nav-before",{},void 0,!0),(_(),R(Mv,{items:g(e),key:a.value},null,8,["items"])),w(s.$slots,"sidebar-nav-after",{},void 0,!0)])],2)):$("",!0)}}),Fv=A(Bv,[["__scopeId","data-v-dde46407"]]),Hv=C({__name:"VPSkipLink",setup(t){const e=Li(),i=L();ue(()=>e.path,()=>i.value.focus());function r({target:n}){const o=document.getElementById(decodeURIComponent(n.hash).slice(1));if(o){const a=()=>{o.removeAttribute("tabindex"),o.removeEventListener("blur",a)};o.setAttribute("tabindex","-1"),o.addEventListener("blur",a),o.focus(),window.scrollTo(0,0)}}return(n,o)=>(_(),b(Y,null,[P("span",{ref_key:"backToTop",ref:i,tabindex:"-1"},null,512),P("a",{href:"#VPContent",class:"VPSkipLink visually-hidden",onClick:r}," Skip to content ")],64))}}),Vv=A(Hv,[["__scopeId","data-v-a2b300db"]]),Uv=C({__name:"Layout",setup(t){const{isOpen:e,open:i,close:r}=Ke(),n=Li();ue(()=>n.path,r),Cf(e,r);const{frontmatter:o}=U(),a=Qc(),s=I(()=>!!a["home-hero-image"]);return Ha("hero-image-slot-exists",s),(u,l)=>{const c=xt("Content");return g(o).layout!==!1?(_(),b("div",{key:0,class:B(["Layout",g(o).pageClass])},[w(u.$slots,"layout-top",{},void 0,!0),x(Vv),x(vf,{class:"backdrop",show:g(e),onClick:g(r)},null,8,["show","onClick"]),x(xv,null,{"nav-bar-title-before":S(()=>[w(u.$slots,"nav-bar-title-before",{},void 0,!0)]),"nav-bar-title-after":S(()=>[w(u.$slots,"nav-bar-title-after",{},void 0,!0)]),"nav-bar-content-before":S(()=>[w(u.$slots,"nav-bar-content-before",{},void 0,!0)]),"nav-bar-content-after":S(()=>[w(u.$slots,"nav-bar-content-after",{},void 0,!0)]),"nav-screen-content-before":S(()=>[w(u.$slots,"nav-screen-content-before",{},void 0,!0)]),"nav-screen-content-after":S(()=>[w(u.$slots,"nav-screen-content-after",{},void 0,!0)]),_:3}),x(kh,{open:g(e),onOpenMenu:g(i)},null,8,["open","onOpenMenu"]),x(Fv,{open:g(e)},{"sidebar-nav-before":S(()=>[w(u.$slots,"sidebar-nav-before",{},void 0,!0)]),"sidebar-nav-after":S(()=>[w(u.$slots,"sidebar-nav-after",{},void 0,!0)]),_:3},8,["open"]),x(uh,null,{"page-top":S(()=>[w(u.$slots,"page-top",{},void 0,!0)]),"page-bottom":S(()=>[w(u.$slots,"page-bottom",{},void 0,!0)]),"not-found":S(()=>[w(u.$slots,"not-found",{},void 0,!0)]),"home-hero-before":S(()=>[w(u.$slots,"home-hero-before",{},void 0,!0)]),"home-hero-info-before":S(()=>[w(u.$slots,"home-hero-info-before",{},void 0,!0)]),"home-hero-info":S(()=>[w(u.$slots,"home-hero-info",{},void 0,!0)]),"home-hero-info-after":S(()=>[w(u.$slots,"home-hero-info-after",{},void 0,!0)]),"home-hero-actions-after":S(()=>[w(u.$slots,"home-hero-actions-after",{},void 0,!0)]),"home-hero-image":S(()=>[w(u.$slots,"home-hero-image",{},void 0,!0)]),"home-hero-after":S(()=>[w(u.$slots,"home-hero-after",{},void 0,!0)]),"home-features-before":S(()=>[w(u.$slots,"home-features-before",{},void 0,!0)]),"home-features-after":S(()=>[w(u.$slots,"home-features-after",{},void 0,!0)]),"doc-footer-before":S(()=>[w(u.$slots,"doc-footer-before",{},void 0,!0)]),"doc-before":S(()=>[w(u.$slots,"doc-before",{},void 0,!0)]),"doc-after":S(()=>[w(u.$slots,"doc-after",{},void 0,!0)]),"doc-top":S(()=>[w(u.$slots,"doc-top",{},void 0,!0)]),"doc-bottom":S(()=>[w(u.$slots,"doc-bottom",{},void 0,!0)]),"aside-top":S(()=>[w(u.$slots,"aside-top",{},void 0,!0)]),"aside-bottom":S(()=>[w(u.$slots,"aside-bottom",{},void 0,!0)]),"aside-outline-before":S(()=>[w(u.$slots,"aside-outline-before",{},void 0,!0)]),"aside-outline-after":S(()=>[w(u.$slots,"aside-outline-after",{},void 0,!0)]),"aside-ads-before":S(()=>[w(u.$slots,"aside-ads-before",{},void 0,!0)]),"aside-ads-after":S(()=>[w(u.$slots,"aside-ads-after",{},void 0,!0)]),_:3}),x(hh),w(u.$slots,"layout-bottom",{},void 0,!0)],2)):(_(),R(c,{key:1}))}}}),zv=A(Uv,[["__scopeId","data-v-87f9308a"]]),Sl={Layout:zv,enhanceApp:({app:t})=>{t.component("Badge",df)}},Kv=C({__name:"Layout",setup(t){const{Layout:e}=Sl;return(i,r)=>(_(),R(g(e)))}});var Gv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ya(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var kl={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,i="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(i=!1));function n(u,l,c){this.fn=u,this.context=l,this.once=c||!1}function o(u,l,c,f,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new n(c,f||u,h),y=i?i+l:l;return u._events[y]?u._events[y].fn?u._events[y]=[u._events[y],p]:u._events[y].push(p):(u._events[y]=p,u._eventsCount++),u}function a(u,l){--u._eventsCount===0?u._events=new r:delete u._events[l]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var l=[],c,f;if(this._eventsCount===0)return l;for(f in c=this._events)e.call(c,f)&&l.push(i?f.slice(1):f);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(c)):l},s.prototype.listeners=function(l){var c=i?i+l:l,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,y=new Array(p);h<p;h++)y[h]=f[h].fn;return y},s.prototype.listenerCount=function(l){var c=i?i+l:l,f=this._events[c];return f?f.fn?1:f.length:0},s.prototype.emit=function(l,c,f,h,p,y){var v=i?i+l:l;if(!this._events[v])return!1;var m=this._events[v],k=arguments.length,T,O;if(m.fn){switch(m.once&&this.removeListener(l,m.fn,void 0,!0),k){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,c),!0;case 3:return m.fn.call(m.context,c,f),!0;case 4:return m.fn.call(m.context,c,f,h),!0;case 5:return m.fn.call(m.context,c,f,h,p),!0;case 6:return m.fn.call(m.context,c,f,h,p,y),!0}for(O=1,T=new Array(k-1);O<k;O++)T[O-1]=arguments[O];m.fn.apply(m.context,T)}else{var z=m.length,F;for(O=0;O<z;O++)switch(m[O].once&&this.removeListener(l,m[O].fn,void 0,!0),k){case 1:m[O].fn.call(m[O].context);break;case 2:m[O].fn.call(m[O].context,c);break;case 3:m[O].fn.call(m[O].context,c,f);break;case 4:m[O].fn.call(m[O].context,c,f,h);break;default:if(!T)for(F=1,T=new Array(k-1);F<k;F++)T[F-1]=arguments[F];m[O].fn.apply(m[O].context,T)}}return!0},s.prototype.on=function(l,c,f){return o(this,l,c,f,!1)},s.prototype.once=function(l,c,f){return o(this,l,c,f,!0)},s.prototype.removeListener=function(l,c,f,h){var p=i?i+l:l;if(!this._events[p])return this;if(!c)return a(this,p),this;var y=this._events[p];if(y.fn)y.fn===c&&(!h||y.once)&&(!f||y.context===f)&&a(this,p);else{for(var v=0,m=[],k=y.length;v<k;v++)(y[v].fn!==c||h&&!y[v].once||f&&y[v].context!==f)&&m.push(y[v]);m.length?this._events[p]=m.length===1?m[0]:m:a(this,p)}return this},s.prototype.removeAllListeners=function(l){var c;return l?(c=i?i+l:l,this._events[c]&&a(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=i,s.EventEmitter=s,t.exports=s})(kl);var Ol=kl.exports;const Tl=Ya(Ol);var Eo=JSON.parse('"3.0.0-alpha.138"'),Wv=typeof window<"u"&&window.location&&window.location.href.indexOf("xgplayerdebugger=1")>-1,Qi={info:"color: #525252; background-color: #90ee90;",error:"color: #525252; background-color: red;",warn:"color: #525252; background-color: yellow; "},eo="%c[xgplayer]",j={config:{debug:Wv?3:1},logInfo:function(e){for(var i,r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];this.config.debug>=3&&(i=console).log.apply(i,[eo,Qi.info,e].concat(n))},logWarn:function(e){for(var i,r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];this.config.debug>=1&&(i=console).warn.apply(i,[eo,Qi.warn,e].concat(n))},logError:function(e){var i;if(!(this.config.debug<1)){for(var r=this.config.debug>=2?"trace":"error",n=arguments.length,o=new Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];(i=console)[r].apply(i,[eo,Qi.error,e].concat(o))}}};function Yv(t){t.logInfo=j.logInfo.bind(t),t.logWarn=j.logWarn.bind(t),t.logError=j.logError.bind(t)}function pr(t){"@babel/helpers - typeof";return pr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pr(t)}function Xv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qv(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Zv(r.key),r)}}function Jv(t,e,i){return e&&qv(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zv(t){var e=Qv(t,"string");return pr(e)==="symbol"?e:String(e)}function Qv(t,e){if(pr(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(pr(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ey=function(){function t(e){Xv(this,t),this.bufferedList=e}return Jv(t,[{key:"start",value:function(i){return this.bufferedList[i].start}},{key:"end",value:function(i){return this.bufferedList[i].end}},{key:"length",get:function(){return this.bufferedList.length}}]),t}();function ty(t){return oy(t)||iy(t)||ry(t)||ny()}function ny(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ry(t,e){if(t){if(typeof t=="string")return Co(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Co(t,e)}}function iy(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function oy(t){if(Array.isArray(t))return Co(t)}function Co(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function _t(t){"@babel/helpers - typeof";return _t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_t(t)}var d={};d.createDom=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"div",e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"",n=document.createElement(t);return n.className=r,n.innerHTML=e,Object.keys(i).forEach(function(o){var a=o,s=i[o];t==="video"||t==="audio"||t==="live-video"?s&&n.setAttribute(a,s):n.setAttribute(a,s)}),n};d.createDomFromHtml=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";try{var r=document.createElement("div");r.innerHTML=t;var n=r.children;return r=null,n.length>0?(n=n[0],i&&d.addClass(n,i),e&&Object.keys(e).forEach(function(o){n.setAttribute(o,e[o])}),n):null}catch(o){return j.logError("util.createDomFromHtml",o),null}};d.hasClass=function(t,e){if(!t||!e)return!1;try{return Array.prototype.some.call(t.classList,function(r){return r===e})}catch{var i=t.className&&_t(t.className)==="object"?t.getAttribute("class"):t.className;return i&&!!i.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}};d.addClass=function(t,e){if(!(!t||!e))try{e.replace(/(^\s+|\s+$)/g,"").split(/\s+/g).forEach(function(i){i&&t.classList.add(i)})}catch{d.hasClass(t,e)||(t.className&&_t(t.className)==="object"?t.setAttribute("class",t.getAttribute("class")+" "+e):t.className+=" "+e)}};d.removeClass=function(t,e){if(!(!t||!e))try{e.replace(/(^\s+|\s+$)/g,"").split(/\s+/g).forEach(function(i){i&&t.classList.remove(i)})}catch{d.hasClass(t,e)&&e.split(/\s+/g).forEach(function(r){var n=new RegExp("(\\s|^)"+r+"(\\s|$)");t.className&&_t(t.className)==="object"?t.setAttribute("class",t.getAttribute("class").replace(n," ")):t.className=t.className.replace(n," ")})}};d.toggleClass=function(t,e){t&&e.split(/\s+/g).forEach(function(i){d.hasClass(t,i)?d.removeClass(t,i):d.addClass(t,i)})};d.classNames=function(){for(var t=arguments,e=[],i=function(o){d.typeOf(t[o])==="String"?e.push(t[o]):d.typeOf(t[o])==="Object"&&Object.keys(t[o]).map(function(a){t[o][a]&&e.push(a)})},r=0;r<arguments.length;r++)i(r);return e.join(" ")};d.findDom=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document,e=arguments.length>1?arguments[1]:void 0,i;try{i=t.querySelector(e)}catch(r){j.logError("util.findDom",r),e.indexOf("#")===0&&(i=t.getElementById(e.slice(1)))}return i};d.getCss=function(t,e){return t.currentStyle?t.currentStyle[e]:document.defaultView.getComputedStyle(t,!1)[e]};d.padStart=function(t,e,i){for(var r=String(i),n=e>>0,o=Math.ceil(n/r.length),a=[],s=String(t);o--;)a.push(r);return a.join("").substring(0,n-s.length)+s};d.format=function(t){if(window.isNaN(t))return"";t=Math.round(t);var e=d.padStart(Math.floor(t/3600),2,0),i=d.padStart(Math.floor((t-e*3600)/60),2,0),r=d.padStart(Math.floor(t-e*3600-i*60),2,0);return(e==="00"?[i,r]:[e,i,r]).join(":")};d.event=function(t){if(t.touches){var e=t.touches[0]||t.changedTouches[0];t.clientX=e.clientX||0,t.clientY=e.clientY||0,t.offsetX=e.pageX-e.target.offsetLeft,t.offsetY=e.pageY-e.target.offsetTop}t._target=t.target||t.srcElement};d.typeOf=function(t){return Object.prototype.toString.call(t).match(/([^\s.*]+)(?=]$)/g)[0]};d.deepCopy=function(t,e){if(d.typeOf(e)==="Object"&&d.typeOf(t)==="Object")return Object.keys(e).forEach(function(i){d.typeOf(e[i])==="Object"&&!(e[i]instanceof Node)?t[i]===void 0||t[i]===void 0?t[i]=e[i]:d.deepCopy(t[i],e[i]):d.typeOf(e[i])==="Array"?t[i]=d.typeOf(t[i])==="Array"?t[i].concat(e[i]):e[i]:t[i]=e[i]}),t};d.deepMerge=function(t,e){return Object.keys(e).map(function(i){if(d.typeOf(e[i])==="Array"&&d.typeOf(t[i])==="Array"){if(d.typeOf(t[i])==="Array"){var r;(r=t[i]).push.apply(r,ty(e[i]))}}else d.typeOf(t[i])===d.typeOf(e[i])&&t[i]!==null&&d.typeOf(t[i])==="Object"&&!(e[i]instanceof window.Node)?d.deepMerge(t[i],e[i]):e[i]!==null&&(t[i]=e[i])}),t};d.getBgImage=function(t){var e=(t.currentStyle||window.getComputedStyle(t,null)).backgroundImage;if(!e||e==="none")return"";var i=document.createElement("a");return i.href=e.replace(/url\("|"\)/g,""),i.href};d.copyDom=function(t){if(t&&t.nodeType===1){var e=document.createElement(t.tagName);return Array.prototype.forEach.call(t.attributes,function(i){e.setAttribute(i.name,i.value)}),t.innerHTML&&(e.innerHTML=t.innerHTML),e}else return""};d.setInterval=function(t,e,i,r){t._interval[e]||(t._interval[e]=window.setInterval(i.bind(t),r))};d.clearInterval=function(t,e){clearInterval(t._interval[e]),t._interval[e]=null};d.setTimeout=function(t,e,i){t._timers||(t._timers=[]);var r=setTimeout(function(){e(),d.clearTimeout(t,r)},i);return t._timers.push(r),r};d.clearTimeout=function(t,e){var i=t._timers;if(d.typeOf(i)==="Array"){for(var r=0;r<i.length;r++)if(i[r]===e){i.splice(r,1),clearTimeout(e);break}}else clearTimeout(e)};d.clearAllTimers=function(t){var e=t._timers;d.typeOf(e)==="Array"&&(e.map(function(i){clearTimeout(i)}),t._timerIds=[])};d.createImgBtn=function(t,e,i,r){var n=d.createDom("xg-".concat(t),"",{},"xgplayer-".concat(t,"-img"));if(n.style.backgroundImage='url("'.concat(e,'")'),i&&r){var o,a,s;["px","rem","em","pt","dp","vw","vh","vm","%"].every(function(u){return i.indexOf(u)>-1&&r.indexOf(u)>-1?(o=parseFloat(i.slice(0,i.indexOf(u)).trim()),a=parseFloat(r.slice(0,r.indexOf(u)).trim()),s=u,!1):!0}),n.style.width="".concat(o).concat(s),n.style.height="".concat(a).concat(s),n.style.backgroundSize="".concat(o).concat(s," ").concat(a).concat(s),t==="start"?n.style.margin="-".concat(a/2).concat(s," auto auto -").concat(o/2).concat(s):n.style.margin="auto 5px auto 5px"}return n};d.Hex2RGBA=function(t,e){var i=[];if(/^\#[0-9A-F]{3}$/i.test(t)){var r="#";t.replace(/[0-9A-F]/ig,function(n){r+=n+n}),t=r}return/^#[0-9A-F]{6}$/i.test(t)?(t.replace(/[0-9A-F]{2}/ig,function(n){i.push(parseInt(n,16))}),"rgba(".concat(i.join(","),", ").concat(e,")")):"rgba(255, 255, 255, 0.1)"};d.getFullScreenEl=function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement};d.checkIsFunction=function(t){return t&&typeof t=="function"};d.checkIsObject=function(t){return t!==null&&_t(t)==="object"};d.hide=function(t){t.style.display="none"};d.show=function(t,e){t.style.display=e||"block"};d.isUndefined=function(t){if(typeof t>"u"||t===null)return!0};d.setStyleFromCsstext=function(t,e){if(e)if(d.typeOf(e)==="String"){var i=e.replace(/\s+/g,"").split(";");i.map(function(r){if(r){var n=r.split(":");n.length>1&&(t.style[n[0]]=n[1])}})}else Object.keys(e).map(function(r){t.style[r]=e[r]})};function ay(t,e){for(var i=0,r=e.length;i<r;i++)if(t.indexOf(e[i])>-1)return!0;return!1}d.filterStyleFromText=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:["width","height","top","left","bottom","right","position","z-index","padding","margin","transform"],i=t.style.cssText;if(!i)return{};var r=i.replace(/\s+/g,"").split(";"),n={},o={};return r.map(function(a){if(a){var s=a.split(":");s.length>1&&(ay(s[0],e)?n[s[0]]=s[1]:o[s[0]]=s[1])}}),t.setAttribute("style",""),Object.keys(o).map(function(a){t.style[a]=o[a]}),n};d.getStyleFromCsstext=function(t){var e=t.style.cssText;if(!e)return{};var i=e.replace(/\s+/g,"").split(";"),r={};return i.map(function(n){if(n){var o=n.split(":");o.length>1&&(r[o[0]]=o[1])}}),r};d.preloadImg=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){};if(t){var r=new window.Image;r.onload=function(n){r=null,e&&e(n)},r.onerror=function(n){r=null,i&&i(n)},r.src=t}};d.stopPropagation=function(t){t&&(t.stopPropagation(),t.cancelable&&t.preventDefault())};d.scrollTop=function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0};d.scrollLeft=function(){return window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0};d.checkTouchSupport=function(){return"ontouchstart"in window};d.getBuffered2=function(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.5,i=[],r=0;r<t.length;r++)i.push({start:t.start(r)<.5?0:t.start(r),end:t.end(r)});i.sort(function(u,l){var c=u.start-l.start;return c||l.end-u.end});var n=[];if(e)for(var o=0;o<i.length;o++){var a=n.length;if(a){var s=n[a-1].end;i[o].start-s<e?i[o].end>s&&(n[a-1].end=i[o].end):n.push(i[o])}else n.push(i[o])}else n=i;return new ey(n)};d.getBufferByCurrentTime=function(t,e){var i={start:0,end:0,include:0,diff:0,cur:e};if(!t||t.length<1)return i;for(var r=-1,n=-1,o=parseInt(e*1e3,10),a=t.length-1;a>-1;a--){var s=parseInt(t.start(a)*1e3,10),u=parseInt(t.end(a)*1e3,10);if(o>=s&&o<=u){i.include=1,i.start=s/1e3,i.end=u/1e3,i.diff=(u-o)/1e3;break}else o<s&&(r<0||s-o<r)?(r=(s-o)/1e3,n=a):o>u&&(r<0||o-u<r)&&(r=(o-u)/1e3,n=a)}return i.include!==1&&(n<0&&(n=t.length-1),i.start=parseInt(t.start(n)*1e3,10)/1e3,i.end=parseInt(t.end(n)*1e3,10)/1e3,i.diff=(parseInt(i.end*1e3,10)-o)/1e3),i};d.getEventPos=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return t.touches&&t.touches.length>0&&(t=t.touches[0]),{x:t.x/e,y:t.y/e,clientX:t.clientX/e,clientY:t.clientY/e,offsetX:t.offsetX/e,offsetY:t.offsetY/e,pageX:t.pageX/e,pageY:t.pageY/e}};d.requestAnimationFrame=function(t){var e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(e)return e(t)};d.getHostFromUrl=function(t){if(d.typeOf(t)!=="String")return"";var e=t.split("/"),i="";return e.length>3&&e[2]&&(i=e[2]),i};d.cancelAnimationFrame=function(t){var e=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.cancelRequestAnimationFrame;e&&e(t)};d.isMSE=function(t){return t.media&&(t=t.media),!t||!(t instanceof HTMLMediaElement)?!1:/^blob/.test(t.currentSrc)||/^blob/.test(t.src)};d.isBlob=function(t){return typeof t=="string"&&/^blob/.test(t)};d.generateSessionId=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=new Date().getTime();try{t=parseInt(t)}catch{t=0}e+=t,window.performance&&typeof window.performance.now=="function"&&(e+=parseInt(window.performance.now()));var i="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){var n=(e+Math.random()*16)%16|0;return e=Math.floor(e/16),(r==="x"?n:n&3|8).toString(16)});return i};d.adjustTimeByDuration=function(t,e,i){return!e||!t?t:t>e||i&&t<e?e:t};d.getTransformStyle=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{x:0,y:0,scale:1,rotate:0},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i={scale:"".concat(t.scale||1),translate:"".concat(t.x||0,"%, ").concat(t.y||0,"%"),rotate:"".concat(t.rotate||0,"deg")},r=Object.keys(i);return r.forEach(function(n){var o=new RegExp("".concat(n,"\\([^\\(]+\\)"),"g"),a="".concat(n,"(").concat(i[n],")");o.test(e)?(o.lastIndex=-1,e=e.replace(o,a)):e+="".concat(a," ")}),e};d.convertDeg=function(t){return Math.abs(t)<=1?t*360:t%360};function El(t){var e=_t(t);return t!==null&&(e==="object"||e==="function")}function sy(t,e,i){var r,n,o,a,s,u,l=0,c=!1,f=!1,h=!0,p=!e&&e!==0&&typeof window.requestAnimationFrame=="function";if(typeof t!="function")throw new TypeError("Expected a function");e=+e||0,El(i)&&(c=!!i.leading,f="maxWait"in i,o=f?Math.max(+i.maxWait||0,e):o,h="trailing"in i?!!i.trailing:h);function y(H){var ne=r,J=n;return r=n=void 0,l=H,a=t.apply(J,ne),a}function v(H,ne){return p?(window.cancelAnimationFrame(s),window.requestAnimationFrame(H)):setTimeout(H,ne)}function m(H){if(p)return window.cancelAnimationFrame(H);clearTimeout(H)}function k(H){return l=H,s=v(z,e),c?y(H):a}function T(H){var ne=H-u,J=H-l,se=e-ne;return f?Math.min(se,o-J):se}function O(H){var ne=H-u,J=H-l;return u===void 0||ne>=e||ne<0||f&&J>=o}function z(){var H=Date.now();if(O(H))return F(H);s=v(z,T(H))}function F(H){return s=void 0,h&&r?y(H):(r=n=void 0,a)}function M(){s!==void 0&&m(s),l=0,r=u=n=s=void 0}function D(){return s===void 0?a:F(Date.now())}function W(){return s!==void 0}function Q(){for(var H=Date.now(),ne=O(H),J=arguments.length,se=new Array(J),me=0;me<J;me++)se[me]=arguments[me];if(r=se,n=this,u=H,ne){if(s===void 0)return k(u);if(f)return s=v(z,e),y(u)}return s===void 0&&(s=v(z,e)),a}return Q.cancel=M,Q.flush=D,Q.pending=W,Q}function uy(t,e,i){var r=!0,n=!0;if(typeof t!="function")throw new TypeError("Expected a function");return El(i)&&(r="leading"in i?!!i.leading:r,n="trailing"in i?!!i.trailing:n),sy(t,e,{leading:r,trailing:n,maxWait:e})}function ly(){var t=(document.documentElement.getAttribute("lang")||navigator.language||"zh-cn").toLocaleLowerCase();return t==="zh-cn"&&(t="zh"),t}function cy(t,e,i){if(t){var r=t.getAttribute(i);return!!(r&&r===e&&(t.tagName==="VIDEO"||t.tagName==="AUDIO"))}}function fy(t,e,i){return Object.defineProperty(t,"prototype",{writable:!1}),t}function dy(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var ys={1:"network",2:"network",3:"decoder",4:"format"},zr=fy(function t(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{errorType:"",errorCode:0,errorMessage:"",originError:"",ext:{},mediaError:null,src:null};dy(this,t);var r=e&&e.i18n?e.i18n.ERROR_TYPES:null;if(e!=null&&e.video){var n=i.mediaError?i.mediaError:e.video.error||{},o=e.duration,a=e.currentTime,s=e.ended,u=e.src,l=e.currentSrc,c=e.video,f=c.readyState,h=c.networkState,p={playerVersion:Eo,domain:document.domain,currentTime:a,duration:o,ended:s,readyState:f,networkState:h,src:i.src||u||l,errorType:i.errorType,errorCode:i.errorCode||n.code,message:i.errorMessage||n.message,mediaError:n,originError:i.originError?i.originError.stack:"",host:d.getHostFromUrl(u||l)};return i.ext&&Object.keys(i.ext).map(function(k){p[k]=i.ext[k]}),p}else if(arguments.length>1){for(var y={playerVersion:Eo,domain:document.domain},v=["errorType","currentTime","duration","networkState","readyState","src","currentSrc","ended","errd","errorCode","mediaError"],m=0;m<arguments.length;m++)y[v[m]]=arguments[m];return y.ex=r?(r[arguments[0]]||{}).msg:"",y}}),Ie="play",Xa="playing",it="ended",Rt="pause",ji="error",qa="seeking",Ue="seeked",Ee="timeupdate",Or="waiting",ze="canplay",hy="canplaythrough",Kn="durationchange",Cl="volumechange",Jt="loadeddata",py="loadedmetadata",Il="ratechange",$l="progress",Bi="loadstart",Gn="emptied",vy="stalled",yy="suspend",gy="abort",my="bufferedChange",Ja="focus",xl="blur",Za="ready",Rl="urlNull",vt="autoplay_started",Qa="autoplay_was_prevented",Fi="complete",Kr="replay",es="destroy",Hi="urlchange",Io="download_speed_change",Wt="buffer_control",Qe="fullscreen_change",Gr="cssFullscreen_change",Wr="mini_state_change",ts="definition_change",_y="before_definition_change",$o="after_definition_change",by="SEI_PARSED",wy="retry",Zt="video_resize",xo="pip_change",Ll="rotate",Al="screenShot",Yr="playnext",Dl="shortcut",Nl="xglog",Xr="user_action",Vi="reset",Ml="source_error",jl="source_success",Py="switch_subtitle",Bl=["play","playing","ended","pause","error","seeking","seeked","timeupdate","waiting","canplay","canplaythrough","durationchange","volumechange","loadeddata","loadedmetadata","ratechange","progress","loadstart","emptied","stalled","suspend","abort","lowdecode"],Fl={STATS_INFO:"stats_info",STATS_DOWNLOAD:"stats_download",STATS_RESET:"stats_reset"},Hl="fps_stuck",Sy="degrade";const ky=Object.freeze(Object.defineProperty({__proto__:null,ABORT:gy,AFTER_DEFINITION_CHANGE:$o,AUTOPLAY_PREVENTED:Qa,AUTOPLAY_STARTED:vt,BEFORE_DEFINITION_CHANGE:_y,BUFFER_CHANGE:my,BUFFER_CONTROLS:Wt,CANPLAY:ze,CANPLAY_THROUGH:hy,COMPLETE:Fi,CSS_FULLSCREEN_CHANGE:Gr,DEFINITION_CHANGE:ts,DEGRADE:Sy,DESTROY:es,DOWNLOAD_SPEED_CHANGE:Io,DURATION_CHANGE:Kn,EMPTIED:Gn,ENDED:it,ERROR:ji,FPS_STUCK:Hl,FULLSCREEN_CHANGE:Qe,LOADED_DATA:Jt,LOADED_METADATA:py,LOAD_START:Bi,MINI_STATE_CHANGE:Wr,PAUSE:Rt,PIP_CHANGE:xo,PLAY:Ie,PLAYER_BLUR:xl,PLAYER_FOCUS:Ja,PLAYING:Xa,PLAYNEXT:Yr,PROGRESS:$l,RATE_CHANGE:Il,READY:Za,REPLAY:Kr,RESET:Vi,RETRY:wy,ROTATE:Ll,SCREEN_SHOT:Al,SEEKED:Ue,SEEKING:qa,SEI_PARSED:by,SHORTCUT:Dl,SOURCE_ERROR:Ml,SOURCE_SUCCESS:jl,STALLED:vy,STATS_EVENTS:Fl,SUSPEND:yy,SWITCH_SUBTITLE:Py,TIME_UPDATE:Ee,URL_CHANGE:Hi,URL_NULL:Rl,USER_ACTION:Xr,VIDEO_EVENTS:Bl,VIDEO_RESIZE:Zt,VOLUME_CHANGE:Cl,WAITING:Or,XGLOG:Nl},Symbol.toStringTag,{value:"Module"}));var gs={android:/(Android)\s([\d.]+)/,ios:/(Version)\/([\d.]+)/},Oy=["avc1.42E01E, mp4a.40.2","avc1.58A01E, mp4a.40.2","avc1.4D401E, mp4a.40.2","avc1.64001E, mp4a.40.2","avc1.42E01E","mp4v.20.8","avc1.42E01E, mp4a.40.2","avc1.58A01E, mp4a.40.2","avc1.4D401E, mp4a.40.2","avc1.64001E, mp4a.40.2","mp4v.20.8, mp4a.40.2","mp4v.20.240, mp4a.40.2"],V={get device(){var t=V.os;return t.isPc?"pc":"mobile"},get browser(){if(typeof navigator>"u")return"";var t=navigator.userAgent.toLowerCase(),e={ie:/rv:([\d.]+)\) like gecko/,firefox:/firefox\/([\d.]+)/,chrome:/chrome\/([\d.]+)/,opera:/opera.([\d.]+)/,safari:/version\/([\d.]+).*safari/};return[].concat(Object.keys(e).filter(function(i){return e[i].test(t)}))[0]},get os(){if(typeof navigator>"u")return{};var t=navigator.userAgent,e=/(?:Windows Phone)/.test(t),i=/(?:SymbianOS)/.test(t)||e,r=/(?:Android)/.test(t),n=/(?:Firefox)/.test(t),o=/(?:iPad|PlayBook)/.test(t)||r&&!/(?:Mobile)/.test(t)||n&&/(?:Tablet)/.test(t),a=/(?:iPhone)/.test(t)&&!o,s=!a&&!r&&!i&&!o,u=/(?:iPad|PlayBook)/.test(t);return{isTablet:o,isPhone:a,isIpad:u,isIos:a||u,isAndroid:r,isPc:s,isSymbian:i,isWindowsPhone:e,isFireFox:n}},get osVersion(){if(typeof navigator>"u")return 0;var t=navigator.userAgent,e="";/(?:iPhone)|(?:iPad|PlayBook)/.test(t)?e=gs.ios:e=gs.android;var i=e?e.exec(t):[];if(i&&i.length>=3){var r=i[2].split(".");return r.length>0?parseInt(r[0]):0}return 0},get isWeixin(){if(typeof navigator>"u")return!1;var t=/(micromessenger)\/([\d.]+)/,e=t.exec(navigator.userAgent.toLocaleLowerCase());return!!e},isSupportMP4:function(){var e={isSupport:!1,mime:""};if(typeof document>"u")return e;if(this.supportResult)return this.supportResult;var i=document.createElement("video");return typeof i.canPlayType=="function"&&Oy.map(function(r){i.canPlayType('video/mp4; codecs="'.concat(r,'"'))==="probably"&&(e.isSupport=!0,e.mime+="||".concat(r))}),this.supportResult=e,i=null,e},isHevcSupported:function(){return typeof MediaSource>"u"||!MediaSource.isTypeSupported?!1:MediaSource.isTypeSupported('video/mp4;codecs="hev1.1.6.L120.90"')||MediaSource.isTypeSupported('video/mp4;codecs="hev1.2.4.L120.90"')||MediaSource.isTypeSupported('video/mp4;codecs="hev1.3.E.L120.90"')||MediaSource.isTypeSupported('video/mp4;codecs="hev1.4.10.L120.90"')},probeConfigSupported:function(e){var i={supported:!1,smooth:!1,powerEfficient:!1};if(!e||typeof navigator>"u")return Promise.resolve(i);if(navigator.mediaCapabilities&&navigator.mediaCapabilities.decodingInfo)return navigator.mediaCapabilities.decodingInfo(e);var r=e.video||{},n=e.audio||{};try{var o=MediaSource.isTypeSupported(r.contentType),a=MediaSource.isTypeSupported(n.contentType);return Promise.resolve({supported:o&&a,smooth:!1,powerEfficient:!1})}catch{return Promise.resolve(i)}}};function Qt(t){"@babel/helpers - typeof";return Qt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qt(t)}function Ty(t,e,i){return e=Vl(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Ey(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cy(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Vl(r.key),r)}}function Iy(t,e,i){return e&&Cy(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vl(t){var e=$y(t,"string");return Qt(e)==="symbol"?e:String(e)}function $y(t,e){if(Qt(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(Qt(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function et(){return typeof Reflect<"u"&&Reflect.get?et=Reflect.get.bind():et=function(e,i,r){var n=xy(e,i);if(n){var o=Object.getOwnPropertyDescriptor(n,i);return o.get?o.get.call(arguments.length<3?e:r):o.value}},et.apply(this,arguments)}function xy(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=De(t),t!==null););return t}function Ry(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ro(t,e)}function Ro(t,e){return Ro=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Ro(t,e)}function Ly(t){var e=Ny();return function(){var r=De(t),n;if(e){var o=De(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ay(this,n)}}function Ay(t,e){if(e&&(Qt(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dy(t)}function Dy(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ny(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function De(t){return De=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},De(t)}function to(t,e){!this||!this.emit||(t==="error"?this.errorHandler(t,e.error):this.emit(t,e))}function My(t,e){var i="on".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));return e[i]&&typeof e[i]=="function"&&e.on(t,e[i]),function(r,n){var o=t,a={player:e,eventName:o,originalEvent:r,detail:r.detail||{},timeStamp:r.timeStamp,currentTime:e.currentTime,duration:e.duration,paused:e.paused,ended:e.ended,isInternalOp:!!e._internalOp[r.type],muted:e.muted,volume:e.volume,host:d.getHostFromUrl(e.currentSrc),vtype:e.vtype};if(e.removeInnerOP(r.type),o==="timeupdate"&&(e._currentTime=e.video&&e.video.currentTime),o==="ratechange"){var s=e.video?e.video.playbackRate:0;if(s&&e._rate===s)return;e._rate=e.video&&e.video.playbackRate}if(o==="durationchange"&&(e._duration=e.video.duration),o==="volumechange"&&(a.isMutedChange=e._lastMuted!==e.muted,e._lastMuted=e.muted),o==="error"&&(a.error=n||e.video.error),e.videoEventMiddleware[t]){var u=to.bind(e,t,a);try{e.videoEventMiddleware[t].call(e,a,u)}catch(l){throw to.call(e,o,a),l}}else to.call(e,o,a)}}var jy=function(t){Ry(i,t);var e=Ly(i);function i(r){var n;Ey(this,i),n=e.call(this,r),n._hasStart=!1,n._currentTime=0,n._duration=0,n._internalOp={},n._lastMuted=!1,n.vtype=r.vtype||"MP4",n.bizType=typeof r.bizType=="number"&&r.bizType>=0?r.bizType:0,n._rate=-1,n.videoConfig=Object.assign({},{controls:!1,autoplay:r.autoplay,playsinline:r.playsinline,"x5-playsinline":r.playsinline,"webkit-playsinline":r.playsinline,"x5-video-player-fullscreen":r["x5-video-player-fullscreen"]||r.x5VideoPlayerFullscreen,"x5-video-orientation":r["x5-video-orientation"]||r.x5VideoOrientation,airplay:r.airplay,"webkit-airplay":r.airplay,tabindex:r.tabindex|0,mediaType:r.mediaType||"video","data-index":-1},r.videoConfig,r.videoAttributes);var o=r["x5-video-player-type"]||r.x5VideoPlayerType;return V.isWeixin&&V.os.isAndroid&&o&&(n.videoConfig["x5-video-player-type"]=o,delete n.videoConfig.playsinline,delete n.videoConfig["webkit-playsinline"],delete n.videoConfig["x5-playsinline"]),r.loop&&(n.videoConfig.loop="loop"),n.video=d.createDom(n.videoConfig.mediaType,"",n.videoConfig,""),r.defaultPlaybackRate&&(n.video.defaultPlaybackRate=n.video.playbackRate=r.defaultPlaybackRate),d.typeOf(r.volume)==="Number"&&(n.volume=r.volume),r.autoplayMuted&&(n.video.muted=!0,n._lastMuted=!0),r.autoplay&&(n.video.autoplay=!0),n._interval={},n.videoEventMiddleware={},n.attachVideoEvents(),n}return Iy(i,[{key:"setEventsMiddleware",value:function(n){var o=this;Object.keys(n).map(function(a){o.videoEventMiddleware[a]=n[a]})}},{key:"removeEventsMiddleware",value:function(n){var o=this;Object.keys(n).map(function(a){delete o.videoEventMiddleware[a]})}},{key:"attachVideoEvents",value:function(n){var o=this;this.evHandlers||(this._evHandlers=Bl.map(function(a){return Ty({},a,My(a,o))})),n||(n=this.video),this._evHandlers.forEach(function(a){var s=Object.keys(a)[0];n.addEventListener(s,a[s],!1)})}},{key:"detachVideoEvents",value:function(n){n||(n=this.video),this._evHandlers.map(function(o){var a=Object.keys(o)[0];n.removeEventListener(Object.keys(o)[0],o[a],!1)})}},{key:"_attachSourceEvents",value:function(n,o){var a=this;n.removeAttribute("src"),n.load(),n.removeEventListener("loadeddata",this._vLoadeddata),o.forEach(function(f){a.video.appendChild(d.createDom("source","",{src:"".concat(f.src),type:"".concat(f.type||"")}))});var s=n.children;if(s){this._videoSourceCount=s.length,this._vLoadeddata=function(f){a.emit(jl,{src:f.target.currentSrc,host:d.getHostFromUrl(f.target.currentSrc)})};for(var u=null,l=0;l<this._evHandlers.length;l++)if(Object.keys(this._evHandlers[l])[0]==="error"){u=this._evHandlers[l];break}!this._sourceError&&(this._sourceError=function(f){if(a._videoSourceCount--,a._videoSourceCount===0){var h={code:4,message:"sources_load_error"};u?u.error(f,h):a.errorHandler("error",h)}var p=ys[4];a.emit(Ml,new zr(a,{errorType:p,errorCode:4,errorMessage:"sources_load_error",mediaError:{code:4,message:"sources_load_error"},src:f.target.src}))});for(var c=0;c<s.length;c++)s[c].addEventListener("error",this._sourceError);n.addEventListener("loadeddata",this._vLoadeddata)}}},{key:"_detachSourceEvents",value:function(n){var o=n.children;if(!(!o||o.length===0||!this._sourceError)){for(var a=0;a<o.length;a++)o[a].removeEventListener("error",this._sourceError);for(;o.length>0;)n.removeChild(o[0]);this._vLoadeddata&&n.removeEventListener("loadeddata",this._vLoadeddata)}}},{key:"errorHandler",value:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.video&&(this.video.error||o)){var a=this.video.error||o,s=a.code?ys[a.code]:"other",u=a.message||"";this.video.currentSrc||(u="empty_src_".concat(a.message),a={code:6,message:u}),this.emit(n,new zr(this,{errorType:s,errorCode:a.code,errorMessage:a.message||"",mediaError:a}))}}},{key:"hasStart",get:function(){return this._hasStart},set:function(n){typeof n=="boolean"&&(this._hasStart=n,this.emit("hasstart"))}},{key:"destroy",value:function(){var n=this;this.video&&(this.video.pause&&(this.video.pause(),this.video.muted=!0),this.video.removeAttribute("src"),this.video.load()),this._currentTime=0,this._duration=0,this._hasStart=!1,this.videoConfig=null;for(var o in this._interval)Object.prototype.hasOwnProperty.call(this._interval,o)&&(clearInterval(this._interval[o]),this._interval[o]=null);this.detachVideoEvents(),this._evHandlers.map(function(a){var s=Object.keys(a)[0],u="on".concat(s.charAt(0).toUpperCase()).concat(s.slice(1));typeof n[u]=="function"&&n.off(s,n[u])}),this._evHandlers=null,this.video=null,this.videoEventMiddleware={},this.removeAllListeners()}},{key:"play",value:function(){var n=this.video?this.video.play():null;return n}},{key:"pause",value:function(){this.video&&this.video.pause()}},{key:"load",value:function(){this.video&&this.video.load()}},{key:"canPlayType",value:function(n){return this.video?this.video.canPlayType(n):!1}},{key:"getBufferedRange",value:function(n){var o=[0,0];if(!this.video)return o;n||(n=this.video.buffered);var a=this.video.currentTime;if(n)for(var s=0,u=n.length;s<u&&(o[0]=n.start(s),o[1]=n.end(s),!(o[0]<=a&&a<=o[1]));s++);return o[0]-a<=0&&a-o[1]<=0?o:[0,0]}},{key:"autoplay",get:function(){return this.video?this.video.autoplay:!1},set:function(n){this.video&&(this.video.autoplay=n)}},{key:"buffered",get:function(){return this.video?this.video.buffered:null}},{key:"buffered2",get:function(){return this.video?d.getBuffered2(this.video.buffered):null}},{key:"bufferedPoint",get:function(){var n={start:0,end:0};if(!this.video)return n;var o=this.video.buffered;if(!o||o.length===0)return n;for(var a=0;a<o.length;a++)if((o.start(a)<=this.currentTime||o.start(a)<.1)&&o.end(a)>=this.currentTime)return{start:o.start(a),end:o.end(a)};return n}},{key:"crossOrigin",get:function(){return this.video?this.video.crossOrigin:""},set:function(n){this.video&&(this.video.crossOrigin=n)}},{key:"currentSrc",get:function(){return this.video?this.video.currentSrc:""},set:function(n){this.video&&(this.video.currentSrc=n)}},{key:"currentTime",get:function(){return this.video?this.video.currentTime!==void 0?this.video.currentTime:this._currentTime:0},set:function(n){this.video&&(this.video.currentTime=n)}},{key:"defaultMuted",get:function(){return this.video?this.video.defaultMuted:!1},set:function(n){this.video&&(this.video.defaultMuted=n)}},{key:"duration",get:function(){return this._duration}},{key:"ended",get:function(){return this.video?this.video.ended:!1}},{key:"error",get:function(){if(!this.video||!this.video.error)return null;var n=["MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED"];return n[this.video.error.code-1]}},{key:"loop",get:function(){return this.video?this.video.loop:!1},set:function(n){this.video&&(this.video.loop=n)}},{key:"muted",get:function(){return this.video?this.video.muted:!1},set:function(n){!this.video||this.video.muted===n||(this._lastMuted=this.video.muted,this.video.muted=n)}},{key:"networkState",get:function(){return this.video?this.video.networkState:0}},{key:"paused",get:function(){return this.video?this.video.paused:!0}},{key:"playbackRate",get:function(){return this.video?this.video.playbackRate:0},set:function(n){!this.video||n===1/0||(this.video.defaultPlaybackRate=n,this.video.playbackRate=n)}},{key:"played",get:function(){return this.video?this.video.played:null}},{key:"preload",get:function(){return this.video?this.video.preload:!1},set:function(n){this.video&&(this.video.preload=n)}},{key:"readyState",get:function(){return this.video?this.video.readyState:0}},{key:"seekable",get:function(){return this.video?this.video.seekable:!1}},{key:"seeking",get:function(){return this.video?this.video.seeking:!1}},{key:"src",get:function(){return this.video?this.video.src:""},set:function(n){this.video.src=n}},{key:"volume",get:function(){return this.video?this.video.volume:0},set:function(n){n===1/0||!this.video||(this.video.volume=n)}},{key:"addInnerOP",value:function(n){this._internalOp[n]=!0}},{key:"removeInnerOP",value:function(n){delete this._internalOp[n]}},{key:"emit",value:function(n,o){for(var a,s=arguments.length,u=new Array(s>2?s-2:0),l=2;l<s;l++)u[l-2]=arguments[l];(a=et(De(i.prototype),"emit",this)).call.apply(a,[this,n,o].concat(u))}},{key:"on",value:function(n,o){for(var a,s=arguments.length,u=new Array(s>2?s-2:0),l=2;l<s;l++)u[l-2]=arguments[l];(a=et(De(i.prototype),"on",this)).call.apply(a,[this,n,o].concat(u))}},{key:"once",value:function(n,o){for(var a,s=arguments.length,u=new Array(s>2?s-2:0),l=2;l<s;l++)u[l-2]=arguments[l];(a=et(De(i.prototype),"once",this)).call.apply(a,[this,n,o].concat(u))}},{key:"off",value:function(n,o){for(var a,s=arguments.length,u=new Array(s>2?s-2:0),l=2;l<s;l++)u[l-2]=arguments[l];(a=et(De(i.prototype),"off",this)).call.apply(a,[this,n,o].concat(u))}},{key:"offAll",value:function(){et(De(i.prototype),"removeAllListeners",this).call(this)}}]),i}(Tl);function vr(t){"@babel/helpers - typeof";return vr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vr(t)}function By(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fy(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Vy(r.key),r)}}function Hy(t,e,i){return e&&Fy(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vy(t){var e=Uy(t,"string");return vr(e)==="symbol"?e:String(e)}function Uy(t,e){if(vr(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(vr(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zy=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{name:"xgplayer",version:1,db:null,ojstore:{name:"xg-m4a",keypath:"vid"}};By(this,t),this.indexedDB=window.indexedDB||window.webkitindexedDB,this.IDBKeyRange=window.IDBKeyRange||window.webkitIDBKeyRange,this.myDB=e}return Hy(t,[{key:"openDB",value:function(i){var r=this,n=this,o=this.myDB.version||1,a=n.indexedDB.open(n.myDB.name,o);a.onerror=function(s){},a.onsuccess=function(s){r.myDB.db=s.target.result,i.call(n)},a.onupgradeneeded=function(s){var u=s.target.result;s.target.transaction,u.objectStoreNames.contains(n.myDB.ojstore.name)||u.createObjectStore(n.myDB.ojstore.name,{keyPath:n.myDB.ojstore.keypath})}}},{key:"deletedb",value:function(){var i=this;i.indexedDB.deleteDatabase(this.myDB.name)}},{key:"closeDB",value:function(){this.myDB.db.close()}},{key:"addData",value:function(i,r){for(var n=this.myDB.db.transaction(i,"readwrite").objectStore(i),o,a=0;a<r.length;a++)o=n.add(r[a]),o.onerror=function(){},o.onsuccess=function(){}}},{key:"putData",value:function(i,r){for(var n=this.myDB.db.transaction(i,"readwrite").objectStore(i),o,a=0;a<r.length;a++)o=n.put(r[a]),o.onerror=function(){},o.onsuccess=function(){}}},{key:"getDataByKey",value:function(i,r,n){var o=this,a=this.myDB.db.transaction(i,"readwrite").objectStore(i),s=a.get(r);s.onerror=function(){n.call(o,null)},s.onsuccess=function(u){var l=u.target.result;n.call(o,l)}}},{key:"deleteData",value:function(i,r){var n=this.myDB.db.transaction(i,"readwrite").objectStore(i);n.delete(r)}},{key:"clearData",value:function(i){var r=this.myDB.db.transaction(i,"readwrite").objectStore(i);r.clear()}}]),t}(),ms=["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],_s=["requestFullscreen","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen"],bs=["exitFullscreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen"],ut="data-xgplayerid",Ul={BUFFER_CONTROLS:"buffer_control"},Lo={PLAYING:"playing",WAITING:"waiting"};function Ky(t){return Xy(t)||Yy(t)||Wy(t)||Gy()}function Gy(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wy(t,e){if(t){if(typeof t=="string")return Ao(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Ao(t,e)}}function Yy(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Xy(t){if(Array.isArray(t))return Ao(t)}function Ao(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function $r(t,e,i){for(var r=arguments.length,n=new Array(r>3?r-3:0),o=3;o<r;o++)n[o-3]=arguments[o];var a=e.call.apply(e,[t].concat(n));!i||typeof i!="function"||(a&&a.then?a.then(function(){for(var s=arguments.length,u=new Array(s),l=0;l<s;l++)u[l]=arguments[l];i.call.apply(i,[t].concat(u))}):i.call.apply(i,[t].concat(n)))}function qr(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{pre:null,next:null};return this.__hooks||(this.__hooks={}),!this.__hooks[t]&&(this.__hooks[t]=null),(function(){var r=arguments,n=this;if(i.pre)try{var o;(o=i.pre).call.apply(o,[this].concat(Array.prototype.slice.call(arguments)))}catch(u){throw u.message="[pluginName: ".concat(this.pluginName,":").concat(t,":pre error] >> ").concat(u.message),u}if(this.__hooks&&this.__hooks[t])try{var a,s=(a=this.__hooks[t]).call.apply(a,[this,this].concat(Array.prototype.slice.call(arguments)));s?s.then?s.then(function(u){u!==!1&&$r.apply(void 0,[n,e,i.next].concat(Ky(r)))}).catch(function(u){throw u}):$r.apply(void 0,[this,e,i.next].concat(Array.prototype.slice.call(arguments))):s===void 0&&$r.apply(void 0,[this,e,i.next].concat(Array.prototype.slice.call(arguments)))}catch(u){throw u.message="[pluginName: ".concat(this.pluginName,":").concat(t,"] >> ").concat(u.message),u}else $r.apply(void 0,[this,e,i.next].concat(Array.prototype.slice.call(arguments)))}).bind(this)}function Jr(t,e){var i=this.__hooks;if(i)return i.hasOwnProperty(t)?(i&&(i[t]=e),!0):(console.warn("has no supported hook which name [".concat(t,"]")),!1)}function Zr(t,e){var i=this.__hooks;i&&delete i[t]}function ws(t){if(!(!this.plugins||!this.plugins[t.toLowerCase()])){for(var e=this.plugins[t.toLowerCase()],i=arguments.length,r=new Array(i>1?i-1:0),n=1;n<i;n++)r[n-1]=arguments[n];return e.useHooks&&e.useHooks.apply(e,r)}}function Ps(t){if(!(!this.plugins||!this.plugins[t.toLowerCase()])){var e=this.plugins[t.toLowerCase()];if(e){for(var i=arguments.length,r=new Array(i>1?i-1:0),n=1;n<i;n++)r[n-1]=arguments[n];return e.removeHooks&&e.removeHooks.apply(e,r)}}}function zl(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];t.__hooks={},e&&e.map(function(i){t.__hooks[i]=null}),Object.defineProperty(t,"hooks",{get:function(){return t.__hooks&&Object.keys(t.__hooks).map(function(r){if(t.__hooks[r])return r})}})}function Kl(t){t.__hooks=null}function Fe(t,e,i){for(var r=arguments.length,n=new Array(r>3?r-3:0),o=3;o<r;o++)n[o-3]=arguments[o];if(t.__hooks&&t.__hooks[e]){var a,s=(a=t.__hooks[e]).call.apply(a,[t,t].concat(n));if(s&&s.then)s.then(function(u){return u===!1?null:i.call.apply(i,[t,t].concat(n))}).catch(function(u){console.warn("[runHooks]".concat(e," reject"),u.message)});else if(s!==!1)return i.call.apply(i,[t,t].concat(n))}else return i.call.apply(i,[t,t].concat(n))}function yr(t){"@babel/helpers - typeof";return yr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yr(t)}function Ss(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function ks(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Ss(Object(i),!0).forEach(function(r){qy(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Ss(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function qy(t,e,i){return e=Gl(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Jy(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Os(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Gl(r.key),r)}}function Zy(t,e,i){return e&&Os(t.prototype,e),i&&Os(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gl(t){var e=Qy(t,"string");return yr(e)==="symbol"?e:String(e)}function Qy(t,e){if(yr(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(yr(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function no(t,e){j.logError("[".concat(t,"] event or callback cant be undefined or null when call ").concat(e))}var bt=function(){function t(e){Jy(this,t),d.checkIsFunction(this.beforeCreate)&&this.beforeCreate(e),zl(this),this.__args=e,this.__events={},this.__onceEvents={},this.config=e.config||{},this.player=null,this.playerConfig={},this.pluginName="",this.__init(e)}return Zy(t,[{key:"beforeCreate",value:function(i){}},{key:"afterCreate",value:function(){}},{key:"beforePlayerInit",value:function(){}},{key:"onPluginsReady",value:function(){}},{key:"afterPlayerInit",value:function(){}},{key:"destroy",value:function(){}},{key:"__init",value:function(i){this.player=i.player,this.playerConfig=i.player&&i.player.config,this.pluginName=i.pluginName?i.pluginName.toLowerCase():this.constructor.pluginName.toLowerCase(),this.logger=i.player&&i.player.logger}},{key:"updateLang",value:function(i){i||(i=this.lang)}},{key:"lang",get:function(){return this.player.lang}},{key:"i18n",get:function(){return this.player.i18n}},{key:"i18nKeys",get:function(){return this.player.i18nKeys}},{key:"domEventType",get:function(){var i=d.checkTouchSupport()?"touch":"mouse";return this.playerConfig&&(this.playerConfig.domEventType==="touch"||this.playerConfig.domEventType==="mouse")&&(i=this.playerConfig.domEventType),i}},{key:"on",value:function(i,r){var n=this;if(!i||!r||!this.player){no(this.pluginName,"plugin.on(event, callback)");return}typeof i=="string"?(this.__events[i]=r,this.player.on(i,r)):Array.isArray(i)&&i.forEach(function(o){n.__events[o]=r,n.player.on(o,r)})}},{key:"once",value:function(i,r){var n=this;if(!i||!r||!this.player){no(this.pluginName,"plugin.once(event, callback)");return}typeof i=="string"?(this.__onceEvents[i]=r,this.player.once(i,r)):Array.isArray(i)&&i.forEach(function(o){n.__onceEvents[o]=r,n.player.once(i,r)})}},{key:"off",value:function(i,r){var n=this;if(!i||!r||!this.player){no(this.pluginName,"plugin.off(event, callback)");return}typeof i=="string"?(delete this.__events[i],this.player.off(i,r)):Array.isArray(i)&&i.forEach(function(o){delete n.__events[i],n.player.off(o,r)})}},{key:"offAll",value:function(){var i=this;["__events","__onceEvents"].forEach(function(r){Object.keys(i[r]).forEach(function(n){i[r][n]&&i.off(n,i[r][n]),n&&delete i[r][n]})}),this.__events={},this.__onceEvents={}}},{key:"emit",value:function(i){var r;if(this.player){for(var n=arguments.length,o=new Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];(r=this.player).emit.apply(r,[i].concat(o))}}},{key:"emitUserAction",value:function(i,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.player){var o=ks(ks({},n),{},{pluginName:this.pluginName});this.player.emitUserAction(i,r,o)}}},{key:"hook",value:function(i,r){return qr.call.apply(qr,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"useHooks",value:function(i,r){for(var n=arguments.length,o=new Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];return Jr.call.apply(Jr,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"removeHooks",value:function(i,r){for(var n=arguments.length,o=new Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];return Zr.call.apply(Zr,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"registerPlugin",value:function(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";if(this.player)return n&&(r.pluginName=n),this.player.registerPlugin({plugin:i,options:r})}},{key:"getPlugin",value:function(i){return this.player?this.player.getPlugin(i):null}},{key:"__destroy",value:function(){var i=this,r=this.player,n=this.pluginName;this.offAll(),d.clearAllTimers(this),d.checkIsFunction(this.destroy)&&this.destroy(),["player","playerConfig","pluginName","logger","__args","__hooks"].map(function(o){i[o]=null}),r.unRegisterPlugin(n),Kl(this)}}],[{key:"defineGetterOrSetter",value:function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&Object.defineProperty(i,n,r[n])}},{key:"defaultConfig",get:function(){return{}}},{key:"pluginName",get:function(){return"pluginName"}}]),t}(),eg=9;if(typeof Element<"u"&&!Element.prototype.matches){var Dt=Element.prototype;Dt.matches=Dt.matchesSelector||Dt.mozMatchesSelector||Dt.msMatchesSelector||Dt.oMatchesSelector||Dt.webkitMatchesSelector}function tg(t,e){for(;t&&t.nodeType!==eg;){if(typeof t.matches=="function"&&t.matches(e))return t;t=t.parentNode}}var ng=tg,rg=ng;function ro(t,e,i,r,n){var o=og.apply(this,arguments);return t.addEventListener(i,o,n),{destroy:function(){t.removeEventListener(i,o,n)}}}function ig(t,e,i,r,n){return typeof t.addEventListener=="function"?ro.apply(null,arguments):typeof i=="function"?ro.bind(null,document).apply(null,arguments):(typeof t=="string"&&(t=document.querySelectorAll(t)),Array.prototype.map.call(t,function(o){return ro(o,e,i,r,n)}))}function og(t,e,i,r){return function(n){n.delegateTarget=rg(n.target,e),n.delegateTarget&&r.call(t,n)}}var ag=ig;const Ts=Ya(ag);function sg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Es(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lg(r.key),r)}}function ug(t,e,i){return e&&Es(t.prototype,e),i&&Es(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function lg(t){var e=cg(t,"string");return Ce(e)==="symbol"?e:String(e)}function cg(t,e){if(Ce(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(Ce(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Yt(){return typeof Reflect<"u"&&Reflect.get?Yt=Reflect.get.bind():Yt=function(e,i,r){var n=fg(e,i);if(n){var o=Object.getOwnPropertyDescriptor(n,i);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Yt.apply(this,arguments)}function fg(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=nt(t),t!==null););return t}function dg(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Do(t,e)}function Do(t,e){return Do=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Do(t,e)}function hg(t){var e=yg();return function(){var r=nt(t),n;if(e){var o=nt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pg(this,n)}}function pg(t,e){if(e&&(Ce(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vg(t)}function vg(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yg(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function nt(t){return nt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},nt(t)}function Ce(t){"@babel/helpers - typeof";return Ce=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ce(t)}var gg={CONTROLS:"controls",ROOT:"root"},Z={ROOT:"root",ROOT_LEFT:"rootLeft",ROOT_RIGHT:"rootRight",ROOT_TOP:"rootTop",CONTROLS_LEFT:"controlsLeft",CONTROLS_RIGTH:"controlsRight",CONTROLS_RIGHT:"controlsRight",CONTROLS_CENTER:"controlsCenter",CONTROLS:"controls"},Cs={ICON_DISABLE:"xg-icon-disable",ICON_HIDE:"xg-icon-hide"};function io(t){return t?t.indexOf&&/^(?:http|data:|\/)/.test(t):!1}function mg(t,e){return Ce(t)==="object"&&t.class&&typeof t.class=="string"?"".concat(e," ").concat(t.class):e}function _g(t,e){return Ce(t)==="object"&&t.attr&&Ce(t.attr)==="object"&&Object.keys(t.attr).map(function(i){e[i]=t.attr[i]}),e}function Is(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"",o=null;if(t instanceof window.Element)return d.addClass(t,i),Object.keys(r).map(function(a){t.setAttribute(a,r[a])}),t;if(io(t)||io(t.url))return r.src=io(t)?t:t.url||"",o=d.createDom(t.tag||"img","",r,"xg-img ".concat(i)),o;if(typeof t=="function")try{return o=t(),o instanceof window.Element?(d.addClass(o,i),Object.keys(r).map(function(a){o.setAttribute(a,r[a])}),o):(j.logWarn("warn>>icons.".concat(e," in config of plugin named [").concat(n,"] is a function mast return an Element Object")),null)}catch(a){return j.logError("Plugin named [".concat(n,"]:createIcon"),a),null}return typeof t=="string"?d.createDomFromHtml(t,r,i):(j.logWarn("warn>>icons.".concat(e," in config of plugin named [").concat(n,"] is invalid")),null)}function bg(t,e){var i=e.config.icons||e.playerConfig.icons;Object.keys(t).map(function(r){var n=t[r],o=n&&n.class?n.class:"",a=n&&n.attr?n.attr:{},s=null;i&&i[r]&&(o=mg(i[r],o),a=_g(i[r],a),s=Is(i[r],r,o,a,e.pluginName)),!s&&n&&(s=Is(n.icon?n.icon:n,a,o,{},e.pluginName)),e.icons[r]=s})}function wg(t,e){Object.keys(t).map(function(i){Object.defineProperty(e.langText,i,{get:function(){var n=e.lang,o=e.i18n;return o[i]?o[i]:t[i]&&t[i][n]||""}})})}var G=function(t){dg(i,t);var e=hg(i);function i(){var r,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return sg(this,i),r=e.call(this,n),r.__delegates=[],r}return ug(i,[{key:"__init",value:function(n){if(Yt(nt(i.prototype),"__init",this).call(this,n),!!n.root){var o=n.root,a=null;this.icons={},this.root=null,this.parent=null;var s=this.registerIcons()||{};bg(s,this),this.langText={};var u=this.registerLanguageTexts()||{};wg(u,this);var l="";try{l=this.render()}catch(h){throw j.logError("Plugin:".concat(this.pluginName,":render"),h),new Error("Plugin:".concat(this.pluginName,":render:").concat(h.message))}if(l)a=i.insert(l,o,n.index),a.setAttribute("data-index",n.index);else if(n.tag)a=d.createDom(n.tag,"",n.attr,n.name),a.setAttribute("data-index",n.index),o.appendChild(a);else return;this.root=a,this.parent=o;var c=this.config.attr||{},f=this.config.style||{};this.setAttr(c),this.setStyle(f),this.config.index&&this.root.setAttribute("data-index",this.config.index),this.__registerChildren()}}},{key:"__registerChildren",value:function(){var n=this;if(this.root){this._children=[];var o=this.children();o&&Ce(o)==="object"&&Object.keys(o).length>0&&Object.keys(o).map(function(a){var s=a,u=o[s],l={root:n.root},c,f;typeof u=="function"?(c=n.config[s]||{},f=u):Ce(u)==="object"&&typeof u.plugin=="function"&&(c=u.options?d.deepCopy(n.config[s]||{},u.options):n.config[s]||{},f=u.plugin),l.config=c,c.index!==void 0&&(l.index=c.index),c.root&&(l.root=c.root),n.registerPlugin(f,l,s)})}}},{key:"updateLang",value:function(n){n||(n=this.lang);function o(l,c){for(var f=0;f<l.children.length;f++)l.children[f].children.length>0?o(l.children[f],c):c(l.children[f])}var a=this.root,s=this.i18n,u=this.langText;a&&o(a,function(l){var c=l.getAttribute&&l.getAttribute("lang-key");if(c){var f=s[c.toUpperCase()]||u[c];f&&(l.innerHTML=typeof f=="function"?f(n):f)}})}},{key:"lang",get:function(){return this.player.lang}},{key:"changeLangTextKey",value:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",a=this.i18n||{},s=this.langText;n.setAttribute&&n.setAttribute("lang-key",o);var u=a[o]||s[o]||"";u&&(n.innerHTML=u)}},{key:"plugins",value:function(){return this._children}},{key:"disable",value:function(){this.config.disable=!0,d.addClass(this.find(".xgplayer-icon"),Cs.ICON_DISABLE)}},{key:"enable",value:function(){this.config.disable=!1,d.removeClass(this.find(".xgplayer-icon"),Cs.ICON_DISABLE)}},{key:"children",value:function(){return{}}},{key:"registerPlugin",value:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";o.root=o.root||this.root;var s=Yt(nt(i.prototype),"registerPlugin",this).call(this,n,o,a);return this._children.push(s),s}},{key:"registerIcons",value:function(){return{}}},{key:"registerLanguageTexts",value:function(){return{}}},{key:"find",value:function(n){if(this.root)return this.root.querySelector(n)}},{key:"bind",value:function(n,o,a){var s=this;if(arguments.length<3&&typeof o=="function")Array.isArray(n)?n.forEach(function(l){s.bindEL(l,o)}):this.bindEL(n,o);else{var u=i.delegate.call(this,this.root,n,o,a);this.__delegates=this.__delegates.concat(u)}}},{key:"unbind",value:function(n,o){var a=this;if(arguments.length<3&&typeof o=="function")Array.isArray(n)?n.forEach(function(l){a.unbindEL(l,o)}):this.unbindEL(n,o);else for(var s="".concat(n,"_").concat(o),u=0;u<this.__delegates.length;u++)if(this.__delegates[u].key===s){this.__delegates[u].destroy(),this.__delegates.splice(u,1);break}}},{key:"setStyle",value:function(n,o){var a=this;if(this.root){if(d.typeOf(n)==="String")return this.root.style[n]=o;d.typeOf(n)==="Object"&&Object.keys(n).map(function(s){a.root.style[s]=n[s]})}}},{key:"setAttr",value:function(n,o){var a=this;if(this.root){if(d.typeOf(n)==="String")return this.root.setAttribute(n,o);d.typeOf(n)==="Object"&&Object.keys(n).map(function(s){a.root.setAttribute(s,n[s])})}}},{key:"setHtml",value:function(n,o){this.root&&(this.root.innerHTML=n,typeof o=="function"&&o())}},{key:"bindEL",value:function(n,o){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.root&&"on".concat(n)in this.root&&typeof o=="function"&&this.root.addEventListener(n,o,a)}},{key:"unbindEL",value:function(n,o){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.root&&"on".concat(n)in this.root&&typeof o=="function"&&this.root.removeEventListener(n,o,a)}},{key:"show",value:function(n){if(this.root){this.root.style.display=n!==void 0?n:"block";var o=window.getComputedStyle(this.root,null),a=o.getPropertyValue("display");if(a==="none")return this.root.style.display="block"}}},{key:"hide",value:function(){this.root&&(this.root.style.display="none")}},{key:"appendChild",value:function(n,o){if(!this.root)return null;if(arguments.length<2&&arguments[0]instanceof window.Element)return this.root.appendChild(arguments[0]);if(!o||!(o instanceof window.Element))return null;try{return typeof n=="string"?this.find(n).appendChild(o):n.appendChild(o)}catch(a){return j.logError("Plugin:appendChild",a),null}}},{key:"render",value:function(){return""}},{key:"destroy",value:function(){}},{key:"__destroy",value:function(){var n=this,o=this.player;this.__delegates.map(function(a){a.destroy()}),this.__delegates=[],this._children instanceof Array&&(this._children.map(function(a){o.unRegisterPlugin(a.pluginName)}),this._children=null),this.root&&(this.root.hasOwnProperty("remove")?this.root.remove():this.root.parentNode&&this.root.parentNode.removeChild(this.root)),Yt(nt(i.prototype),"__destroy",this).call(this),this.icons={},["root","parent"].map(function(a){n[a]=null})}}],[{key:"insert",value:function(n,o){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=o.children.length,u=Number(a),l=n instanceof window.Node;if(s){for(var c=0,f=null,h="";c<s;c++){f=o.children[c];var p=Number(f.getAttribute("data-index"));if(p>=u){h="beforebegin";break}else p<u&&(h="afterend")}return l?h==="afterend"?o.appendChild(n):o.insertBefore(n,f):f.insertAdjacentHTML(h,n),h==="afterend"?o.children[o.children.length-1]:o.children[c]}else return l?o.appendChild(n):o.insertAdjacentHTML("beforeend",n),o.children[o.children.length-1]}},{key:"defaultConfig",get:function(){return{}}},{key:"delegate",value:function(n,o,a,s){var u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,l=[];if(n instanceof window.Node&&typeof s=="function")if(Array.isArray(a))a.forEach(function(f){var h=Ts(n,o,f,s,u);h.key="".concat(o,"_").concat(f),l.push(h)});else{var c=Ts(n,o,a,s,u);c.key="".concat(o,"_").concat(a),l.push(c)}return l}},{key:"ROOT_TYPES",get:function(){return gg}},{key:"POSITIONS",get:function(){return Z}}]),i}(bt);function gr(t){"@babel/helpers - typeof";return gr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gr(t)}function Pg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sg(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Wl(r.key),r)}}function kg(t,e,i){return e&&Sg(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Og(t,e,i){return e=Wl(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Wl(t){var e=Tg(t,"string");return gr(e)==="symbol"?e:String(e)}function Tg(t,e){if(gr(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(gr(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Eg=function(){function t(){var e=this;if(Pg(this,t),Og(this,"__trigger",function(i){var r=new Date().getTime();e.timeStamp=r;for(var n=0;n<i.length;n++)e.__runHandler(i[n].target)}),this.__handlers=[],this.timeStamp=0,this.observer=null,!!window.ResizeObserver)try{this.observer=new window.ResizeObserver(uy(this.__trigger,100,{trailing:!0})),this.timeStamp=new Date().getTime()}catch(i){console.error(i)}}return kg(t,[{key:"addObserver",value:function(i,r){if(this.observer){this.observer&&this.observer.observe(i);for(var n=i.getAttribute(ut),o=this.__handlers,a=-1,s=0;s<o.length;s++)o[s]&&i===o[s].target&&(a=s);a>-1?this.__handlers[a].handler=r:this.__handlers.push({target:i,handler:r,playerId:n})}}},{key:"unObserver",value:function(i){var r=-1;this.__handlers.map(function(n,o){i===n.target&&(r=o)});try{this.observer&&this.observer.unobserve(i)}catch{}this.observer&&this.observer.unobserve(i),r>-1&&this.__handlers.splice(r,1)}},{key:"destroyObserver",value:function(){this.observer&&this.observer.disconnect(),this.observer=null,this.__handlers=null}},{key:"__runHandler",value:function(i){for(var r=this.__handlers,n=0;n<r.length;n++)if(r[n]&&i===r[n].target){try{r[n].handler(i)}catch(o){console.error(o)}return!0}return!1}}]),t}(),nr=null;function Cg(t,e){return nr||(nr=new Eg),nr.addObserver(t,e),nr}function Ig(t,e){nr.unObserver(t,e)}var ae={pluginGroup:{},init:function(e){var i=e._pluginInfoId;i||(i=new Date().getTime(),e._pluginInfoId=i),!e.config.closeResizeObserver&&Cg(e.root,function(){e.getVideoSize()}),this.pluginGroup[i]={_originalOptions:e.config||{},_plugins:{}}},formatPluginInfo:function(e,i){var r=null,n=null;return e.plugin&&typeof e.plugin=="function"?(r=e.plugin,n=e.options):(r=e,n={}),i&&(n.config=i||{}),{PLUFGIN:r,options:n}},checkPluginIfExits:function(e,i){for(var r=0;r<i.length;r++)if(e.toLowerCase()===i[r].pluginName.toLowerCase())return!0;return!1},getRootByConfig:function(e,i){for(var r=Object.keys(i),n=null,o=0;o<r.length;o++)if(e.toLowerCase()===r[o].toLowerCase()){n=i[r[o]];break}return d.typeOf(n)==="Object"?{root:n.root,position:n.position}:{}},lazyRegister:function(e,i){var r=this,n=i.timeout||1500;return Promise.race([i.loader().then(function(o){var a;o&&o.__esModule?a=o.default:a=o,r.register(e,a,o.options)}),new Promise(function(o,a){setTimeout(function(){a(new Error("timeout"))},n)})])},register:function(e,i){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!(!e||!i||typeof i!="function"||i.prototype===void 0)){var n=e._pluginInfoId;if(!(!n||!this.pluginGroup[n])){this.pluginGroup[n]._plugins||(this.pluginGroup[n]._plugins={});var o=this.pluginGroup[n]._plugins,a=this.pluginGroup[n]._originalOptions;r.player=e;var s=r.pluginName||i.pluginName;if(!s)throw new Error("The property pluginName is necessary");if(i.isSupported&&!i.isSupported()){console.warn("not supported plugin [".concat(s,"]"));return}r.config||(r.config={});for(var u=Object.keys(a),l=0;l<u.length;l++)if(s.toLowerCase()===u[l].toLowerCase()){var c=a[u[l]];d.typeOf(c)==="Object"&&(r.config=Object.assign({},r.config,a[u[l]]));break}i.defaultConfig&&Object.keys(i.defaultConfig).forEach(function(h){typeof r.config[h]>"u"&&(r.config[h]=i.defaultConfig[h])}),r.root?typeof r.root=="string"&&(r.root=e[r.root]):r.root=e.root,r.index=r.config.index||0;try{o[s.toLowerCase()]&&(this.unRegister(n,s.toLowerCase()),console.warn("the is one plugin with same pluginName [".concat(s,"] exist, destroy the old instance")));var f=new i(r);return o[s.toLowerCase()]=f,o[s.toLowerCase()].func=i,f&&typeof f.afterCreate=="function"&&f.afterCreate(),f}catch(h){throw console.error(h),h}}}},unRegister:function(e,i){e._pluginInfoId&&(e=e._pluginInfoId),i=i.toLowerCase();try{var r=this.pluginGroup[e]._plugins[i];r&&(r.pluginName&&r.__destroy(),delete this.pluginGroup[e]._plugins[i])}catch(n){console.error("[unRegister:".concat(i,"] cgid:[").concat(e,"] error"),n)}},deletePlugin:function(e,i){var r=e._pluginInfoId;r&&this.pluginGroup[r]&&this.pluginGroup[r]._plugins&&delete this.pluginGroup[r]._plugins[i]},getPlugins:function(e){var i=e._pluginInfoId;return i&&this.pluginGroup[i]?this.pluginGroup[i]._plugins:{}},findPlugin:function(e,i){var r=e._pluginInfoId;if(!r||!this.pluginGroup[r])return null;var n=i.toLowerCase();return this.pluginGroup[r]._plugins[n]},beforeInit:function(e){var i=this;function r(n){return!n||!n.then?new Promise(function(o){o()}):n}return new Promise(function(n){if(i.pluginGroup){var o;return e._loadingPlugins&&e._loadingPlugins.length?o=Promise.all(e._loadingPlugins):o=Promise.resolve(),o.then(function(){var a=e._pluginInfoId;if(!i.pluginGroup[a]){n();return}var s=i.pluginGroup[a]._plugins,u=[];Object.keys(s).forEach(function(l){if(s[l]&&s[l].beforePlayerInit)try{var c=s[l].beforePlayerInit();u.push(r(c))}catch(f){throw u.push(r(null)),f}}),Promise.all([].concat(u)).then(function(){n()}).catch(function(l){console.error(l),n()})})}})},afterInit:function(e){var i=e._pluginInfoId;if(!(!i||!this.pluginGroup[i])){var r=this.pluginGroup[i]._plugins;Object.keys(r).forEach(function(n){r[n]&&r[n].afterPlayerInit&&r[n].afterPlayerInit()})}},setLang:function(e,i){var r=i._pluginInfoId;if(!(!r||!this.pluginGroup[r])){var n=this.pluginGroup[r]._plugins;Object.keys(n).forEach(function(o){if(n[o].updateLang)n[o].updateLang(e);else try{n[o].lang=e}catch{console.warn("".concat(o," setLang"))}})}},reRender:function(e){var i=this,r=e._pluginInfoId;if(!(!r||!this.pluginGroup[r])){var n=[],o=this.pluginGroup[r]._plugins;Object.keys(o).forEach(function(a){a!=="controls"&&o[a]&&(n.push({plugin:o[a].func,options:o[a].__args}),i.unRegister(r,a))}),n.forEach(function(a){i.register(e,a.plugin,a.options)})}},onPluginsReady:function(e){var i=e._pluginInfoId;if(!(!i||!this.pluginGroup[i])){var r=this.pluginGroup[i]._plugins||{};Object.keys(r).forEach(function(n){r[n].onPluginsReady&&typeof r[n].onPluginsReady=="function"&&r[n].onPluginsReady()})}},destroy:function(e){var i=e._pluginInfoId;if(this.pluginGroup[i]){Ig(e.root);for(var r=this.pluginGroup[i]._plugins,n=0,o=Object.keys(r);n<o.length;n++){var a=o[n];this.unRegister(i,a)}delete this.pluginGroup[i],delete e._pluginInfoId}}};const E={DEFAULT:"xgplayer",DEFAULT_SKIN:"xgplayer-skin-default",ENTER:"xgplayer-is-enter",PAUSED:"xgplayer-pause",PLAYING:"xgplayer-playing",ENDED:"xgplayer-ended",CANPLAY:"xgplayer-canplay",LOADING:"xgplayer-isloading",ERROR:"xgplayer-is-error",REPLAY:"xgplayer-replay",NO_START:"xgplayer-nostart",ACTIVE:"xgplayer-inactive",FULLSCREEN:"xgplayer-is-fullscreen",CSS_FULLSCREEN:"xgplayer-is-cssfullscreen",PARENT_FULLSCREEN:"xgplayer-fullscreen-parent",ROTATE_FULLSCREEN:"xgplayer-rotate-fullscreen",PARENT_ROTATE_FULLSCREEN:"xgplayer-rotate-parent",INNER_FULLSCREEN:"xgplayer-inner-fullscreen",NO_CONTROLS:"no-controls",FLEX_CONTROLS:"flex-controls",CONTROLS_FOLLOW:"controls-follow",AUTOHIDE:"xgplayer_autohide",NOT_ALLOW_AUTOPLAY:"not-allow-autoplay",SEEKING:"seeking",PC:"xgplayer-pc",MOBILE:"xgplayer-mobile",MINI:"xgplayer-mini"};function $s(){return{id:"",el:null,url:"",domEventType:"default",nullUrlStart:!1,width:600,height:337.5,fluid:!1,fitVideoSize:"fixed",videoFillMode:"auto",volume:.6,autoplay:!1,autoplayMuted:!1,loop:!1,isLive:!1,zoom:1,videoInit:!0,poster:"",isMobileSimulateMode:!1,defaultPlaybackRate:1,execBeforePluginsCall:null,allowSeekAfterEnded:!0,enableContextmenu:!0,closeVideoClick:!1,closeVideoDblclick:!1,closePlayerBlur:!1,closeDelayBlur:!1,leavePlayerTime:3e3,closePlayVideoFocus:!1,closePauseVideoFocus:!1,closeFocusVideoFocus:!0,closeControlsBlur:!0,topBarAutoHide:!0,videoAttributes:{},startTime:0,seekedStatus:"play",miniprogress:!1,disableSwipeHandler:function(){},enableSwipeHandler:function(){},preProcessUrl:null,ignores:[],whitelist:[],inactive:3e3,lang:ly(),controls:!0,marginControls:!1,fullscreenTarget:null,screenShot:!1,rotate:!1,pip:!1,download:!1,mini:!1,cssFullscreen:!0,keyShortcut:!0,presets:[],plugins:[],playbackRate:1,definition:{list:[]},playsinline:!0,customDuration:0,timeOffset:0,icons:{},i18n:[],tabindex:0,thumbnail:null,videoConfig:{},isHideTips:!1,minWaitDelay:200,commonStyle:{progressColor:"",playedColor:"",cachedColor:"",sliderBtnStyle:{},volumeColor:""}}}function oo(t){return Lg(t)||Rg(t)||xg(t)||$g()}function $g(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xg(t,e){if(t){if(typeof t=="string")return No(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return No(t,e)}}function Rg(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Lg(t){if(Array.isArray(t))return No(t)}function No(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}var Ag=function(e,i){var r,n,o;i.preset&&i.options?o=new i.preset(i.options,e.config):o=new i({},e.config);var a=o,s=a.plugins,u=s===void 0?[]:s,l=a.ignores,c=l===void 0?[]:l,f=a.icons,h=f===void 0?{}:f,p=a.i18n,y=p===void 0?[]:p;e.config.plugins||(e.config.plugins=[]),e.config.ignores||(e.config.ignores=[]),(r=e.config.plugins).push.apply(r,oo(u)),(n=e.config.ignores).push.apply(n,oo(c)),Object.keys(h).map(function(m){e.config.icons[m]||(e.config.icons[m]=h[m])});var v=e.config.i18n||[];y.push.apply(y,oo(v)),e.config.i18n=y};function en(t){"@babel/helpers - typeof";return en=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},en(t)}function Dg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xs(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Yl(r.key),r)}}function Ng(t,e,i){return e&&xs(t.prototype,e),i&&xs(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fr(){return typeof Reflect<"u"&&Reflect.get?Fr=Reflect.get.bind():Fr=function(e,i,r){var n=Mg(e,i);if(n){var o=Object.getOwnPropertyDescriptor(n,i);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Fr.apply(this,arguments)}function Mg(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=tn(t),t!==null););return t}function jg(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mo(t,e)}function Mo(t,e){return Mo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Mo(t,e)}function Bg(t){var e=Hg();return function(){var r=tn(t),n;if(e){var o=tn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Fg(this,n)}}function Fg(t,e){if(e&&(en(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rr(t)}function rr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hg(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function tn(t){return tn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},tn(t)}function Rs(t,e,i){return e=Yl(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Yl(t){var e=Vg(t,"string");return en(e)==="symbol"?e:String(e)}function Vg(t,e){if(en(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(en(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ug=function(t){jg(i,t);var e=Bg(i);function i(){var r;Dg(this,i);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),Rs(rr(r),"onMouseEnter",function(s){var u=rr(r),l=u.player,c=u.playerConfig;c.closeControlsBlur&&l.focus({autoHide:!1})}),Rs(rr(r),"onMouseLeave",function(){var s=rr(r),u=s.player;u.focus()}),r}return Ng(i,[{key:"beforeCreate",value:function(n){typeof n.player.config.controls=="boolean"&&(n.config.disable=!n.player.config.controls),!n.config.mode&&V.device==="mobile"&&(n.config.mode="flex"),n.player.config.marginControls&&(n.config.autoHide=!1)}},{key:"afterCreate",value:function(){var n=this,o=this.config,a=o.disable,s=o.height,u=o.mode,l=o.autoHide;if(!a){u==="flex"&&this.player.addClass(E.FLEX_CONTROLS),l&&this.player.addClass(E.AUTOHIDE);var c={height:"".concat(s,"px")};Object.keys(c).map(function(h){n.root.style[h]=c[h]}),this.left=this.find("xg-left-grid"),this.center=this.find("xg-center-grid"),this.right=this.find("xg-right-grid"),this.innerRoot=this.find("xg-inner-controls"),this.on(Wr,function(h){h?d.addClass(n.root,"mini-controls"):d.removeClass(n.root,"mini-controls")});var f=this.playerConfig.isMobileSimulateMode;V.device!=="mobile"&&f!=="mobile"&&(this.bind("mouseenter",this.onMouseEnter),this.bind("mouseleave",this.onMouseLeave))}}},{key:"focus",value:function(){this.player.focus({autoHide:!1})}},{key:"unFocus",value:function(){this.player.focus({autoHide:!0})}},{key:"blur",value:function(){this.player.blur({ignorePaused:!0})}},{key:"recoverAutoHide",value:function(){this.config.autoHide&&d.addClass(this.root,"control_autohide")}},{key:"pauseAutoHide",value:function(){d.removeClass(this.root,"control_autohide")}},{key:"show",value:function(){this.root.style.display="",this.player.focus()}},{key:"hide",value:function(){this.root.style.display="none"}},{key:"mode",get:function(){return this.config.mode}},{key:"registerPlugin",value:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0;if(this.root){var s=n.defaultConfig||{};if(!o.root){var u=o.position?o.position:o.config&&o.config.position?o.config.position:s.position;switch(u){case Z.CONTROLS_LEFT:o.root=this.left;break;case Z.CONTROLS_RIGHT:o.root=this.right;break;case Z.CONTROLS_CENTER:o.root=this.center;break;case Z.CONTROLS:o.root=this.root;break;default:o.root=this.left}return Fr(tn(i.prototype),"registerPlugin",this).call(this,n,o,a)}}}},{key:"destroy",value:function(){V.device!=="mobile"&&(this.unbind("mouseenter",this.onMouseEnter),this.unbind("mouseleave",this.onMouseLeave))}},{key:"render",value:function(){var n=this.config,o=n.mode,a=n.autoHide,s=n.initShow,u=n.disable;if(!u){var l=d.classNames({"xgplayer-controls":!0},{"flex-controls":o==="flex"},{"bottom-controls":o==="bottom"},{control_autohide:a},{controls_permanent:!a},{"xgplayer-controls-initshow":s||!a});return'<xg-controls class="'.concat(l,`" unselectable="on">
    <xg-inner-controls class="xg-inner-controls xg-pos">
      <xg-left-grid class="xg-left-grid">
      </xg-left-grid>
      <xg-center-grid class="xg-center-grid"></xg-center-grid>
      <xg-right-grid class="xg-right-grid">
      </xg-right-grid>
    </xg-inner-controls>
    </xg-controls>`)}}}],[{key:"pluginName",get:function(){return"controls"}},{key:"defaultConfig",get:function(){return{disable:!1,autoHide:!0,mode:"",initShow:!1}}}]),i}(G);const zg={LANG:"en",TEXT:{ERROR_TYPES:{network:{code:1,msg:"video download error"},mse:{code:2,msg:"stream append error"},parse:{code:3,msg:"parsing error"},format:{code:4,msg:"wrong format"},decoder:{code:5,msg:"decoding error"},runtime:{code:6,msg:"grammatical errors"},timeout:{code:7,msg:"play timeout"},other:{code:8,msg:"other errors"}},HAVE_NOTHING:"There is no information on whether audio/video is ready",HAVE_METADATA:"Audio/video metadata is ready ",HAVE_CURRENT_DATA:"Data about the current play location is available, but there is not enough data to play the next frame/millisecond",HAVE_FUTURE_DATA:"Current and at least one frame of data is available",HAVE_ENOUGH_DATA:"The available data is sufficient to start playing",NETWORK_EMPTY:"Audio/video has not been initialized",NETWORK_IDLE:"Audio/video is active and has been selected for resources, but no network is used",NETWORK_LOADING:"The browser is downloading the data",NETWORK_NO_SOURCE:"No audio/video source was found",MEDIA_ERR_ABORTED:"The fetch process is aborted by the user",MEDIA_ERR_NETWORK:"An error occurred while downloading",MEDIA_ERR_DECODE:"An error occurred while decoding",MEDIA_ERR_SRC_NOT_SUPPORTED:"Audio/video is not supported",REPLAY:"Replay",ERROR:"Network is offline",PLAY_TIPS:"Play",PAUSE_TIPS:"Pause",PLAYNEXT_TIPS:"Play next",DOWNLOAD_TIPS:"Download",ROTATE_TIPS:"Rotate",RELOAD_TIPS:"Reload",FULLSCREEN_TIPS:"Fullscreen",EXITFULLSCREEN_TIPS:"Exit fullscreen",CSSFULLSCREEN_TIPS:"Cssfullscreen",EXITCSSFULLSCREEN_TIPS:"Exit cssfullscreen",TEXTTRACK:"Caption",PIP:"PIP",SCREENSHOT:"Screenshot",LIVE:"LIVE",OFF:"Off",OPEN:"Open",MINI_DRAG:"Click and hold to drag",MINISCREEN:"Miniscreen",REFRESH_TIPS:"Please Try",REFRESH:"Refresh",FORWARD:"forward",LIVE_TIP:"Live"}};function Xl(t){return Yg(t)||Wg(t)||Gg(t)||Kg()}function Kg(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gg(t,e){if(t){if(typeof t=="string")return jo(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return jo(t,e)}}function Wg(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Yg(t){if(Array.isArray(t))return jo(t)}function jo(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}var ye={lang:{},langKeys:[],textKeys:[]};function mr(t,e){return Object.keys(e).forEach(function(i){var r=d.typeOf(e[i]),n=d.typeOf(t[i]);if(r==="Array"){var o;n!=="Array"&&(t[i]=[]),(o=t[i]).push.apply(o,Xl(e[i]))}else r==="Object"?(n!=="Object"&&(t[i]={}),mr(t[i],e[i])):t[i]=e[i]}),t}function ql(){Object.keys(ye.lang.en).map(function(t){ye.textKeys[t]=t})}function Xg(t,e){var i=[];if(e||(e=ye),!!e.lang){d.typeOf(t)!=="Array"?i=Object.keys(t).map(function(o){var a=o==="zh"?"zh-cn":o;return{LANG:a,TEXT:t[o]}}):i=t;var r=e,n=r.lang;i.map(function(o){o.LANG==="zh"&&(o.LANG="zh-cn"),n[o.LANG]?mr(n[o.LANG]||{},o.TEXT||{}):ns(o,e)}),ql()}}function ns(t,e){var i=t.LANG;if(e||(e=ye),!!e.lang){var r=t.TEXT||{};i==="zh"&&(i="zh-cn"),e.lang[i]?mr(e.lang[i],r):(e.langKeys.push(i),e.lang[i]=r),ql()}}function qg(t){var e,i={lang:{},langKeys:[],textKeys:{},pId:t};return mr(i.lang,ye.lang),(e=i.langKeys).push.apply(e,Xl(ye.langKeys)),mr(i.textKeys,ye.textKeys),i}ns(zg);var Kt={get textKeys(){return ye.textKeys},get langKeys(){return ye.langKeys},get lang(){var t={};return ye.langKeys.map(function(e){t[e]=ye.lang[e]}),ye.lang["zh-cn"]&&(t.zh=ye.lang["zh-cn"]||{}),t},extend:Xg,use:ns,init:qg};function nn(t){"@babel/helpers - typeof";return nn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nn(t)}function Jg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ls(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Qg(r.key),r)}}function Zg(t,e,i){return e&&Ls(t.prototype,e),i&&Ls(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qg(t){var e=em(t,"string");return nn(e)==="symbol"?e:String(e)}function em(t,e){if(nn(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(nn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function tm(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bo(t,e)}function Bo(t,e){return Bo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Bo(t,e)}function nm(t){var e=om();return function(){var r=Qr(t),n;if(e){var o=Qr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rm(this,n)}}function rm(t,e){if(e&&(nn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return im(t)}function im(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function om(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Qr(t){return Qr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},Qr(t)}var he={},ao=null,Jl=function(t){tm(i,t);var e=nm(i);function i(){return Jg(this,i),e.apply(this,arguments)}return Zg(i,[{key:"add",value:function(n){n&&(he[n.playerId]=n,Object.keys(he).length===1&&this.setActive(n.playerId,!0))}},{key:"remove",value:function(n){n&&(n.isUserActive,delete he[n.playerId])}},{key:"_iterate",value:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(var a in he)if(Object.prototype.hasOwnProperty.call(he,a)){var s=he[a];if(o){if(n(s))break}else n(s)}}},{key:"forEach",value:function(n){this._iterate(n)}},{key:"find",value:function(n){var o=null;return this._iterate(function(a){var s=n(a);return s&&(o=a),s},!0),o}},{key:"findAll",value:function(n){var o=[];return this._iterate(function(a){n(a)&&o.push(a)}),o}},{key:"setActive",value:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(he[n])return o?this.forEach(function(a){n===a.playerId?(a.isUserActive=!0,a.isInstNext=!1):a.isUserActive=!1}):he[n].isUserActive=o,n}},{key:"getActiveId",value:function(){for(var n=Object.keys(he),o=0;o<n.length;o++){var a=he[n[o]];if(a&&a.isUserActive)return n[o]}return null}},{key:"setNext",value:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(he[n])return o?this.forEach(function(a){n===a.playerId?(a.isUserActive=!1,a.isInstNext=!0):a.isInstNext=!1}):he[n].isInstNext=o,n}}],[{key:"getInstance",value:function(){return ao||(ao=new i),ao}}]),i}(Ol.EventEmitter);function am(t){for(var e=Object.keys(he),i=0;i<e.length;i++){var r=he[e[i]];if(r.root===t)return r}return null}function rn(t){"@babel/helpers - typeof";return rn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rn(t)}function As(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function so(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?As(Object(i),!0).forEach(function(r){ht(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):As(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function sm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ds(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ql(r.key),r)}}function um(t,e,i){return e&&Ds(t.prototype,e),i&&Ds(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ae(){return typeof Reflect<"u"&&Reflect.get?Ae=Reflect.get.bind():Ae=function(e,i,r){var n=lm(e,i);if(n){var o=Object.getOwnPropertyDescriptor(n,i);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Ae.apply(this,arguments)}function lm(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=we(t),t!==null););return t}function cm(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fo(t,e)}function Fo(t,e){return Fo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Fo(t,e)}function fm(t){var e=dm();return function(){var r=we(t),n;if(e){var o=we(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Zl(this,n)}}function Zl(t,e){if(e&&(rn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _e(t)}function _e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dm(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function we(t){return we=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},we(t)}function ht(t,e,i){return e=Ql(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Ql(t){var e=hm(t,"string");return rn(e)==="symbol"?e:String(e)}function hm(t,e){if(rn(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(rn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pm=["play","pause","replay","retry","playnext"],Ns=0,Ms=0,We=null,Ui=function(t){cm(i,t);var e=fm(i);function i(r){var n;sm(this,i);var o=d.deepMerge($s(),r);n=e.call(this,o),ht(_e(n),"canPlayFunc",function(){if(n.config){var l=n.config,c=l.autoplay,f=l.startTime,h=l.defaultPlaybackRate;j.logInfo("player","canPlayFunc, startTime",f),f&&(n.currentTime=f>n.duration?n.duration:f,n.config.startTime=0),n.playbackRate=h,c&&n.videoPlay(),n.off(ze,n.canPlayFunc),n.removeClass(E.ENTER)}}),ht(_e(n),"onFullscreenChange",function(l,c){var f=function(){d.setTimeout(_e(n),function(){n.getVideoSize()},100)},h=d.getFullScreenEl();n._fullActionFrom?n._fullActionFrom="":n.emit(Xr,{eventType:"system",action:"switch_fullscreen",pluginName:"player",currentTime:n.currentTime,duration:n.duration,props:[{prop:"fullscreen",from:!0,to:!1}]});var p=cy(h,n.playerId,ut);if(c||h&&(h===n._fullscreenEl||p))f(),!n.config.closeFocusVideoFocus&&n.video.focus(),n.fullscreen=!0,n.emit(Qe,!0,n._fullScreenOffset),n.cssfullscreen&&n.exitCssFullscreen();else if(n.fullscreen){f();var y=_e(n),v=y._fullScreenOffset,m=y.config;m.needFullscreenScroll?(window.scrollTo(v.left,v.top),d.setTimeout(_e(n),function(){n.fullscreen=!1,n._fullScreenOffset=null},100)):(!n.config.closeFocusVideoFocus&&n.video.focus(),n.fullscreen=!1,n._fullScreenOffset=null),n.cssfullscreen?n.removeClass(E.FULLSCREEN):n.recoverFullStyle(n.root,n._fullscreenEl,E.FULLSCREEN),n._fullscreenEl=null,n.emit(Qe,!1)}}),ht(_e(n),"_onWebkitbeginfullscreen",function(l){n._fullscreenEl=n.video,n.onFullscreenChange(l,!0)}),ht(_e(n),"_onWebkitendfullscreen",function(l){n.onFullscreenChange(l,!1)}),zl(_e(n),pm),n.config=o,n._pluginInfoId=d.generateSessionId(),Yv(_e(n));var a=n.constructor.defaultPreset;if(n.config.presets.length){var s=n.config.presets.indexOf("default");s>=0&&a&&(n.config.presets[s]=a)}else a&&n.config.presets.push(a);n.userTimer=null,n.waitTimer=null,n.isReady=!1,n.isPlaying=!1,n.isError=!1,n.isSeeking=!1,n.isCanplay=!1,n._runPending=!1,n.rotateDeg=0,n.isActive=!1,n.isBufferControlPaused=!1,n.isCssfullScreen=!1,n.fullscreen=!1,n._fullscreenEl=null,n._cssfullscreenEl=null,n.curDefinition=null,n._orgCss="",n._fullScreenOffset=null,n._videoHeight=0,n._videoWidth=0,n.videoPos={pi:1,scale:0,rotate:-1,x:0,y:0,h:-1,w:-1,vy:0,vx:0},n.sizeInfo={width:0,height:0,left:0,top:0},n._accPlayed={t:0,acc:0,loopAcc:0},n.innerContainer=null,n.controls=null,n.topBar=null,n.topBar=null,n.root=null,n.__i18n=Kt.init(),V.os.isAndroid&&V.osVersion>0&&V.osVersion<6&&(n.config.autoplay=!1),n.database=new zy,n.isUserActive=!1,n._onceSeekCanplay=null,n._isPauseBeforeSeek=0,n.innerStates={isActiveLocked:!1},n.instManager=We;var u=n._initDOM();return u?(n._bindEvents(),n._registerPresets(),n._registerPlugins(),ae.onPluginsReady(_e(n)),d.setTimeout(_e(n),function(){n.emit(Za),n.onReady&&n.onReady(),n.isReady=!0},0),n.getInitDefinition(),(n.config.videoInit||n.config.autoplay)&&(n.hasStart||n.start()),n):(console.error(new Error("can't find the dom which id is ".concat(n.config.id," or this.config.el does not exist"))),Zl(n))}return um(i,[{key:"_initDOM",value:function(){var n,o=this;if(this.root=this.config.id?document.getElementById(this.config.id):null,!this.root){var a=this.config.el;if(a&&a.nodeType===1)this.root=a;else return this.emit(ji,new zr("use",this.config.vid,{line:32,handle:"Constructor",msg:"container id can't be empty"})),console.error("this.confg.id or this.config.el can't be empty"),!1}var s=am(this.root);s&&(j.logWarn("The is an Player instance already exists in this.root, destroy it and reinitialize"),s.destroy()),this.root.setAttribute(ut,this.playerId),(n=We)===null||n===void 0||n.add(this),ae.init(this),this._initBaseDoms();var u=this.constructor.XgVideoProxy;if(u&&this.videoConfig.mediaType===u.mediaType){var l=this.innerContainer||this.root;this.detachVideoEvents(this.video);var c=new u(l,this.config,this.videoConfig);this.attachVideoEvents(c),this.video=c}if(this.video.setAttribute(ut,this.playerId),this.config.controls){var f=ae.register(this,Ug);this.controls=f}var h=this.config.isMobileSimulateMode==="mobile"?"mobile":V.device;if(this.addClass("".concat(E.DEFAULT," ").concat(E.ACTIVE," xgplayer-").concat(h," ").concat(this.config.controls?"":E.NO_CONTROLS)),this.config.autoplay?this.addClass(E.ENTER):this.addClass(E.NO_START),this.config.fluid){var p={"max-width":"100%",width:"100%",height:"0","padding-top":"".concat(this.config.height*100/this.config.width,"%"),position:"position",top:"0",left:"0"};Object.keys(p).map(function(O){o.root.style[O]=p[O]})}else["width","height"].map(function(O){o.config[O]&&(typeof o.config[O]!="number"?o.root.style[O]=o.config[O]:o.root.style[O]="".concat(o.config[O],"px"))});var y=this.root.getBoundingClientRect(),v=y.width,m=y.height,k=y.left,T=y.top;return this.sizeInfo.width=v,this.sizeInfo.height=m,this.sizeInfo.left=k,this.sizeInfo.top=T,!0}},{key:"_initBaseDoms",value:function(){this.topBar=d.createDom("xg-bar","",{"data-index":-1},"xg-top-bar"),this.leftBar=d.createDom("xg-bar","",{"data-index":-1},"xg-left-bar"),this.rightBar=d.createDom("xg-bar","",{"data-index":-1},"xg-right-bar"),this.config.marginControls&&(this.innerContainer=d.createDom("xg-video-container","",{"data-index":-1},"xg-video-container"),this.root.appendChild(this.innerContainer)),this.root.appendChild(this.topBar),this.root.appendChild(this.leftBar),this.root.appendChild(this.rightBar)}},{key:"_bindEvents",value:function(){var n=this;["focus","blur"].forEach(function(o){n.on(o,n["on"+o.charAt(0).toUpperCase()+o.slice(1)])}),ms.forEach(function(o){document&&document.addEventListener(o,n.onFullscreenChange)}),V.os.isIos&&(this.video.addEventListener("webkitbeginfullscreen",this._onWebkitbeginfullscreen),this.video.addEventListener("webkitendfullscreen",this._onWebkitendfullscreen)),this.once("loadeddata",this.getVideoSize),this.playFunc=function(){n.config.closeFocusVideoFocus||n.video.focus()},this.once("play",this.playFunc),this.on(Wt,this.onBufferControl)}},{key:"_unbindEvents",value:function(){var n=this;this.root.removeEventListener("mousemove",this.mousemoveFunc),ms.forEach(function(o){document.removeEventListener(o,n.onFullscreenChange)}),this.playFunc&&this.off("play",this.playFunc),this.off("canplay",this.canPlayFunc),this.video.removeEventListener("webkitbeginfullscreen",this._onWebkitbeginfullscreen),this.video.removeEventListener("webkitendfullscreen",this._onWebkitendfullscreen)}},{key:"_startInit",value:function(n){var o=this;if(this.video&&!((!n||n===""||d.typeOf(n)==="Array"&&n.length===0)&&(n="",this.emit(Rl),j.logWarn("config.url is null, please get url and run player._startInit(url)"),this.config.nullUrlStart))){this._detachSourceEvents(this.video),d.typeOf(n)==="Array"&&n.length>0?this._attachSourceEvents(this.video,n):!this.video.src||this.video.src!==n?this.video.src=n:n||this.video.removeAttribute("src"),d.typeOf(this.config.volume)==="Number"&&(this.volume=this.config.volume);var a=this.innerContainer?this.innerContainer:this.root;this.video instanceof window.Element&&!a.contains(this.video)&&a.insertBefore(this.video,a.firstChild);var s=this.video.readyState;j.logInfo("_startInit readyState",s),this.config.autoplay&&(!d.isMSE(this.video)&&this.load(),(V.os.isIpad||V.os.isPhone)&&this.videoPlay()),s>=2?this.canPlayFunc():this.once(ze,this.canPlayFunc),d.setTimeout(this,function(){o.emit(Fi)},1),this.hasStart||ae.afterInit(this),this.hasStart=!0}}},{key:"_registerPlugins",value:function(){var n=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this._loadingPlugins=[];var a=this.config.ignores||[],s=this.config.plugins||[],u=this.config.i18n||[];o&&Kt.extend(u,this.__i18n);var l=a.join("||").toLowerCase().split("||"),c=this.plugins;s.forEach(function(f){try{var h=f.plugin?f.plugin.pluginName:f.pluginName;if(!h)return;var p=h.toLowerCase(),y=n.config[p]||n.config[h];if(d.typeOf(y)==="Boolean"&&!y||l.indexOf(p)>-1||!o&&c[p])return;if(f.lazy&&f.loader){var v=ae.lazyRegister(n,f);f.forceBeforeInit&&(v.then(function(){n._loadingPlugins.splice(n._loadingPlugins.indexOf(v),1)}).catch(function(m){j.logError("_registerPlugins:loadingPlugin",m),n._loadingPlugins.splice(n._loadingPlugins.indexOf(v),1)}),n._loadingPlugins.push(v));return}return n.registerPlugin(f)}catch(m){j.logError("_registerPlugins:",m)}})}},{key:"_registerPresets",value:function(){var n=this;this.config.presets.forEach(function(o){Ag(n,o)})}},{key:"_getRootByPosition",value:function(n){var o=null;switch(n){case Z.ROOT_RIGHT:o=this.rightBar;break;case Z.ROOT_LEFT:o=this.leftBar;break;case Z.ROOT_TOP:o=this.topBar;break;default:o=this.innerContainer||this.root;break}return o}},{key:"registerPlugin",value:function(n,o){var a=ae.formatPluginInfo(n,o),s=a.PLUFGIN,u=a.options,l=this.config.plugins,c=ae.checkPluginIfExits(s.pluginName,l);!c&&l.push(s);var f=ae.getRootByConfig(s.pluginName,this.config);f.root&&(u.root=f.root),f.position&&(u.position=f.position);var h=u.position?u.position:u.config&&u.config.position||s.defaultConfig&&s.defaultConfig.position;return!u.root&&typeof h=="string"&&h.indexOf("controls")>-1?this.controls&&this.controls.registerPlugin(s,u,s.pluginName):(u.root||(u.root=this._getRootByPosition(h)),ae.register(this,s,u))}},{key:"deregister",value:function(n){typeof n=="string"?ae.unRegister(this,n):n instanceof bt&&ae.unRegister(this,n.pluginName)}},{key:"unRegisterPlugin",value:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this.deregister(n),o&&this.removePluginFromConfig(n)}},{key:"removePluginFromConfig",value:function(n){var o;if(typeof n=="string"?o=n:n instanceof bt&&(o=n.pluginName),!!o)for(var a=this.config.plugins.length-1;a>-1;a--){var s=this.config.plugins[a];if(s.pluginName.toLowerCase()===o.toLowerCase()){this.config.plugins.splice(a,1);break}}}},{key:"plugins",get:function(){return ae.getPlugins(this)}},{key:"getPlugin",value:function(n){var o=ae.findPlugin(this,n);return o&&o.pluginName?o:null}},{key:"addClass",value:function(n){this.root&&(d.hasClass(this.root,n)||d.addClass(this.root,n))}},{key:"removeClass",value:function(n){this.root&&d.removeClass(this.root,n)}},{key:"hasClass",value:function(n){if(this.root)return d.hasClass(this.root,n)}},{key:"setAttribute",value:function(n,o){this.root&&this.root.setAttribute(n,o)}},{key:"removeAttribute",value:function(n,o){this.root&&this.root.removeAttribute(n,o)}},{key:"start",value:function(n){var o=this;if(!this.hasStart)return!n&&!this.config.url&&this.getInitDefinition(),this.hasStart=!0,this._registerPlugins(!1),ae.beforeInit(this).then(function(){if(o.config){n||(n=o.url||o.config.url);var a=o.preProcessUrl(n),s=o._startInit(a.url);return s}}).catch(function(a){throw a.fileName="player",a.lineNumber="236",j.logError("start:beforeInit:",a),a})}},{key:"switchURL",value:function(n){var o=this,a=n;d.typeOf(n)==="Object"&&(a=n.url);var s=this.currentTime,u=this.paused&&!this.isError;return this.src=a,new Promise(function(l){var c=function(){o.currentTime=s,u&&o.once("canplay",function(){o.pause()}),l()};V.os.isAndroid?o.once("timeupdate",function(){c()}):o.once("canplay",function(){c()}),o.play()})}},{key:"videoPlay",value:function(){var n=this;if(!this.hasStart){this.removeClass(E.NO_START),this.addClass(E.ENTER);var o=this.start();o&&o.then(function(s){!n.config.autoplay&&n.videoPlay()});return}this.isPlaying||(this.removeClass(E.NO_START),!this.isCanplay&&this.addClass(E.ENTER));var a=Ae(we(i.prototype),"play",this).call(this);return a!==void 0&&a&&a.then?a.then(function(){n.removeClass(E.NOT_ALLOW_AUTOPLAY),n.addClass(E.PLAYING),n.isPlaying||(j.logInfo(">>>>playPromise.then"),n.isPlaying=!0,n.emit(vt))}).catch(function(s){if(j.logWarn(">>>>playPromise.catch",s.name),n.video&&n.video.error){n.onError(),n.removeClass(E.ENTER);return}s.name==="NotAllowedError"&&(n._errorTimer=d.setTimeout(n,function(){n._errorTimer=null,n.emit(Qa),n.addClass(E.NOT_ALLOW_AUTOPLAY),n.removeClass(E.ENTER),n.pause()},0))}):(j.logWarn("video.play not return promise"),this.isPlaying||(this.isPlaying=!0,this.removeClass(E.NOT_ALLOW_AUTOPLAY),this.removeClass(E.NO_START),this.removeClass(E.ENTER),this.addClass(E.PLAYING),this.emit(vt))),a}},{key:"videoPause",value:function(){Ae(we(i.prototype),"pause",this).call(this)}},{key:"play",value:function(){var n=this;this.removeClass(E.PAUSED),Fe(this,"play",function(){n.videoPlay()})}},{key:"pause",value:function(n){var o=this;Fe(this,"pause",function(){n===Ul.BUFFER_CONTROLS?o.isBufferControlPaused||(o.isBufferControlPaused=!0,o.emit(Wt,{type:Lo.WAITING})):o.isBufferControlPaused&&(o.isBufferControlPaused=!1,o.emit(Wt,{type:Lo.PLAYING})),Ae(we(i.prototype),"pause",o).call(o)},n)}},{key:"seek",value:function(n,o){var a=this;if(!(!this.video||Number.isNaN(Number(n))||!this.hasStart)){var s=this.config,u=s.isSeekedPlay,l=s.seekedStatus,c=o||(u?"play":l);n=n<0?0:n>this.duration?parseInt(this.duration,10):n,!this._isPauseBeforeSeek&&(this._isPauseBeforeSeek=this.paused?2:1),this._onceSeekCanplay&&this.off(Ue,this._onceSeekCanplay),this._onceSeekCanplay=function(){switch(a.removeClass(E.ENTER),a.isSeeking=!1,c){case"play":a.play();break;case"pause":a.pause();break;default:a._isPauseBeforeSeek>1||a.paused?a.pause():a.play()}a._isPauseBeforeSeek=0,a._onceSeekCanplay=null},this.once(Ue,this._onceSeekCanplay),this.isPlaying?this.currentTime=n:(this.removeClass(E.NO_START),this.currentTime=n,this.play())}}},{key:"getInitDefinition",value:function(){var n=this,o=this.config,a=o.definition,s=o.url;!s&&a&&a.list&&a.list.length>0&&a.defaultDefinition&&a.list.map(function(u){u.definition===a.defaultDefinition&&(n.config.url=u.url,n.curDefinition=u.definition)})}},{key:"changeDefinition",value:function(n,o){var a=this,s=this.config.definition;if(Array.isArray(s==null?void 0:s.list)&&s.list.forEach(function(l){(n==null?void 0:n.definition)===l.definition&&(a.curDefinition=l)}),n!=null&&n.bitrate&&typeof n.bitrate!="number"&&(n.bitrate=parseInt(n.bitrate,10)||0),this.emit(ts,{from:o,to:n}),!this.hasStart){this.config.url=n.url;return}var u=this.switchURL(n.url);u&&u.then?u.then(function(){a.emit($o,{from:o,to:n})}):this.emit($o,{from:o,to:n})}},{key:"reload",value:function(){this.load(),this.reloadFunc=function(){this.play()},this.once("loadeddata",this.reloadFunc)}},{key:"resetState",value:function(){var n=this,o=E.NOT_ALLOW_AUTOPLAY,a=E.PLAYING,s=E.NO_START,u=E.PAUSED,l=E.REPLAY,c=E.ENTER,f=E.ENDED,h=E.ERROR,p=E.LOADING,y=[o,a,s,u,l,c,f,h,p];this.hasStart=!1,this.isError=!1,this.isPlaying=!1,this.videoPause(),this._accPlayed.acc=0,this._accPlayed.t=0,this._accPlayed.loopAcc=0,y.forEach(function(v){n.removeClass(v)}),this.addClass(E.ENTER),this.emit(Vi)}},{key:"reset",value:function(){var n=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;this.resetState();var s=this.plugins;if(s&&(o.map(function(l){n.deregister(l)}),a)){var u=$s();Object.keys(this.config).keys(function(l){n.config[l]!=="undefined"&&(l==="plugins"||l==="presets"||l==="el"||l==="id")&&(n.config[l]=u[l])})}}},{key:"destroy",value:function(){var n,o=this,a=this.innerContainer,s=this.root,u=this.video;if(!(!s||!u)){if(s.removeAttribute(ut),this.updateAcc("destroy"),this._unbindEvents(),this._detachSourceEvents(this.video),d.clearAllTimers(this),this.emit(es),(n=We)===null||n===void 0||n.remove(this),ae.destroy(this),Kl(this),Ae(we(i.prototype),"destroy",this).call(this),this.fullscreen&&this._fullscreenEl===this.root)try{this.exitFullscreen()}catch{}if(a)for(var l=a.children,c=0;c<l.length;c++)a.removeChild(l[c]);!a&&u instanceof window.Node&&s.contains(u)&&s.removeChild(u),["topBar","leftBar","rightBar","innerContainer"].map(function(h){o[h]&&s.removeChild(o[h]),o[h]=null});var f=s.className.split(" ");f.length>0?s.className=f.filter(function(h){return h.indexOf("xgplayer")<0}).join(" "):s.className="",this.removeAttribute("data-xgfill"),["isReady","isPlaying","isSeeking","isCanplay","isActive","isCssfullScreen","fullscreen"].map(function(h){o[h]=!1})}}},{key:"replay",value:function(){var n=this;this.removeClass(E.ENDED),this.currentTime=0,this.isSeeking=!1,Fe(this,"replay",function(){n.once(Ue,function(){var o=n.videoPlay();o&&o.catch&&o.catch(function(a){console.log(a)})}),n.play(),n.emit(Kr),n.onPlay()})}},{key:"retry",value:function(){var n=this;this.removeClass(E.ERROR),this.addClass(E.LOADING),Fe(this,"retry",function(){var o=n.currentTime;n.src=n.config.url,!n.config.isLive&&(n.currentTime=o),n.once(ze,function(){n.videoPlay()})})}},{key:"changeFullStyle",value:function(n,o,a,s){n&&(s||(s=E.PARENT_FULLSCREEN),this._orgCss||(this._orgCss=d.filterStyleFromText(n)),d.addClass(n,a),o&&o!==n&&!this._orgPCss&&(this._orgPCss=d.filterStyleFromText(o),d.addClass(o,s),o.setAttribute(ut,this.playerId)))}},{key:"recoverFullStyle",value:function(n,o,a,s){s||(s=E.PARENT_FULLSCREEN),this._orgCss&&(d.setStyleFromCsstext(n,this._orgCss),this._orgCss=""),d.removeClass(n,a),o&&o!==n&&this._orgPCss&&(d.setStyleFromCsstext(o,this._orgPCss),this._orgPCss="",d.removeClass(o,s),o.removeAttribute(ut))}},{key:"getFullscreen",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.config.fullscreenTarget,o=this.root,a=this.video;n||(n=o),this._fullScreenOffset={top:d.scrollTop(),left:d.scrollLeft()},this._fullscreenEl=n,this._fullActionFrom="get";var s=d.getFullScreenEl();if(s===this._fullscreenEl)return this.onFullscreenChange(),Promise.resolve();try{this.changeFullStyle(this.root,n,E.FULLSCREEN);for(var u=0;u<_s.length;u++){var l=_s[u];if(n[l]){var c=l==="webkitRequestFullscreen"?n.webkitRequestFullscreen(window.Element.ALLOW_KEYBOARD_INPUT):n[l]();return c&&c.then?c:Promise.resolve()}}return a.fullscreenEnabled||a.webkitSupportsFullscreen?(a.webkitEnterFullscreen(),Promise.resolve()):(this.recoverFullStyle(this.root,this._fullscreenEl,E.FULLSCREEN),Promise.reject(new Error("call getFullscreen fail")))}catch(f){return this.recoverFullStyle(this.root,this._fullscreenEl,E.FULLSCREEN),Promise.reject(f)}}},{key:"exitFullscreen",value:function(n){if(!(!this._fullscreenEl&&!d.getFullScreenEl())){this.root;var o=this.video;this._fullActionFrom="exit";for(var a=0;a<bs.length;a++){var s=bs[a];if(document[s]){var u=document[s]();return u&&u.then?u:Promise.resolve()}}return o&&o.webkitSupportsFullscreen?(o.webkitExitFullScreen(),Promise.resolve()):Promise.reject(new Error("call exitFullscreen fail"))}}},{key:"getCssFullscreen",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.config.fullscreenTarget;this.fullscreen&&this.exitFullscreen(),this._cssfullscreenEl=n,this.changeFullStyle(this.root,n,n?E.INNER_FULLSCREEN:E.CSS_FULLSCREEN),this.isCssfullScreen=!0,this.emit(Gr,!0)}},{key:"exitCssFullscreen",value:function(){var n=this._cssfullscreenEl?E.INNER_FULLSCREEN:E.CSS_FULLSCREEN;this.fullscreen?this.removeClass(n):this.recoverFullStyle(this.root,this._cssfullscreenEl,n),this._cssfullscreenEl=null,this.isCssfullScreen=!1,this.emit(Gr,!1)}},{key:"focus",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{autoHide:!this.config.closeDelayBlur,delay:this.config.inactive};if(this.isActive){this.onFocus(n);return}this.emit(Ja,so({paused:this.paused,ended:this.ended},n))}},{key:"blur",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{ignorePaused:!1};if(!this.isActive){this.onBlur(n);return}this.emit(xl,so({paused:this.paused,ended:this.ended},n))}},{key:"onFocus",value:function(){var n=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{autoHide:!0,delay:3e3},a=this.innerStates;if(this.isActive=!0,this.removeClass(E.ACTIVE),this.userTimer&&(d.clearTimeout(this,this.userTimer),this.userTimer=null),o.isLock!==void 0&&(a.isActiveLocked=o.isLock),o.autoHide===!1||o.isLock===!0||a.isActiveLocked){this.userTimer&&(d.clearTimeout(this,this.userTimer),this.userTimer=null);return}var s=o&&o.delay?o.delay:this.config.inactive;this.userTimer=d.setTimeout(this,function(){n.userTimer=null,n.blur()},s)}},{key:"onBlur",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{ignorePaused:!1};if(!(!this.isActive||this.innerStates.isActiveLocked)){var o=this.config.closePauseVideoFocus;this.isActive=!1,(n.ignorePaused||o||!this.paused&&!this.ended)&&this.addClass(E.ACTIVE)}}},{key:"onEmptied",value:function(){this.updateAcc("emptied")}},{key:"onCanplay",value:function(){this.hasStart&&this.removeClass(E.ENTER),!this.isBufferControlPaused&&this.removeClass(E.LOADING),this.isCanplay=!0,this.waitTimer&&d.clearTimeout(this,this.waitTimer)}},{key:"onLoadeddata",value:function(){this.isError=!1}},{key:"onPlay",value:function(){this.removeClass(E.PAUSED),this.ended&&this.removeClass(E.ENDED),!this.config.closePlayVideoFocus&&this.focus()}},{key:"onPause",value:function(){!this.isBufferControlPaused&&this.addClass(E.PAUSED),this.updateAcc("pause"),this.config.closePauseVideoFocus||(this.userTimer&&(d.clearTimeout(this,this.userTimer),this.userTimer=null),this.focus())}},{key:"onEnded",value:function(){this.isBufferControlPaused=!1,this.updateAcc("ended"),this.addClass(E.ENDED)}},{key:"onError",value:function(){this.isBufferControlPaused=!1,this.isError=!0,this.updateAcc("error"),this.removeClass(E.NOT_ALLOW_AUTOPLAY),this.removeClass(E.NO_START),this.removeClass(E.ENTER),this.removeClass(E.LOADING),this.addClass(E.ERROR)}},{key:"onSeeking",value:function(){this.isSeeking||this.updateAcc("seeking"),this.isSeeking=!0,this.addClass(E.SEEKING)}},{key:"onSeeked",value:function(){this.isSeeking=!1,this.waitTimer&&d.clearTimeout(this,this.waitTimer),this.removeClass(E.LOADING),this.removeClass(E.SEEKING)}},{key:"onWaiting",value:function(){var n=this;this.waitTimer&&d.clearTimeout(this,this.waitTimer),this.updateAcc("waiting"),this.waitTimer=d.setTimeout(this,function(){n.addClass(E.LOADING),d.clearTimeout(n,n.waitTimer),n.waitTimer=null},200)}},{key:"onPlaying",value:function(){var n=this;this.isError=!1;var o=E.NO_START,a=E.PAUSED,s=E.ENDED,u=E.ERROR,l=E.REPLAY,c=E.LOADING,f=[o,a,s,u,l,c];f.forEach(function(h){n.removeClass(h)})}},{key:"onTimeupdate",value:function(){!this._videoHeight&&this.getVideoSize(),(this.waitTimer||this.hasClass(E.LOADING))&&this.video.readyState>2&&(!this.isBufferControlPaused&&this.removeClass(E.LOADING),d.clearTimeout(this,this.waitTimer),this.waitTimer=null),!this.paused&&!this.isPlaying&&this.duration&&(this.isPlaying=!0,this.emit(vt)),!this._accPlayed.t&&!this.paused&&!this.ended&&(this._accPlayed.t=new Date().getTime())}},{key:"onVolumechange",value:function(){d.typeOf(this.config.volume)==="Number"&&(this.config.volume=this.volume)}},{key:"onRatechange",value:function(){this.config.defaultPlaybackRate=this.playbackRate}},{key:"onBufferControl",value:function(n){this.isPlaying&&(n.type==="waiting"?(this.isBufferControlPaused=!0,this.addClass(E.LOADING),this.removeClass(E.PAUSED)):n.type==="playing"&&(this.isBufferControlPaused=!1,this.removeClass(E.LOADING),this.paused&&this.addClass(E.PAUSED)))}},{key:"emitUserAction",value:function(n,o){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!(!this.video||!o||!n)){var s=d.typeOf(n)==="String"?n:n.type||"";o==="switch_play_pause"&&(d.typeOf(a.paused)==="Undefined"&&(a.paused=this.paused),a.isFirstStart=!this.playing),this.emit(Xr,so({eventType:s,action:o,currentTime:this.currentTime,duration:this.duration,ended:this.ended,event:n},a))}}},{key:"updateAcc",value:function(n){if(this._accPlayed.t){var o=new Date().getTime()-this._accPlayed.t;this._accPlayed.acc+=o,this._accPlayed.t=0,(n==="ended"||this.ended)&&(this._accPlayed.loopAcc=this._accPlayed.acc)}}},{key:"checkBuffer",value:function(n){var o=this.video.buffered;if(!o||o.length===0||!this.duration)return!0;for(var a=parseInt((n||this.video.currentTime||0)*1e3,10),s=o.length,u=0;u<s;u++)if(parseInt(o.start(u)*1e3,10)+200<=a&&parseInt(o.end(u)*1e3,10)-200>a)return!0;return!1}},{key:"resizePosition",value:function(){var n=this.videoPos,o=n.rotate,a=n.vy,s=n.vx,u=n.h,l=n.w;if(!(o<0&&u<0&&l<0)){var c=this.videoPos._pi;if(!c&&this.video.videoHeight&&(c=this.video.videoWidth/this.video.videoHeight*100),!!c){this.videoPos.pi=c;var f={},h=0,p=0,y=1,v=o<0?0:Math.abs(o/90),m=this.root,k=this.innerContainer,T=m.offsetWidth,O=k?k.offsetHeight:m.offsetHeight,z=O,F=T,M={width:T,height:O};if(v%2===0)y=u>0?100/u:l>0?100/l:1,f.scale=y,h=a>0?(100-u)/2-a:0,f.y=v===2?0-h:h,p=s>0?(100-l)/2-s:0,f.x=v===2?0-p:p,M.width=F,M.height=z;else if(v%2===1){F=O,z=T;var D=O-T;p=-D/2/F*100,f.x=v===3?p+a/2:p-a/2,h=D/2/z*100,f.y=v===3?h+s/2:h-s/2,f.scale=y,M.width=F,M.height=z}var W=this.video;o>=0&&["width","height"].forEach(function(H){W.style[H]="".concat(M[H],"px")}),f.rotate=o<0?0:o;var Q=d.getTransformStyle(f,this.video.style.transform||this.video.style.webkitTransform);W.style.transform=Q,W.style.webkitTransform=Q}}}},{key:"position",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{h:0,y:0,x:0,w:0};if(!(!this.video||!n||!n.h)){var o=this.videoPos;o.h=n.h*100||0,o.w=n.w*100||0,o.vx=n.x*100||0,o.vy=n.y*100||0,this.resizePosition()}}},{key:"setConfig",value:function(n){var o=this;n&&Object.keys(n).map(function(a){if(a!=="plugins"){o.config[a]=n[a];var s=o.plugins[a.toLowerCase()];s&&d.typeOf(s.setConfig)==="Function"&&s.setConfig(n[a])}})}},{key:"playNext",value:function(n){var o=this;this.resetState(),this._currentTime=0,this._duration=0,this.isPlaying=!1,this.setConfig(n),this.vtype="MP4",Fe(this,"playnext",function(){o.start(),o.emit(Yr,n)})}},{key:"getVideoSize",value:function(){var n=this;if(this.video){var o=this.root.getBoundingClientRect();this.sizeInfo.width=o.width,this.sizeInfo.height=o.height,this.sizeInfo.left=o.left,this.sizeInfo.top=o.top;var a=this.video,s=a.videoWidth,u=a.videoHeight,l=this.config,c=l.fitVideoSize,f=l.videoFillMode;if((f==="fill"||f==="cover"||f==="contain")&&this.setAttribute("data-xgfill",f),!(!u||!s)){this._videoHeight=u,this._videoWidth=s;var h=this.controls&&this.innerContainer?this.controls.root.getBoundingClientRect().height:0,p=o.width,y=o.height-h,v=parseInt(s/u*1e3,10),m=parseInt(p/y*1e3,10),k=p,T=y,O={};c==="auto"&&m>v||c==="fixWidth"?(T=p/v*1e3,this.config.fluid?O.paddingTop="".concat(T*100/k,"%"):O.height="".concat(T+h,"px")):(c==="auto"&&m<v||c==="fixHeight")&&(k=v*y/1e3,O.width="".concat(k,"px")),!this.fullscreen&&!this.cssfullscreen&&Object.keys(O).forEach(function(F){n.root.style[F]=O[F]}),(f==="fillHeight"&&m<v||f==="fillWidth"&&m>v)&&this.setAttribute("data-xgfill","cover");var z={videoScale:v,vWidth:k,vHeight:T,cWidth:k,cHeight:T+h};this.resizePosition(),this.emit(Zt,z)}}}},{key:"updateObjectPosition",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(this.video.updateObjectPosition){this.video.updateObjectPosition(n,o);return}this.video.style.objectPosition="".concat(n*100,"% ").concat(o*100,"%")}},{key:"preProcessUrl",value:function(n,o){var a=this.config,s=a.preProcessUrl,u=a.preProcessUrlOptions,l=Object.assign({},u,o);return!d.isBlob(n)&&typeof s=="function"?s(n,l):{url:n}}},{key:"src",get:function(){return this.video?this.video.src:""},set:function(n){if(this.video){if(this.emit(Hi,n),this.emit(Or),this._currentTime=0,this._duration=0,d.isMSE(this.video)){this.onWaiting();return}n=this.preProcessUrl(n).url,this._detachSourceEvents(this.video),d.typeOf(n)==="Array"?this._attachSourceEvents(this.video,n):n?this.video.src=n:this.video.removeAttribute("src"),this.load()}}},{key:"definitionList",get:function(){return!this.config||!this.config.definition?[]:this.config.definition.list||[]},set:function(n){var o=this,a=this.config.definition;a.list=n,this.emit("resourceReady",n);var s=null,u=null;n.map(function(l){o.curDefinition===l.definition&&(s=l),a.defaultDefinition===l.definition&&(u=l)}),!u&&n.length>0&&(u=n[0]),s?this.changeDefinition(s):u&&this.changeDefinition(u)}},{key:"videoFrameInfo",get:function(){var n={total:0,dropped:0,corrupted:0,droppedRate:0,droppedDuration:0};if(!this.video||!this.video.getVideoPlaybackQuality)return n;var o=this.video.getVideoPlaybackQuality();return n.dropped=o.droppedVideoFrames||0,n.total=o.totalVideoFrames||0,n.corrupted=o.corruptedVideoFrames||0,n.total>0&&(n.droppedRate=n.dropped/n.total*100,n.droppedDuration=parseInt(this.cumulateTime/n.total*n.dropped,0)),n}},{key:"lang",get:function(){return this.config.lang},set:function(n){var o=Kt.langKeys.filter(function(a){return a===n});if(o.length===0&&n!=="zh"){console.error("Sorry, set lang fail, because the language [".concat(n,"] is not supported now, list of all supported languages is [").concat(Kt.langKeys.join(),"] "));return}this.config.lang=n,ae.setLang(n,this)}},{key:"i18n",get:function(){var n=this.config.lang;return n==="zh"&&(n="zh-cn"),this.__i18n.lang[n]||this.__i18n.lang.en}},{key:"i18nKeys",get:function(){return this.__i18n.textKeys||{}}},{key:"version",get:function(){return Eo}},{key:"playerId",get:function(){return this._pluginInfoId}},{key:"url",get:function(){return this.__url||this.config.url},set:function(n){this.__url=n}},{key:"poster",get:function(){return this.plugins.poster?this.plugins.poster.config.poster:this.config.poster},set:function(n){this.plugins.poster&&this.plugins.poster.update(n)}},{key:"readyState",get:function(){var n=Ae(we(i.prototype),"readyState",this);return this.i18n[n]||n}},{key:"error",get:function(){var n=Ae(we(i.prototype),"error",this);return this.i18n[n]||n}},{key:"networkState",get:function(){var n=Ae(we(i.prototype),"networkState",this);return this.i18n[n]||n}},{key:"fullscreenChanging",get:function(){return this._fullScreenOffset!==null}},{key:"cumulateTime",get:function(){var n=this._accPlayed;return this.updateAcc("get"),n.acc}},{key:"zoom",get:function(){return this.config.zoom},set:function(n){this.config.zoom=n}},{key:"videoRotateDeg",get:function(){return this.videoPos.rotate},set:function(n){n=d.convertDeg(n),!(n%90!==0||n===this.videoPos.rotate)&&(this.videoPos.rotate=n,this.resizePosition())}},{key:"avgSpeed",get:function(){return Ms},set:function(n){Ms=n}},{key:"realTimeSpeed",get:function(){return Ns},set:function(n){Ns=n}},{key:"hook",value:function(n,o){return qr.call.apply(qr,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"useHooks",value:function(n,o){return Jr.call.apply(Jr,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"removeHooks",value:function(n,o){return Zr.call.apply(Zr,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"usePluginHooks",value:function(n,o,a){for(var s=arguments.length,u=new Array(s>3?s-3:0),l=3;l<s;l++)u[l-3]=arguments[l];return ws.call.apply(ws,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"removePluginHooks",value:function(n,o,a){for(var s=arguments.length,u=new Array(s>3?s-3:0),l=3;l<s;l++)u[l-3]=arguments[l];return Ps.call.apply(Ps,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"setUserActive",value:function(n,o){var a;typeof o=="boolean"&&o!==this.muted&&(this.addInnerOP("volumechange"),this.muted=o),(a=We)===null||a===void 0||a.setActive(this.playerId,n)}}],[{key:"debugger",get:function(){return j.config.debug},set:function(n){j.config.debug=n}},{key:"instManager",get:function(){return We},set:function(n){We=n}},{key:"pluginsManager",get:function(){return ae}},{key:"getCurrentUserActivePlayerId",value:function(){var n;return(n=We)===null||n===void 0?void 0:n.getActiveId()}},{key:"setCurrentUserActive",value:function(n,o){var a;(a=We)===null||a===void 0||a.setActive(n,o)}},{key:"isHevcSupported",value:function(){return V.isHevcSupported()}},{key:"probeConfigSupported",value:function(n){return V.probeConfigSupported(n)}},{key:"install",value:function(n,o){i.plugins||(i.plugins={}),i.plugins[n]||(i.plugins[n]=o)}},{key:"use",value:function(n,o){i.plugins||(i.plugins={}),i.plugins[n]=o}}]),i}(jy);ht(Ui,"defaultPreset",null);ht(Ui,"XgVideoProxy",null);Ui.instManager=Jl.getInstance();function on(t){"@babel/helpers - typeof";return on=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},on(t)}function js(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function xr(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?js(Object(i),!0).forEach(function(r){fe(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):js(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function vm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bs(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ec(r.key),r)}}function ym(t,e,i){return e&&Bs(t.prototype,e),i&&Bs(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function gm(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ho(t,e)}function Ho(t,e){return Ho=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Ho(t,e)}function mm(t){var e=bm();return function(){var r=ei(t),n;if(e){var o=ei(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _m(this,n)}}function _m(t,e){if(e&&(on(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q(t)}function q(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bm(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ei(t){return ei=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},ei(t)}function fe(t,e,i){return e=ec(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function ec(t){var e=wm(t,"string");return on(e)==="symbol"?e:String(e)}function wm(t,e){if(on(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(on(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ce(){return new Date().getTime()}var Re={LOAD_START:"loadstart",LOADED_DATA:"loadeddata",FIRST_FRAME:"firstFrame",WAIT_START:"waitingStart",WAIT_END:"waitingEnd",SEEK_START:"seekStart",SEEK_END:"seekEnd",WAIT_END_EXT:"waitingEndExt",SEEK_END_EXT:"seekEndEndExt"},re="[xgLogger]",Pm=function(t){gm(i,t);var e=mm(i);function i(){var r;vm(this,i);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),fe(q(r),"_onLoadStart",function(){var s=q(r),u=s._state,l=u.autoplayStart,c=u.isFFSend;r.startCostTime=ce()-r.newPointTime,j.logInfo(re,"LOAD_START","autoplayStart:".concat(l," isFFSend:").concat(c," startCostTime:").concat(r.startCostTime," newPointTime").concat(r.newPointTime)),!c&&(!u.isLs&&r.emitLog(Re.LOAD_START,{}),u.isLs=!0,u.isTimeUpdate=!1,u.isFFLoading=!0,r.pt=ce(),r.vt=0,r.fvt=0,r._initOnceEvents())}),fe(q(r),"_onLoadedData",function(){r.vt=ce(),r.fvt=r.vt-r.pt,r.loadedCostTime=r.vt-r.newPointTime,r._updateBuffer();var s=r._state,u=s.isTimeUpdate,l=s.isFFSend,c=s.autoplayStart;j.logInfo(re,"LOADED_DATA","fvt:".concat(r.fvt," isTimeUpdate:").concat(r._state.isTimeUpdate," loadedCostTime:").concat(r.loadedCostTime)),(u||c)&&r._sendFF("loadedData"),l||r.emitLog(Re.LOADED_DATA,{})}),fe(q(r),"_onTimeupdate",function(){var s=q(r),u=s._state;u.isTimeUpdate=!0,u.time=r.player.currentTime,r._state.autoplayStart&&!u.isFFSend&&r._sendFF("onTimeupdate")}),fe(q(r),"_onPlay",function(){var s=r.player.buffered,u=q(r),l=u.levelInfo;j.logInfo(re,"_onPlay playPos:".concat(l.startBuffer)),l.startBuffer<0&&(l.startBuffer=s.length>0?parseInt(s.end(0)*1e3,10):0,l.startType="onplay")}),fe(q(r),"_onAutoplayStart",function(){j.logInfo(re,"_onAutoplayStart"),r._state.autoplayStart=!0,r.vt&&r._sendFF("onAutoplayStart")}),fe(q(r),"_onReset",function(){r._state={time:0,autoplayStart:!1,isFFLoading:!1,isTimeUpdate:!1,isFFSend:!1,isLs:!1},r.vt=0,r.pt=0,r.fvt=0,r.newPointTime=ce(),r.loadedCostTime=0,r.startCostTime=0,r.seekingStart=0,r.seekData={startTime:0,lastTime:0,timeBefore:0,timeAfter:0,inBuffer:0,diffStart:0,interval:-1},r.waitData={startTime:0,lastTime:0,interval:-1,diffStart:0},r.waitingStart=0,r.fixedWaitingStart=0,r.ffsendTime=0,r.levelInfo={diff:0,buffer:-1,startBuffer:-1,startType:""},r._isWaiting=!1,r._waitTimer&&d.clearTimeout(q(r),r._waitTimer),r._waittTimer&&d.clearTimeout(q(r),r._waittTimer),r._waitTimer=null,r._waittTimer=null,r._waitType=0}),fe(q(r),"_onSeeking",function(){var s=q(r),u=s.seekData,l=s._state;if(!u.startTime){var c=r.player,f=c.buffered,h=c.currentTime;u.startTime=ce(),u.timeBefore=l.time,u.timeAfter=h;var p=d.getBufferByCurrentTime(f,h);j.logInfo(re,"onSeeking",h,p),u.inBuffer=p.include,u.diffStart=p.diff*1e3,u.lastTime>0?u.interval=u.startTime-u.lastTime:u.interval=-1,j.logInfo(re,"onSeeking",u),r.suspendWaitingStatus("seek");var y=r._getSeekInfo();r.emitLog(Re.SEEK_START,xr({start:ce()},y))}}),fe(q(r),"_onSeeked",function(){j.logInfo(re,"onSeeked"),r.suspendSeekingStatus("seeked")}),fe(q(r),"_onWaitingLoadStart",function(){r._isWaiting||r.vt||(r._isWaiting=!0,r.waitingStart=ce(),r.fixedWaitingStart=ce(),r._waitType=1,r.emitLog(Re.WAIT_START,{fixedStart:r.fixedWaitingStart,start:r.waitingStart,type:1,endType:"loadstart"}))}),fe(q(r),"_onWaiting",function(){if(!(r._isWaiting||!r.vt)){r._isWaiting=!0;var s=q(r),u=s.waitData,l=s.seekData,c=s._state;!c.isTimeUpdate&&l.startTime===0?r._waitType=1:l.startTime?r._waitType=2:r._waitType=0,r.fixedWaitingStart=ce(),j.logInfo(re,"_onWaiting"),u.lastTime>0?u.interval=r.fixedWaitingStart-u.lastTime:u.interval=-1;var f=r.player,h=f.buffered,p=f.currentTime,y=d.getBufferByCurrentTime(h,p);u.diffStart=y.diff*1e3,r._waitTimer=d.setTimeout(q(r),function(){j.logInfo(re,"_onWaiting real");var v=q(r),m=v.waitData;r._isWaiting?(r.waitingStart=ce(),d.clearTimeout(q(r),r._waitTimer),m.lastTime=r.fixedWaitingStart,r._waitTimer=null,r._startWaitTimeout(),r.emitLog(Re.WAIT_START,{fixedStart:r.fixedWaitingStart,start:r.waitingStart,type:r._waitType,endType:r._waitType===2?"seek":"playing",diffStart:m.diffStart,interval:m.interval})):(m.interval=-1,m.diffStart=0)},200)}}),fe(q(r),"_onError",function(){r.suspendSeekingStatus("error"),r.suspendWaitingStatus("error")}),fe(q(r),"_onWaitingTimeout",function(s){r.suspendWaitingStatus(s||"timeout"),d.clearTimeout(q(r),r._waittTimer),r._waittTimer=null}),fe(q(r),"_onProgress",function(){j.logInfo(re,"_onProgress")}),fe(q(r),"_onPlaying",function(){j.logInfo(re,"_onPlaying"),r._isWaiting&&r.suspendWaitingStatus("playing")}),r}return ym(i,[{key:"afterCreate",value:function(){var n=this;this._onReset(),this._waitType=-1,this._initOnceEvents(),this.newPointTime=ce(),this.loadedCostTime=0,this.startCostTime=0,this.ffsendTime=0,this.on(Bi,this._onLoadStart),this.on(Jt,this._onLoadedData),this.on(qa,this._onSeeking),this.on(Ue,this._onSeeked),this.on(es,function(){n.endState("destroy")}),this.on(it,function(){n.endState("ended")}),this.on(Rt,function(){n.endState("pause")}),this.on(Ie,this._onPlay),this.on(Hi,function(){n.endState("urlChange"),j.logInfo(re,"URL_CHANGE"),n._state.isFFSend&&n._onReset()}),this.on([Xa,ze],this._onPlaying),this.on(Or,this._onWaiting),this.on(ji,this._onError),this.on(Vi,function(){j.logInfo(re,"RESET"),n.endState("reset"),n._initOnceEvents(),n._onReset();var o=n.levelInfo,a=n.playerConfig;a.autoplay&&(o.startType="onreset",o.startBuffer=0)})}},{key:"_initOnceEvents",value:function(){this.off(vt,this._onAutoplayStart),this.off(Ee,this._onTimeupdate),this.once(vt,this._onAutoplayStart),this.on(Ee,this._onTimeupdate)}},{key:"_sendFF",value:function(n){var o=this._state,a=o.isFFLoading,s=o.isFFSend;if(j.logInfo(re,"_sendFF","".concat(n," fvt:").concat(this.fvt," isFFLoading:").concat(a," !isFFSend:").concat(!s)),this.vt>0&&a&&!s){var u;this.ffsendTime=ce();var l=this.levelInfo,c=l.buffer,f=l.startBuffer,h=l.startType;j.logInfo(re,"emitLog_firstFrame",n,"startBuffer:".concat(f," startType:").concat(h," buffer:").concat(c," ")),this._state.isFFLoading=!1,this._state.isFFSend=!0;var p=this.fvt+(((u=this.player)===null||u===void 0?void 0:u.beforeLoadStartCostTime)||0);this.emitLog(Re.FIRST_FRAME,{fvt:this.fvt,costTime:p,vt:this.vt,startCostTime:this.startCostTime,loadedCostTime:this.loadedCostTime,buffer:c,startBuffer:f,endType:n})}}},{key:"_updateBuffer",value:function(){var n=this.player,o=n.buffered,a=n.currentTime,s=d.getBufferByCurrentTime(o,a);j.logInfo(re,"_updateBuffer",s);var u=this.levelInfo;u.buffer=s.end*1e3,u.diff=s.diff*1e3}},{key:"_getSeekInfo",value:function(){var n=this.seekData,o=n.interval,a=n.timeBefore,s=n.timeAfter,u=n.inBuffer,l=n.diffStart;return{interval:o,timeBefore:a,timeAfter:s,inBuffer:u,diffStart:l}}},{key:"_startWaitTimeout",value:function(){this._waittTimer&&d.clearTimeout(this,this._waittTimer),this._waittTimer=d.setTimeout(this,this._onWaitingTimeout,this.config.waitTimeout)}},{key:"endState",value:function(n){var o=this.player,a=o.currentTime,s=o.duration,u=s-a,l=!(s>0&&a>0&&u<1);j.logInfo(re,"endState:".concat(n," duration - currentTime:").concat(u," _emit:").concat(l)),this.suspendWaitingStatus(n,l),this.suspendSeekingStatus(n,l)}},{key:"suspendSeekingStatus",value:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,a=this.seekData;if(a.startTime){var s=ce(),u=s-a.startTime,l=this.player,c=l.buffered,f=l.currentTime,h=d.getBufferByCurrentTime(c,f);j.logInfo(re,"suspendSeekingStatus",f,u),a.lastTime=a.startTime,a.startTime=0;var p=o?Re.SEEK_END:Re.SEEK_END_EXT,y=this._getSeekInfo();this.emitLog(p,xr(xr({end:s,costTime:u,endType:n},y),{},{diffEnd:h.diff*1e3}))}}},{key:"suspendWaitingStatus",value:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(this._waitTimer&&(d.clearTimeout(this,this._waitTimer),this._waitTimer=null),this._waittTimer&&(d.clearTimeout(this,this._waittTimer),this._waittTimer=null),this._isWaiting=!1,!!this.waitingStart){var a=this.waitData,s=ce(),u=s-this.waitingStart,l=s-this.fixedWaitingStart,c=this.config.waitTimeout;this._isWaiting=!1,this.waitingStart=0,this.fixedWaitingStart=0;var f=this.player,h=f.buffered,p=f.currentTime,y=d.getBufferByCurrentTime(h,p),v=o?Re.WAIT_END:Re.WAIT_END_EXT;this.emitLog(v,{fixedCostTime:l>c?c:l,costTime:u>c?c:u,type:n==="loadeddata"?1:this._waitType,endType:this._waitType===2?"seek":n,diffStart:a.diffStart,diffEnd:y.diff*1e3,interval:a.interval})}}},{key:"emitLog",value:function(n,o){var a=this.player,s=a.video,u=s.readyState,l=s.networkState;this.emit(Nl,xr({t:ce(),host:d.getHostFromUrl(a.currentSrc),vtype:a.vtype,eventType:n,currentTime:a.currentTime,readyState:u,networkState:l},o))}}],[{key:"pluginName",get:function(){return"xgLogger"}},{key:"defaultConfig",get:function(){return{waitTimeout:1e4}}}]),i}(G);function an(t){"@babel/helpers - typeof";return an=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},an(t)}function Sm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fs(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Om(r.key),r)}}function km(t,e,i){return e&&Fs(t.prototype,e),i&&Fs(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function Om(t){var e=Tm(t,"string");return an(e)==="symbol"?e:String(e)}function Tm(t,e){if(an(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(an(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Em(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vo(t,e)}function Vo(t,e){return Vo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Vo(t,e)}function Cm(t){var e=xm();return function(){var r=ti(t),n;if(e){var o=ti(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Im(this,n)}}function Im(t,e){if(e&&(an(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $m(t)}function $m(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xm(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ti(t){return ti=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},ti(t)}var Rm='<svg class="xgplayer-replay-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 78 78" width="78" height="78"><path fill="#fff" d="M28.227 33.876l3.04-1.229a1 1 0 011.303.553l.374.927a1 1 0 01-.552 1.302l-5.564 2.247-.927.375a1 1 0 01-1.302-.553l-2.622-6.49a1 1 0 01.553-1.302l.927-.374a1 1 0 011.302.552l.92 2.278A15.005 15.005 0 0139.5 23c8.284 0 15 6.716 15 15 0 8.284-6.716 15-15 15a14.955 14.955 0 01-10.63-4.417 1.5 1.5 0 112.126-2.116A11.956 11.956 0 0039.5 50c6.627 0 12-5.373 12-12s-5.373-12-12-12a12.005 12.005 0 00-11.273 7.876z"/></svg>',Lm=function(t){Em(i,t);var e=Cm(i);function i(){return Sm(this,i),e.apply(this,arguments)}return km(i,[{key:"registerIcons",value:function(){return{replay:Rm}}},{key:"afterCreate",value:function(){var n=this;G.insert(this.icons.replay,this.root,0),this.__handleReplay=this.hook("replayHandler",function(){n.player.replay()},{pre:function(a){a.preventDefault(),a.stopPropagation()}}),this.bind(".xgplayer-replay",["click","touchend"],this.__handleReplay),this.on(it,function(){if(n.playerConfig.loop||d.addClass(n.player.root,"replay"),!n.config.disable){n.show();var o=n.root.querySelector("path");if(o){var a=window.getComputedStyle(o).getPropertyValue("transform");if(typeof a=="string"&&a.indexOf("none")>-1)return null;o.setAttribute("transform",a)}}}),this.on(Ie,function(){n.hide()})}},{key:"handleReplay",value:function(n){n.preventDefault(),n.stopPropagation(),this.player.replay(),d.removeClass(this.player.root,"replay")}},{key:"show",value:function(){this.config.disable||(this.root.style.display="flex")}},{key:"enable",value:function(){this.config.disable=!1}},{key:"disable",value:function(){this.config.disable=!0,this.hide()}},{key:"destroy",value:function(){this.unbind(".xgplayer-replay",["click","touchend"],this.__handleReplay)}},{key:"render",value:function(){return`<xg-replay class="xgplayer-replay">
      <xg-replay-txt class="xgplayer-replay-txt" lang-key="`.concat(this.i18nKeys.REPLAY,'">').concat(this.i18n.REPLAY,`</xg-replay-txt>
    </xg-replay>`)}}],[{key:"pluginName",get:function(){return"replay"}},{key:"defaultConfig",get:function(){return{disable:!1}}}]),i}(G);function sn(t){"@babel/helpers - typeof";return sn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sn(t)}function Am(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hs(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Nm(r.key),r)}}function Dm(t,e,i){return e&&Hs(t.prototype,e),i&&Hs(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nm(t){var e=Mm(t,"string");return sn(e)==="symbol"?e:String(e)}function Mm(t,e){if(sn(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(sn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function jm(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Uo(t,e)}function Uo(t,e){return Uo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Uo(t,e)}function Bm(t){var e=Vm();return function(){var r=ni(t),n;if(e){var o=ni(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Fm(this,n)}}function Fm(t,e){if(e&&(sn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hm(t)}function Hm(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vm(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ni(t){return ni=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},ni(t)}var Um=function(t){jm(i,t);var e=Bm(i);function i(){return Am(this,i),e.apply(this,arguments)}return Dm(i,[{key:"isEndedShow",get:function(){return this.config.isEndedShow},set:function(n){this.config.isEndedShow=n}},{key:"hide",value:function(){d.addClass(this.root,"hide")}},{key:"show",value:function(){d.removeClass(this.root,"hide")}},{key:"beforeCreate",value:function(n){typeof n.player.config.poster=="string"&&(n.config.poster=n.player.config.poster)}},{key:"afterCreate",value:function(){var n=this;this.on(it,function(){n.isEndedShow&&d.removeClass(n.root,"hide")}),this.config.hideCanplay?(this.once(Ee,function(){n.onTimeUpdate()}),this.on(Hi,function(){d.removeClass(n.root,"hide"),d.addClass(n.root,"xg-showplay"),n.once(Ee,function(){n.onTimeUpdate()})})):this.on(Ie,function(){d.addClass(n.root,"hide")})}},{key:"onTimeUpdate",value:function(){var n=this;this.player.currentTime?d.removeClass(this.root,"xg-showplay"):this.once(Ee,function(){n.onTimeUpdate()})}},{key:"update",value:function(n){n&&(this.config.poster=n,this.root.style.backgroundImage="url(".concat(n,")"))}},{key:"render",value:function(){var n=this.config,o=n.poster,a=n.hideCanplay,s=o?"background-image:url(".concat(o,");"):"";return'<xg-poster class="xgplayer-poster '.concat(a?"xg-showplay":"",'" style="').concat(s,`">
    </xg-poster>`)}}],[{key:"pluginName",get:function(){return"poster"}},{key:"defaultConfig",get:function(){return{isEndedShow:!0,hideCanplay:!1,poster:""}}}]),i}(G);function un(t){"@babel/helpers - typeof";return un=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},un(t)}function zm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vs(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tc(r.key),r)}}function Km(t,e,i){return e&&Vs(t.prototype,e),i&&Vs(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gm(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zo(t,e)}function zo(t,e){return zo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},zo(t,e)}function Wm(t){var e=Xm();return function(){var r=ri(t),n;if(e){var o=ri(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ym(this,n)}}function Ym(t,e){if(e&&(un(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ko(t)}function Ko(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xm(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ri(t){return ri=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},ri(t)}function Us(t,e,i){return e=tc(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function tc(t){var e=qm(t,"string");return un(e)==="symbol"?e:String(e)}function qm(t,e){if(un(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(un(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jm='<svg class="play" xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="3 -4 28 40"><path fill="#fff" d="M18.468 11.639l7.503 4.777-7.503 4.777zM10.965 6.86l7.503 4.778v9.554l-7.503 4.778z"/></svg>',Zm='<svg class="pause" xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="3 -4 28 40"><path fill="#fff" d="M19.173 6.861h5.451v19.11h-5.45V6.86zM8.208 25.971V6.86h5.45v19.11h-5.45z"/></svg>',Be={};function Qm(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{start:null,end:null};Be[t]&&window.clearTimeout(Be[t].id),Be[t]={},i.start&&i.start(),Be[t].id=window.setTimeout(function(){i.end&&i.end(),window.clearTimeout(Be[t].id),delete Be[t]},e)}function e_(){Object.keys(Be).map(function(t){window.clearTimeout(Be[t].id),delete Be[t]})}var t_=function(t){Gm(i,t);var e=Wm(i);function i(r){var n;return zm(this,i),n=e.call(this,r),Us(Ko(n),"onPlayerReset",function(){n.autoPlayStart=!1;var o=n.config.mode==="auto"?"auto-hide":"hide";n.setAttr("data-state","play"),d.removeClass(n.root,o),n.show()}),Us(Ko(n),"onAutoplayStart",function(){if(!n.autoPlayStart){var o=n.config.mode==="auto"?"auto-hide":"hide";d.addClass(n.root,o),n.autoPlayStart=!0,n.onPlayPause("play")}}),n.autoPlayStart=!1,n._lastState="",n}return Km(i,[{key:"afterCreate",value:function(){var n=this,o=this.player,a=this.playerConfig;this.initIcons(),this.once(Za,function(){a&&(a.lang&&a.lang==="en"?d.addClass(o.root,"lang-is-en"):a.lang==="jp"&&d.addClass(o.root,"lang-is-jp"))}),this.on(vt,this.onAutoplayStart),a.autoplay||this.show(),this.on(Qa,function(){var s=n.config.mode==="auto"?"auto-hide":"hide";n.setAttr("data-state","play"),d.removeClass(n.root,s),n.show()}),this.on(Ie,function(){n.onPlayPause("play")}),this.on(Rt,function(){n.onPlayPause("pause")}),this.on(Wt,function(){n.onPlayPause(o.paused?"pause":"play")}),this.on(Vi,function(){n.onPlayerReset()}),this.clickHandler=this.hook("click",this.switchPausePlay,{pre:function(u){u.cancelable&&u.preventDefault(),u.stopPropagation(),n.emitUserAction(u,"switch_play_pause")}}),this.bind(["click","touchend"],this.clickHandler)}},{key:"registerIcons",value:function(){return{startPlay:{icon:Jm,class:"xg-icon-play"},startPause:{icon:Zm,class:"xg-icon-pause"}}}},{key:"initIcons",value:function(){var n=this.icons;this.appendChild("xg-start-inner",n.startPlay),this.appendChild("xg-start-inner",n.startPause)}},{key:"hide",value:function(){d.addClass(this.root,"hide")}},{key:"show",value:function(){d.removeClass(this.root,"hide")}},{key:"focusHide",value:function(){d.addClass(this.root,"focus-hide")}},{key:"recover",value:function(){d.removeClass(this.root,"focus-hide")}},{key:"switchStatus",value:function(n){n?this.setAttr("data-state",this.player.paused?"pause":"play"):this.setAttr("data-state",this.player.paused?"play":"pause")}},{key:"animate",value:function(n){var o=this;Qm("pauseplay",400,{start:function(){d.addClass(o.root,"interact"),o.show(),o.switchStatus(!0)},end:function(){d.removeClass(o.root,"interact"),!n&&o.hide()}})}},{key:"switchPausePlay",value:function(n){var o=this.player;if(n.cancelable&&n.preventDefault(),n.stopPropagation(),!!o.isReady){var a=this.player.paused;!a&&o.isPlaying?o.pause():o.play()}}},{key:"onPlayPause",value:function(n){var o=this.config,a=this.player;if(!(!a.isPlaying||!this.autoPlayStart||n==="pause"&&(this._lastState===n||a.isBufferControlPaused))){if(this._lastState=n,o.mode==="show"){this.switchStatus(),this.show();return}if(o.mode==="auto"){this.switchStatus();return}if(o.isShowPause&&a.paused&&!a.ended||o.isShowEnd&&a.ended){this.switchStatus(),this.show();return}if(o.disableAnimate){this.switchStatus(),this.hide();return}if(n==="play")this.autoPlayStart?this.animate():this.hide();else{if(!this.autoPlayStart||a.ended)return;this.animate()}}}},{key:"destroy",value:function(){this.unbind(["click","touchend"],this.clickHandler),e_()}},{key:"render",value:function(){var n=this.playerConfig.autoplay?this.config.mode==="auto"?"auto-hide":"hide":"";return`
    <xg-start class="xgplayer-start `.concat(n,`">
    <xg-start-inner></xg-start-inner>
    </xg-start>`)}}],[{key:"pluginName",get:function(){return"start"}},{key:"defaultConfig",get:function(){return{isShowPause:!1,isShowEnd:!1,disableAnimate:!1,mode:"hide"}}}]),i}(G);function ln(t){"@babel/helpers - typeof";return ln=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ln(t)}function n_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zs(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i_(r.key),r)}}function r_(t,e,i){return e&&zs(t.prototype,e),i&&zs(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function i_(t){var e=o_(t,"string");return ln(e)==="symbol"?e:String(e)}function o_(t,e){if(ln(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(ln(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function a_(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Go(t,e)}function Go(t,e){return Go=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Go(t,e)}function s_(t){var e=c_();return function(){var r=ii(t),n;if(e){var o=ii(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u_(this,n)}}function u_(t,e){if(e&&(ln(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l_(t)}function l_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c_(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ii(t){return ii=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},ii(t)}var f_=function(t){a_(i,t);var e=s_(i);function i(){return n_(this,i),e.apply(this,arguments)}return r_(i,[{key:"render",value:function(){var n=this.config.innerHtml,o=d.createDom("xg-enter","",{},"xgplayer-enter");if(n&&n instanceof window.HTMLElement)o.appendChild(n);else if(n&&typeof n=="string")o.innerHTML=n;else{for(var a="",s=1;s<=12;s++)a+='<div class="xgplayer-enter-bar'.concat(s,'"></div>');o.innerHTML='<div class="xgplayer-enter-spinner">'.concat(a,"</div>")}return o}}],[{key:"pluginName",get:function(){return"enter"}},{key:"defaultConfig",get:function(){return{innerHtml:"",logo:""}}}]),i}(G);function cn(t){"@babel/helpers - typeof";return cn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cn(t)}function d_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ks(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,p_(r.key),r)}}function h_(t,e,i){return e&&Ks(t.prototype,e),i&&Ks(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function p_(t){var e=v_(t,"string");return cn(e)==="symbol"?e:String(e)}function v_(t,e){if(cn(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(cn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function y_(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wo(t,e)}function Wo(t,e){return Wo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Wo(t,e)}function g_(t){var e=b_();return function(){var r=oi(t),n;if(e){var o=oi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m_(this,n)}}function m_(t,e){if(e&&(cn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return __(t)}function __(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b_(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function oi(t){return oi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},oi(t)}var Gs=function(t){y_(i,t);var e=g_(i);function i(){return d_(this,i),e.apply(this,arguments)}return h_(i,[{key:"afterCreate",value:function(){this.getMini=this.getMini.bind(this),this.exitMini=this.exitMini.bind(this),this.bind("click",this.getMini)}},{key:"getMini",value:function(){this.config.onClick&&this.config.onClick()}},{key:"exitMini",value:function(){this.config.onClick&&this.config.onClick()}},{key:"destroy",value:function(){this.unbind(["click","touchend"],this.getMini)}},{key:"render",value:function(){var n="MINISCREEN";return`
      <xg-icon class="xgplayer-miniicon">
      <div class="xgplayer-icon btn-text"><span class="icon-text" lang-key="`.concat(this.i18nKeys[n],'">').concat(this.i18n[n],`</span></div>
      </xg-icon>`)}}],[{key:"pluginName",get:function(){return"miniscreenIcon"}},{key:"defaultConfig",get:function(){return{position:Z.CONTROLS_RIGHT,index:10}}}]),i}(G);function w_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P_(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,k_(r.key),r)}}function S_(t,e,i){return e&&P_(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function k_(t){var e=O_(t,"string");return wt(e)==="symbol"?e:String(e)}function O_(t,e){if(wt(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(wt(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function T_(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yo(t,e)}function Yo(t,e){return Yo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Yo(t,e)}function E_(t){var e=I_();return function(){var r=ai(t),n;if(e){var o=ai(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nc(this,n)}}function nc(t,e){if(e&&(wt(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C_(t)}function C_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I_(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ai(t){return ai=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},ai(t)}function wt(t){"@babel/helpers - typeof";return wt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wt(t)}function Ws(t){var e=parseFloat(t),i=t.indexOf("%")===-1&&!Number.isNaN(e);return i&&e}var rs=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],rc=rs.length;function $_(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;e<rc;e++){var i=rs[e];t[i]=0}return t}function x_(t){var e=window.getComputedStyle(t);return e}function Ys(t){if(typeof t=="string"&&(t=document.querySelector(t)),!(!t||wt(t)!=="object"||!t.nodeType)){var e=x_(t);if(e.display==="none")return $_();var i={};i.width=t.offsetWidth,i.height=t.offsetHeight;for(var r=i.isBorderBox=e.boxSizing==="border-box",n=0;n<rc;n++){var o=rs[n],a=e[o],s=parseFloat(a);i[o]=Number.isNaN(s)?0:s}var u=i.paddingLeft+i.paddingRight,l=i.paddingTop+i.paddingBottom,c=i.marginLeft+i.marginRight,f=i.marginTop+i.marginBottom,h=i.borderLeftWidth+i.borderRightWidth,p=i.borderTopWidth+i.borderBottomWidth,y=r,v=Ws(e.width);v!==!1&&(i.width=v+(y?0:u+h));var m=Ws(e.height);return m!==!1&&(i.height=m+(y?0:l+p)),i.innerWidth=i.width-(u+h),i.innerHeight=i.height-(l+p),i.outerWidth=i.width+c,i.outerHeight=i.height+f,i}}function uo(t,e){for(var i=0;i<t.length;i++){var r=t[i];if(r.identifier===e)return r}}var lo={START:"dragStart",MOVE:"dragMove",ENDED:"dragEnded"},Xs={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"]},R_=function(t){T_(i,t);var e=E_(i);function i(r){var n,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return w_(this,i),n=e.call(this),n.isEnabled=!0,n.isDragging=!1,n.isDown=!1,n.position={},n.downPoint={},n.dragPoint={x:0,y:0},n.startPos={x:0,y:0},n._root=r instanceof Element?r:document.querySelector(r),n._handlerDom=o.handle instanceof Element?o.handle:document.querySelector(o.handle),!n._root||!n._handlerDom?nc(n):(n._bindStartEvent(),n)}return S_(i,[{key:"_bindStartEvent",value:function(){var n=this;"ontouchstart"in window?this._startKey="touchstart":this._startKey="mousedown",this["on".concat(this._startKey)]=this["on".concat(this._startKey)].bind(this),this._handlerDom.addEventListener(this._startKey,this["on".concat(this._startKey)]),Xs[this._startKey].map(function(o){n["on".concat(o)]=n["on".concat(o)].bind(n)})}},{key:"_unbindStartEvent",value:function(){this._handlerDom.removeEventListener(this._startKey,this["on".concat(this._startKey)])}},{key:"_bindPostStartEvents",value:function(n){var o=this;if(n){var a=Xs[this._startKey];a.map(function(s){window.addEventListener(s,o["on".concat(s)])}),this._boundPointerEvents=a}}},{key:"_unbindPostStartEvents",value:function(){var n=this;this._boundPointerEvents&&(this._boundPointerEvents.map(function(o){window.removeEventListener(o,n["on".concat(o)])}),delete this._boundPointerEvents)}},{key:"enable",value:function(){this.isEnabled=!0}},{key:"disable",value:function(){this.isEnabled=!1,this.isDragging&&this.onUp()}},{key:"onDocUp",value:function(n){this.onUp()}},{key:"animate",value:function(){var n=this;this.isDragging&&(this.positionDrag(),window.requestAnimationFrame(function(){n.animate()}))}},{key:"positionDrag",value:function(){var n="translate3d(".concat(this.dragPoint.x,"px, ").concat(this.dragPoint.y,"px, 0)");this._root.style.transform=n,this._root.style.webKitTransform=n}},{key:"setLeftTop",value:function(){this._root.style.left=this.position.x+"px",this._root.style.top=this.position.y+"px"}},{key:"onmousedown",value:function(n){this.dragStart(n,n)}},{key:"onmousemove",value:function(n){this.dragMove(n,n)}},{key:"onmouseup",value:function(n){this.dragEnd(n,n)}},{key:"ontouchstart",value:function(n){var o=n.changedTouches[0];this.dragStart(n,o),this.touchIdentifier=o.pointerId!==void 0?o.pointerId:o.identifier,n.preventDefault()}},{key:"ontouchmove",value:function(n){var o=uo(n.changedTouches,this.touchIdentifier);o&&this.dragMove(n,o)}},{key:"ontouchend",value:function(n){var o=uo(n.changedTouches,this.touchIdentifier);o&&this.dragEnd(n,o),n.preventDefault()}},{key:"ontouchcancel",value:function(n){var o=uo(n.changedTouches,this.touchIdentifier);o&&this.dragCancel(n,o)}},{key:"dragStart",value:function(n,o){if(!(!this._root||this.isDown||!this.isEnabled)){this.downPoint=o,this.dragPoint.x=0,this.dragPoint.y=0,this._getPosition();var a=Ys(this._root);this.startPos.x=this.position.x,this.startPos.y=this.position.y,this.startPos.maxY=window.innerHeight-a.height,this.startPos.maxX=window.innerWidth-a.width,this.setLeftTop(),this.isDown=!0,this._bindPostStartEvents(n)}}},{key:"dragRealStart",value:function(n,o){this.isDragging=!0,this.animate(),this.emit(lo.START,this.startPos)}},{key:"dragEnd",value:function(n,o){this._root&&(this._unbindPostStartEvents(),this.isDragging&&(this._root.style.transform="",this.setLeftTop(),this.emit(lo.ENDED)),this.presetInfo())}},{key:"_dragPointerMove",value:function(n,o){var a={x:o.pageX-this.downPoint.pageX,y:o.pageY-this.downPoint.pageY};return!this.isDragging&&this.hasDragStarted(a)&&this.dragRealStart(n,o),a}},{key:"dragMove",value:function(n,o){if(n=n||window.event,!!this.isDown){var a=this.startPos,s=a.x,u=a.y,l=this._dragPointerMove(n,o),c=l.x,f=l.y;c=this.checkContain("x",c,s),f=this.checkContain("y",f,u),this.position.x=s+c,this.position.y=u+f,this.dragPoint.x=c,this.dragPoint.y=f,this.emit(lo.MOVE,this.position)}}},{key:"dragCancel",value:function(n,o){this.dragEnd(n,o)}},{key:"presetInfo",value:function(){this.isDragging=!1,this.startPos={x:0,y:0},this.dragPoint={x:0,y:0},this.isDown=!1}},{key:"destroy",value:function(){this._unbindStartEvent(),this._unbindPostStartEvents(),this.isDragging&&this.dragEnd(),this.removeAllListeners(),this._handlerDom=null}},{key:"hasDragStarted",value:function(n){return Math.abs(n.x)>3||Math.abs(n.y)>3}},{key:"checkContain",value:function(n,o,a){return o+a<0?0-a:n==="x"&&o+a>this.startPos.maxX?this.startPos.maxX-a:n==="y"&&o+a>this.startPos.maxY?this.startPos.maxY-a:o}},{key:"_getPosition",value:function(){var n=window.getComputedStyle(this._root),o=this._getPositionCoord(n.left,"width"),a=this._getPositionCoord(n.top,"height");this.position.x=Number.isNaN(o)?0:o,this.position.y=Number.isNaN(a)?0:a,this._addTransformPosition(n)}},{key:"_addTransformPosition",value:function(n){var o=n.transform;if(o.indexOf("matrix")===0){var a=o.split(","),s=o.indexOf("matrix3d")===0?12:4,u=parseInt(a[s],10),l=parseInt(a[s+1],10);this.position.x+=u,this.position.y+=l}}},{key:"_getPositionCoord",value:function(n,o){if(n.indexOf("%")!==-1){var a=Ys(this._root.parentNode);return a?parseFloat(n)/100*a[o]:0}return parseInt(n,10)}}]),i}(Tl);function fn(t){"@babel/helpers - typeof";return fn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fn(t)}function L_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qs(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ic(r.key),r)}}function A_(t,e,i){return e&&qs(t.prototype,e),i&&qs(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function D_(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xo(t,e)}function Xo(t,e){return Xo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Xo(t,e)}function N_(t){var e=j_();return function(){var r=si(t),n;if(e){var o=si(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return M_(this,n)}}function M_(t,e){if(e&&(fn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ut(t)}function Ut(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j_(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function si(t){return si=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},si(t)}function co(t,e,i){return e=ic(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function ic(t){var e=B_(t,"string");return fn(e)==="symbol"?e:String(e)}function B_(t,e){if(fn(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(fn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var F_='<svg class="play" xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="3 -4 28 40"><path fill="#fff" d="M18.468 11.639l7.503 4.777-7.503 4.777zM10.965 6.86l7.503 4.778v9.554l-7.503 4.778z"/></svg>',H_='<svg class="pause" xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="3 -4 28 40"><path fill="#fff" d="M19.173 6.861h5.451v19.11h-5.45V6.86zM8.208 25.971V6.86h5.45v19.11h-5.45z"/></svg>',V_=function(t){D_(i,t);var e=N_(i);function i(r){var n;L_(this,i),n=e.call(this,r),co(Ut(n),"onCancelClick",function(s){n.exitMini(),n.isClose=!0}),co(Ut(n),"onCenterClick",function(s){var u=Ut(n),l=u.player;l.paused?l.play():l.pause()}),co(Ut(n),"onScroll",function(s){if(!(!window.scrollY&&window.scrollY!==0||Math.abs(window.scrollY-n.pos.scrollY)<50)){var u=parseInt(d.getCss(n.player.root,"height"));u+=n.config.scrollTop,n.pos.scrollY=window.scrollY,window.scrollY>u+5?!n.isMini&&!n.isClose&&n.getMini():window.scrollY<=u&&(n.isMini&&n.exitMini(),n.isClose=!1)}}),n.isMini=!1,n.isClose=!1;var o=Ut(n),a=o.config;return n.pos={left:a.left<0?window.innerWidth-a.width-20:a.left,top:a.top<0?window.innerHeight-a.height-20:a.top,height:n.config.height,width:n.config.width,scrollY:window.scrollY||0},n.lastStyle=null,n}return A_(i,[{key:"beforeCreate",value:function(n){typeof n.player.config.mini=="boolean"&&(n.config.isShowIcon=n.player.config.mini)}},{key:"afterCreate",value:function(){var n=this;this.initIcons(),this.on(Rt,function(){n.setAttr("data-state","pause")}),this.on(Ie,function(){n.setAttr("data-state","play")})}},{key:"onPluginsReady",value:function(){var n=this,o=this.player,a=this.config;if(!a.disable){if(this.config.isShowIcon){var s={config:{onClick:function(){n.getMini()}}};o.controls.registerPlugin(Gs,s,Gs.pluginName)}var u=d.checkTouchSupport()?"touchend":"click";this.bind(".mini-cancel-btn",u,this.onCancelClick),this.bind(".play-icon",u,this.onCenterClick),this.config.disableDrag||(this._draggabilly=new R_(this.player.root,{handle:this.root})),this.config.isScrollSwitch&&window.addEventListener("scroll",this.onScroll)}}},{key:"registerIcons",value:function(){return{play:{icon:F_,class:"xg-icon-play"},pause:{icon:H_,class:"xg-icon-pause"}}}},{key:"initIcons",value:function(){var n=this.icons;this.appendChild(".play-icon",n.play),this.appendChild(".play-icon",n.pause)}},{key:"getMini",value:function(){var n=this;if(!this.isMini){var o=this.player,a=this.playerConfig,s=this.config.target||this.player.root;this.lastStyle={},d.addClass(o.root,"xgplayer-mini"),["width","height","top","left"].map(function(u){n.lastStyle[u]=s.style[u],s.style[u]="".concat(n.pos[u],"px")}),a.fluid&&(s.style["padding-top"]=""),this.emit(Wr,!0),o.isMini=this.isMini=!0}}},{key:"exitMini",value:function(){var n=this;if(!this.isMini)return!1;var o=this.player,a=this.playerConfig,s=this.config.target||this.player.root;d.removeClass(o.root,"xgplayer-mini"),this.lastStyle&&Object.keys(this.lastStyle).map(function(u){s.style[u]=n.lastStyle[u]}),this.lastStyle=null,a.fluid&&(o.root.style.width="100%",o.root.style.height="0",o.root.style["padding-top"]="".concat(a.height*100/a.width,"%")),this.emit(Wr,!1),this.isMini=o.isMini=!1}},{key:"destroy",value:function(){window.removeEventListener("scroll",this.onScroll);var n=d.checkTouchSupport()?"touchend":"click";this.unbind(".mini-cancel-btn",n,this.onCancelClick),this.unbind(".play-icon",n,this.onCenterClick),this._draggabilly&&this._draggabilly.destroy(),this._draggabilly=null,this.exitMini()}},{key:"render",value:function(){if(!this.config.disable)return`
      <xg-mini-layer class="xg-mini-layer">
      <xg-mini-header class="xgplayer-mini-header">
      <div lang-key="`.concat(this.i18nKeys.MINI_DRAG,'">').concat(this.i18n.MINI_DRAG,`</div>
      </xg-mini-header>
      <div class="mini-cancel-btn">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20">
          <path fill="#fff" fill-rule="evenodd" d="M3.99 3.49a1 1 0 0 1 1.414 0L10 8.085l4.596-4.595a1 1 0 1 1 1.414 1.414L11.414 9.5l4.596 4.596a1 1 0 0 1 .084 1.32l-.084.094a1 1 0 0 1-1.414 0L10 10.914 5.404 15.51a1 1 0 0 1-1.414-1.414L8.585 9.5 3.99 4.904a1 1 0 0 1-.084-1.32z"></path>
        </svg>
      </div>
      <div class="play-icon">
      </div>
      </xg-mini-layer>`)}}],[{key:"pluginName",get:function(){return"miniscreen"}},{key:"defaultConfig",get:function(){return{index:10,disable:!1,width:320,height:180,left:-1,top:-1,isShowIcon:!1,isScrollSwitch:!1,scrollTop:0,disableDrag:!1}}}]),i}(G);function dn(t){"@babel/helpers - typeof";return dn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dn(t)}function U_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Js(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oc(r.key),r)}}function z_(t,e,i){return e&&Js(t.prototype,e),i&&Js(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function K_(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qo(t,e)}function qo(t,e){return qo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},qo(t,e)}function G_(t){var e=Y_();return function(){var r=ui(t),n;if(e){var o=ui(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return W_(this,n)}}function W_(t,e){if(e&&(dn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return be(t)}function be(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Y_(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ui(t){return ui=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},ui(t)}function qn(t,e,i){return e=oc(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function oc(t){var e=X_(t,"string");return dn(e)==="symbol"?e:String(e)}function X_(t,e){if(dn(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(dn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rr={mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mousemove:"onMouseMove"},fo=["videoClick","videoDbClick"],ho=function(t){K_(i,t);var e=G_(i);function i(){var r;U_(this,i);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),qn(be(r),"onMouseMove",function(s){var u=be(r),l=u.player,c=u.playerConfig;l.isActive||(l.focus({autoHide:!c.closeDelayBlur}),!c.closeFocusVideoFocus&&l.video.focus())}),qn(be(r),"onMouseEnter",function(s){var u=be(r),l=u.playerConfig,c=u.player;!l.closeFocusVideoFocus&&c.video.focus(),l.closeDelayBlur?c.focus({autoHide:!1}):c.focus()}),qn(be(r),"onMouseLeave",function(s){var u=r.playerConfig,l=u.closePlayerBlur,c=u.leavePlayerTime,f=u.closeDelayBlur;!l&&!f&&(c?r.player.focus({autoHide:!0,delay:c}):r.player.blur())}),qn(be(r),"onVideoClick",function(s){var u=be(r),l=u.player,c=u.playerConfig;s.target&&c.closeVideoClick||(s.target===l.video||s.target===l.innerContainer||s.target===l.video.__canvas)&&(s.preventDefault(),c.closeVideoStopPropagation||s.stopPropagation(),r._clickCount++,r.clickTimer&&(clearTimeout(r.clickTimer),r.clickTimer=null),r.clickTimer=setTimeout(function(){r._clickCount&&(r._clickCount--,Fe(be(r),fo[0],function(f,h){r.switchPlayPause(h.e)},{e:s,paused:l.paused}),clearTimeout(r.clickTimer),r.clickTimer=null)},300))}),qn(be(r),"onVideoDblClick",function(s){var u=be(r),l=u.player,c=u.playerConfig;if(!(c.closeVideoDblclick||!s.target||s.target!==l.video&&s.target!==l.video.__canvas)){if(r._clickCount<2){r._clickCount=0;return}r._clickCount=0,r.clickTimer&&(clearTimeout(r.clickTimer),r.clickTimer=null),s.preventDefault(),s.stopPropagation(),Fe(be(r),fo[1],function(f,h){r.emitUserAction(h.e,"switch_fullscreen",{fullscreen:l.fullscreen}),l.fullscreen?l.exitFullscreen():l.getFullscreen()},{e:s,fullscreen:l.fullscreen})}}),r}return z_(i,[{key:"afterCreate",value:function(){var n=this;this._clickCount=0,fo.map(function(a){n.__hooks[a]=null});var o=this.playerConfig.isMobileSimulateMode;o==="mobile"||V.device==="mobile"&&!V.os.isIpad||this.initEvents()}},{key:"initEvents",value:function(){var n=this,o=this.player,a=o.video,s=o.root,u=this.playerConfig.enableContextmenu;a&&a.addEventListener("click",this.onVideoClick,!1),a&&a.addEventListener("dblclick",this.onVideoDblClick,!1),Object.keys(Rr).map(function(l){s.addEventListener(l,n[Rr[l]],!1)}),u&&a&&a.addEventListener("contextmenu",this.onContextmenu,!1)}},{key:"switchPlayPause",value:function(n){var o=this.player;this.emitUserAction(n,"switch_play_pause"),o.ended?o.duration!==1/0&&o.duration>0&&o.replay():o.paused?o.play():o.pause()}},{key:"onContextmenu",value:function(n){n=n||window.event,n.preventDefault&&n.preventDefault(),n.stopPropagation?n.stopPropagation():(n.returnValue=!1,n.cancelBubble=!0)}},{key:"destroy",value:function(){var n=this,o=this.player,a=o.video,s=o.root;this.clickTimer&&clearTimeout(this.clickTimer),a.removeEventListener("click",this.onVideoClick,!1),a.removeEventListener("dblclick",this.onVideoDblClick,!1),a.removeEventListener("contextmenu",this.onContextmenu,!1),Object.keys(Rr).map(function(u){s.removeEventListener(u,n[Rr[u]],!1)})}}],[{key:"pluginName",get:function(){return"pc"}},{key:"defaultConfig",get:function(){return{}}}]),i}(bt);function _r(t){"@babel/helpers - typeof";return _r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_r(t)}function q_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J_(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ac(r.key),r)}}function Z_(t,e,i){return e&&J_(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lr(t,e,i){return e=ac(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function ac(t){var e=Q_(t,"string");return _r(e)==="symbol"?e:String(e)}function Q_(t,e){if(_r(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(_r(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ye={PRESS:"press",PRESS_END:"pressend",DOUBlE_CLICK:"doubleclick",CLICK:"click",TOUCH_MOVE:"touchmove",TOUCH_START:"touchstart",TOUCH_END:"touchend"},eb={start:"touchstart",end:"touchend",move:"touchmove",cancel:"touchcancel"},tb={start:"mousedown",end:"mouseup",move:"mousemove",cancel:"mouseleave"};function Zs(t){return t&&t.length>0?t[t.length-1]:null}function Qs(t){var e=navigator.userAgent;/(?:iPhone|iPad)/.test(e)&&t.cancelable&&t.preventDefault()}function nb(){return{pressDelay:600,dbClickDelay:200,disablePress:!1,disableDbClick:!1,miniStep:2,needPreventDefault:!0}}var rb=function(){function t(e){var i=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{eventType:"touch"};q_(this,t),Lr(this,"onTouchStart",function(n){var o=i._pos,a=i.root,s=i.config;s.needPreventDefault&&Qs(n);var u=Zs(n.touches);o.x=u?parseInt(u.pageX,10):n.pageX,o.y=u?parseInt(u.pageX,10):n.pageX,o.start=!0,i.__setPress(n),a.addEventListener(i.events.end,i.onTouchEnd),a.addEventListener(i.events.cancel,i.onTouchCancel),a.addEventListener(i.events.move,i.onTouchMove),i.trigger(Ye.TOUCH_START,n)}),Lr(this,"onTouchCancel",function(n){i.onTouchEnd(n)}),Lr(this,"onTouchEnd",function(n){var o=i._pos,a=i.root,s=i.config;s.needPreventDefault&&Qs(n),i.__clearPress(),a.removeEventListener(i.events.cancel,i.onTouchCancel),a.removeEventListener(i.events.end,i.onTouchEnd),a.removeEventListener(i.events.move,i.onTouchMove),n.moving=o.moving,n.press=o.press,o.press&&i.trigger(Ye.PRESS_END,n),i.trigger(Ye.TOUCH_END,n),!o.press&&!o.moving&&i.__setDb(n),o.press=!1,o.start=!1,o.moving=!1}),Lr(this,"onTouchMove",function(n){var o=i._pos,a=i.config,s=Zs(n.touches),u=s?parseInt(s.pageX,10):n.pageX,l=s?parseInt(s.pageY,10):n.pageX,c=u-o.x,f=l-o.y;Math.abs(f)<a.miniStep&&Math.abs(c)<a.miniStep||(i.__clearPress(),o.press&&i.trigger(Ye.PRESS_END,n),o.press=!1,o.moving=!0,i.trigger(Ye.TOUCH_MOVE,n))}),this._pos={moving:!1,start:!1,x:0,y:0},this.config=nb(),Object.keys(r).map(function(n){i.config[n]=r[n]}),this.root=e,this.events=r.eventType==="mouse"?tb:eb,this.pressIntrvalId=null,this.dbIntrvalId=null,this.__handlers={},this._initEvent()}return Z_(t,[{key:"_initEvent",value:function(){this.root.addEventListener(this.events.start,this.onTouchStart)}},{key:"__setPress",value:function(i){var r=this,n=this.config;this.pressIntrvalId&&this.__clearPress(),this.pressIntrvalId=setTimeout(function(){r.trigger(Ye.PRESS,i),r._pos.press=!0,r.__clearPress()},n.pressDelay)}},{key:"__clearPress",value:function(){window.clearTimeout(this.pressIntrvalId),this.pressIntrvalId=null}},{key:"__setDb",value:function(i){var r=this,n=this.config;if(this.dbIntrvalId){this.__clearDb(),this.trigger(Ye.DOUBlE_CLICK,i);return}this.dbIntrvalId=setTimeout(function(){r.__clearDb(),!r._pos.start&&!r._pos.press&&!r._pos.moving&&r.trigger(Ye.CLICK,i)},n.dbClickDelay)}},{key:"__clearDb",value:function(){clearTimeout(this.dbIntrvalId),this.dbIntrvalId=null}},{key:"on",value:function(i,r){this.__handlers[i]||(this.__handlers[i]=[]),this.__handlers[i].push(r)}},{key:"off",value:function(i,r){if(this.__handlers[i]){for(var n=this.__handlers[i],o=-1,a=0;a<n.length;a++)if(n[a]===r){o=a;break}o>=0&&this.__handlers[i].splice(o,1)}}},{key:"trigger",value:function(i,r){this.__handlers[i]&&this.__handlers[i].map(function(n){try{n(r)}catch(o){console.error("trigger>>:".concat(i),o)}})}},{key:"destroy",value:function(){var i=this,r={touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"};Object.keys(r).forEach(function(n){i.root.removeEventListener(n,i[r[n]])})}}]),t}();function hn(t){"@babel/helpers - typeof";return hn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hn(t)}function ib(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eu(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sc(r.key),r)}}function ob(t,e,i){return e&&eu(t.prototype,e),i&&eu(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function ab(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jo(t,e)}function Jo(t,e){return Jo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Jo(t,e)}function sb(t){var e=lb();return function(){var r=li(t),n;if(e){var o=li(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ub(this,n)}}function ub(t,e){if(e&&(hn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return je(t)}function je(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lb(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function li(t){return li=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},li(t)}function Jn(t,e,i){return e=sc(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function sc(t){var e=cb(t,"string");return hn(e)==="symbol"?e:String(e)}function cb(t,e){if(hn(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(hn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fb='<svg width="20" height="9" viewBox="0 0 8 9" fill="none" xmlns="http://www.w3.org/2000/svg"><path opacity=".54" d="M7.5 3.634a1 1 0 010 1.732l-6 3.464A1 1 0 010 7.964V1.036A1 1 0 011.5.17l6 3.464z" fill="#fff"/><path d="M12.5 3.634a1 1 0 010 1.732l-6 3.464A1 1 0 015 7.964V1.036A1 1 0 016.5.17l6 3.464z" fill="#fff"/></svg>',ot={AUTO:"auto",SEEKING:"seeking",PLAYBACK:"playbackrate",LIGHT:""},po=["videoClick","videoDbClick"],db=function(t){ab(i,t);var e=sb(i);function i(r){var n;return ib(this,i),n=e.call(this,r),Jn(je(n),"onTouchStart",function(o){var a=je(n),s=a.player,u=a.config,l=a.pos,c=a.playerConfig,f=n.getTouche(o);if(f&&!u.disableGesture&&n.duration>0&&!s.ended){l.isStart=!0,d.checkIsFunction(c.disableSwipeHandler)&&c.disableSwipeHandler(),n.find(".xg-dur").innerHTML=d.format(n.duration);var h=n.root.getBoundingClientRect();s.rotateDeg===90?(l.top=h.left,l.left=h.top,l.width=h.height,l.height=h.width):(l.top=h.top,l.left=h.left,l.width=h.width,l.height=h.height);var p=parseInt(f.pageX-l.left,10),y=parseInt(f.pageY-l.top,10);l.x=s.rotateDeg===90?y:p,l.y=s.rotateDeg===90?p:y,l.scopeL=u.scopeL*l.width,l.scopeR=(1-u.scopeR)*l.width,l.scopeM1=l.width*(1-u.scopeM)/2,l.scopeM2=l.width-l.scopeM1}}),Jn(je(n),"onTouchMove",function(o){var a=n.getTouche(o),s=je(n),u=s.pos,l=s.config,c=s.player;if(!(!a||l.disableGesture||!n.duration||!u.isStart)){var f=l.miniMoveStep,h=l.hideControlsActive,p=parseInt(a.pageX-u.left,10),y=parseInt(a.pageY-u.top,10),v=c.rotateDeg===90?y:p,m=c.rotateDeg===90?p:y;if(Math.abs(v-u.x)>f||Math.abs(m-u.y)>f){var k=v-u.x,T=m-u.y,O=u.scope;if(O===-1&&(O=n.checkScope(v,m,k,T,u),O===0&&(h?c.blur():c.focus({autoHide:!1}),!u.time&&(u.time=parseInt(c.currentTime*1e3,10)+n.timeOffset*1e3)),u.scope=O),O===-1||O>0&&!l.gestureY||O===0&&!l.gestureX)return;o.cancelable&&o.preventDefault(),n.executeMove(k,T,O,u.width,u.height),u.x=v,u.y=m}}}),Jn(je(n),"onTouchEnd",function(o){var a=je(n),s=a.player,u=a.pos,l=a.playerConfig;u.isStart&&(u.scope>-1&&o.cancelable&&o.preventDefault(),n.endLastMove(u.scope),setTimeout(function(){s.getPlugin("progress")&&s.getPlugin("progress").resetSeekState()},10),u.scope=-1,n.resetPos(),d.checkIsFunction(l.enableSwipeHandler)&&l.enableSwipeHandler(),n.changeAction(ot.AUTO))}),Jn(je(n),"onRootTouchMove",function(o){n.config.disableGesture||!n.config.gestureX||n.checkIsRootTarget(o)&&(o.stopPropagation(),n.pos.isStart?n.onTouchMove(o):n.onTouchStart(o))}),Jn(je(n),"onRootTouchEnd",function(o){if(n.pos.isStart&&n.checkIsRootTarget(o)){o.stopPropagation(),n.onTouchEnd(o);var a=n.player.controls;a&&a.recoverAutoHide()}}),n.pos={isStart:!1,x:0,y:0,time:0,volume:0,rate:1,light:0,width:0,height:0,scopeL:0,scopeR:0,scopeM1:0,scopeM2:0,scope:-1},n.timer=null,n}return ob(i,[{key:"duration",get:function(){return this.playerConfig.customDuration||this.player.duration}},{key:"timeOffset",get:function(){return this.playerConfig.timeOffset||0}},{key:"registerIcons",value:function(){return{seekTipIcon:{icon:fb,class:"xg-seek-pre"}}}},{key:"afterCreate",value:function(){var n=this;po.map(function(f){n.__hooks[f]=null});var o=this.playerConfig,a=this.config,s=this.player;o.closeVideoDblclick===!0&&(a.closedbClick=!0),this.resetPos(),d.isUndefined(o.disableGesture)||(a.disableGesture=!!o.disableGesture),this.appendChild(".xg-seek-icon",this.icons.seekTipIcon),this.xgMask=d.createDom("xg-mask","",{},"xgmask"),s.root.appendChild(this.xgMask),this.initCustomStyle(),this.registerThumbnail();var u=this.domEventType==="mouse"?"mouse":"touch";this.touch=new rb(this.root,{eventType:u,needPreventDefault:!this.config.disableGesture}),this.root.addEventListener("contextmenu",function(f){f.preventDefault()}),s.root.addEventListener("touchmove",this.onRootTouchMove,!0),s.root.addEventListener("touchend",this.onRootTouchEnd,!0),this.on(Kn,function(){var f=n.player,h=n.config;f.duration*1e3<h.moveDuration&&(h.moveDuration=f.duration*1e3)}),this.on([ze,it],function(){var f=n.pos,h=f.time,p=f.isStart;!p&&h>0&&(n.pos.time=0)});var l={touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd",press:"onPress",pressend:"onPressEnd",click:"onClick",doubleclick:"onDbClick"};if(Object.keys(l).forEach(function(f){n.touch.on(f,function(h){n[l[f]](h)})}),!a.disableActive){var c=s.plugins.progress;c&&(c.addCallBack("dragmove",function(f){n.activeSeekNote(f.currentTime,f.forward)}),c.addCallBack("dragend",function(){n.changeAction(ot.AUTO)}),c.addCallBack("click",function(){n.changeAction(ot.AUTO)}))}}},{key:"registerThumbnail",value:function(){var n=this.player,o=n.plugins.thumbnail;if(o&&o.usable){this.thumbnail=o.createThumbnail(null,"mobile-thumbnail");var a=this.find(".time-preview");a.insertBefore(this.thumbnail,a.children[0])}}},{key:"initCustomStyle",value:function(){var n=this.playerConfig||{},o=n.commonStyle,a=o.playedColor,s=o.progressColor;a&&(this.find(".xg-curbar").style.backgroundColor=a,this.find(".xg-cur").style.color=a),s&&(this.find(".xg-bar").style.backgroundColor=s,this.find(".time-preview").style.color=s),this.config.disableTimeProgress&&d.addClass(this.find(".xg-timebar"),"hide")}},{key:"resetPos",value:function(){var n=this;this.pos?(this.pos.isStart=!1,this.pos.scope=-1,["x","y","width","height","scopeL","scopeR","scopeM1","scopeM2"].map(function(o){n.pos[o]=0})):this.pos={isStart:!1,x:0,y:0,volume:0,rate:1,light:0,width:0,height:0,scopeL:0,scopeR:0,scopeM1:0,scopeM2:0,scope:-1,time:0}}},{key:"changeAction",value:function(n){var o=this.player,a=this.root;a.setAttribute("data-xg-action",n);var s=o.plugins.start;s&&s.recover()}},{key:"getTouche",value:function(n){var o=this.player.rotateDeg,a=n.touches&&n.touches.length>0?n.touches[n.touches.length-1]:n;return o===0?{pageX:a.pageX,pageY:a.pageY}:{pageX:a.pageX,pageY:a.pageY}}},{key:"checkScope",value:function(n,o,a,s,u){var l=u.width,c=-1;if(n<0||n>l)return c;var f=Math.abs(s===0?a:a/s);return Math.abs(a)>0&&f>=1.73&&n>u.scopeM1&&n<u.scopeM2?c=0:(Math.abs(a)===0||f<=.57)&&(c=n<u.scopeL?1:n>u.scopeR?2:3),c}},{key:"executeMove",value:function(n,o,a,s,u){switch(a){case 0:this.updateTime(n/s*this.config.scopeM);break;case 1:this.updateBrightness(o/u);break;case 2:V.os.isIos||this.updateVolume(o/u);break}}},{key:"endLastMove",value:function(n){var o=this,a=this.pos,s=this.player,u=this.config,l=(a.time-this.timeOffset)/1e3;switch(n){case 0:s.seek(Number(l).toFixed(1)),u.hideControlsEnd?s.blur():s.focus(),this.timer=setTimeout(function(){o.pos.time=0},500);break}this.changeAction(ot.AUTO)}},{key:"checkIsRootTarget",value:function(n){var o=this.player.plugins||{};return o.progress&&o.progress.root.contains(n.target)?!1:o.start&&o.start.root.contains(n.target)||o.controls&&o.controls.root.contains(n.target)}},{key:"clickHandler",value:function(n){var o=this.player,a=this.config,s=this.playerConfig;if(!o.isPlaying){s.closeVideoClick||(this.emitUserAction("click","switch_play_pause"),o.play());return}!a.closedbClick||s.closeVideoClick?o.isActive?o.blur():o.focus():s.closeVideoClick||((o.isActive||a.focusVideoClick)&&(this.emitUserAction("click","switch_play_pause"),this.switchPlayPause()),o.focus())}},{key:"dbClickHandler",value:function(n){var o=this.config,a=this.player;!o.closedbClick&&a.isPlaying&&(this.emitUserAction("dblclick","switch_play_pause"),this.switchPlayPause())}},{key:"onClick",value:function(n){var o=this,a=this.player;Fe(this,po[0],function(s,u){o.clickHandler(u.e)},{e:n,paused:a.paused})}},{key:"onDbClick",value:function(n){var o=this,a=this.player;Fe(this,po[1],function(s,u){o.dbClickHandler(u.e)},{e:n,paused:a.paused})}},{key:"onPress",value:function(n){var o=this.pos,a=this.config,s=this.player;a.disablePress||(o.rate=this.player.playbackRate,this.emitUserAction("press","change_rate",{from:s.playbackRate,to:a.pressRate}),s.playbackRate=a.pressRate,this.changeAction(ot.PLAYBACK))}},{key:"onPressEnd",value:function(n){var o=this.pos,a=this.config,s=this.player;a.disablePress||(this.emitUserAction("pressend","change_rate",{from:s.playbackRate,to:o.rate}),s.playbackRate=o.rate,o.rate=1,this.changeAction(ot.AUTO))}},{key:"updateTime",value:function(n){var o=this.player,a=this.config,s=this.player.duration;n=Number(n.toFixed(4));var u=parseInt(n*a.moveDuration,10)+this.timeOffset;u+=this.pos.time,u=u<0?0:u>s*1e3?s*1e3-200:u,o.getPlugin("time")&&o.getPlugin("time").updateTime(u/1e3),o.getPlugin("progress")&&o.getPlugin("progress").updatePercent(u/1e3/this.duration,!0),this.activeSeekNote(u/1e3,n>0),a.isTouchingSeek&&o.seek(Number((u-this.timeOffset)/1e3).toFixed(1)),this.pos.time=u}},{key:"updateVolume",value:function(n){this.player.rotateDeg&&(n=-n);var o=this.player,a=this.pos;if(n=parseInt(n*100,10),a.volume+=n,!(Math.abs(a.volume)<10)){var s=parseInt(o.volume*10,10)-parseInt(a.volume/10,10);s=s>10?10:s<1?0:s,o.volume=s/10,a.volume=0}}},{key:"updateBrightness",value:function(n){this.player.rotateDeg&&(n=-n);var o=this.pos,a=this.config,s=this.xgMask,u=o.light+.8*n;u=u>a.maxDarkness?a.maxDarkness:u<0?0:u,s&&(s.style.backgroundColor="rgba(0,0,0,".concat(u,")")),o.light=u}},{key:"activeSeekNote",value:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,a=this.player,s=this.config,u=!(this.duration!==1/0&&this.duration>0);if(!(!n||typeof n!="number"||u||s.disableActive)){n<0?n=0:n>a.duration&&(n=a.duration-.2),this.changeAction(ot.SEEKING);var l=a.plugins.start;l&&l.focusHide(),this.find(".xg-dur").innerHTML=d.format(this.duration),this.find(".xg-cur").innerHTML=d.format(n),this.find(".xg-curbar").style.width="".concat(n/this.duration*100,"%"),o?d.removeClass(this.find(".xg-seek-show"),"xg-back"):d.addClass(this.find(".xg-seek-show"),"xg-back"),this.updateThumbnails(n)}}},{key:"updateThumbnails",value:function(n){var o=this.player,a=o.plugins.thumbnail;a&&a.usable&&this.thumbnail&&a.update(this.thumbnail,n,160,90)}},{key:"switchPlayPause",value:function(){var n=this.player;if(n.hasStart)n.ended||(n.paused?n.play():n.pause());else return!1}},{key:"disableGesture",value:function(){this.config.disableGesture=!1}},{key:"enableGesture",value:function(){this.config.disableGesture=!0}},{key:"destroy",value:function(){var n=this.player;this.timer&&clearTimeout(this.timer),this.thumbnail=null,n.root.removeChild(this.xgMask),this.xgMask=null,this.touch&&this.touch.destroy(),this.touch=null,n.root.removeEventListener("touchmove",this.onRootTouchMove,!0),n.root.removeEventListener("touchend",this.onRootTouchEnd,!0)}},{key:"render",value:function(){var n=this.config.gradient!=="normal"?"gradient ".concat(this.config.gradient):"gradient";return`
     <xg-trigger class="trigger">
     <div class="`.concat(n,`"></div>
        <div class="time-preview">
            <div class="xg-seek-show `).concat(this.config.disableSeekIcon?" hide-seek-icon":"",`">
              <i class="xg-seek-icon"></i>
              <span class="xg-cur">00:00</span>
              <span>/</span>
              <span class="xg-dur">00:00</span>
            </div>
              <div class="xg-bar xg-timebar">
                <div class="xg-curbar"></div>
              </div>
        </div>
        <div class="xg-playbackrate xg-top-note">
            <span><i>`).concat(this.config.pressRate,"X</i>").concat(this.i18n.FORWARD,`</span>
        </div>
     </xg-trigger>
    `)}}],[{key:"pluginName",get:function(){return"mobile"}},{key:"defaultConfig",get:function(){return{stopPropagation:!0,index:0,disableGesture:!1,gestureX:!0,gestureY:!0,updateGesture:function(){},onTouchStart:function(){},onTouchEnd:function(){},gradient:"normal",isTouchingSeek:!1,miniMoveStep:5,miniYPer:5,scopeL:.25,scopeR:.25,scopeM:.9,pressRate:2,darkness:!0,maxDarkness:.8,disableActive:!1,disableTimeProgress:!1,hideControlsActive:!1,hideControlsEnd:!1,moveDuration:60*6*1e3,closedbClick:!1,disablePress:!0,disableSeekIcon:!1,focusVideoClick:!1}}}]),i}(G);function pn(t){"@babel/helpers - typeof";return pn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pn(t)}function tu(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function hb(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?tu(Object(i),!0).forEach(function(r){ir(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):tu(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function pb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nu(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uc(r.key),r)}}function vb(t,e,i){return e&&nu(t.prototype,e),i&&nu(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function yb(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zo(t,e)}function Zo(t,e){return Zo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Zo(t,e)}function gb(t){var e=_b();return function(){var r=ci(t),n;if(e){var o=ci(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return mb(this,n)}}function mb(t,e){if(e&&(pn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lt(t)}function lt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _b(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ci(t){return ci=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},ci(t)}function ir(t,e,i){return e=uc(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function uc(t){var e=bb(t,"string");return pn(e)==="symbol"?e:String(e)}function bb(t,e){if(pn(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(pn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wb(t){t.preventDefault(),t.returnValue=!1}function ru(t){var e=t.tagName;return!!(e==="INPUT"||e==="TEXTAREA"||t.isContentEditable)}var iu=function(t){yb(i,t);var e=gb(i);function i(){var r;pb(this,i);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),ir(lt(r),"onBodyKeyDown",function(s){if(r.player){var u=s||window.event,l=u.keyCode,c=lt(r),f=c._keyState,h=c.player,p=r.config,y=p.disable,v=p.disableBodyTrigger,m=p.isIgnoreUserActive;if(y||v||!h.isUserActive&&!m||ru(u.target)||!r.checkIsVisible()||u.metaKey||u.altKey||u.ctrlKey){f.isBodyKeyDown=!1;return}!s.repeat&&!f.isKeyDown&&((u.target===document.body||r.config.isGlobalTrigger&&!ru(u.target))&&r.checkCode(l,!0)&&(f.isBodyKeyDown=!0),document.addEventListener("keyup",r.onBodyKeyUp)),f.isBodyKeyDown&&r.handleKeyDown(u)}}),ir(lt(r),"onBodyKeyUp",function(s){r.player&&(document.removeEventListener("keyup",r.onBodyKeyUp),r.handleKeyUp(s))}),ir(lt(r),"onKeydown",function(s){if(r.player){var u=s||window.event,l=lt(r),c=l._keyState;if(!u.repeat){if(r.config.disable||r.config.disableRootTrigger||u.metaKey||u.altKey||u.ctrlKey||!r.player.isUserActive&&!r.config.isIgnoreUserActive)return;u&&(u.keyCode===37||r.checkCode(u.keyCode))&&(u.target===r.player.root||u.target===r.player.video||u.target===r.player.controls.el)&&(c.isKeyDown=!0),r.player.root.addEventListener("keyup",r.onKeyup)}c.isKeyDown&&r.handleKeyDown(u)}}),ir(lt(r),"onKeyup",function(s){r.player&&(r.player.root.removeEventListener("keyup",r.onKeyup),r.handleKeyUp(s))}),r}return vb(i,[{key:"mergekeyCodeMap",value:function(){var n=this,o=this.config.keyCodeMap;o&&Object.keys(o).map(function(a){n.keyCodeMap[a]?["keyCode","action","disable","pressAction","disablePress","isBodyTarget"].map(function(s){o[a][s]&&(n.keyCodeMap[a][s]=o[a][s])}):n.keyCodeMap[a]=o[a]})}},{key:"afterCreate",value:function(){this.config.disable=!this.playerConfig.keyShortcut;var n=typeof this.config.seekStep=="function"?this.config.seekStep(this.player):this.config.seekStep;!n||typeof n!="number"||(this.seekStep=n),this.keyCodeMap={space:{keyCode:32,action:"playPause",disable:!1,disablePress:!1,noBodyTarget:!1},up:{keyCode:38,action:"upVolume",disable:!1,disablePress:!1,noBodyTarget:!0},down:{keyCode:40,action:"downVolume",disable:!1,disablePress:!1,noBodyTarget:!0},left:{keyCode:37,action:"seekBack",disablePress:!1,disable:!1},right:{keyCode:39,action:"seek",pressAction:"changePlaybackRate",disablePress:!1,disable:!1},esc:{keyCode:27,action:"exitFullscreen",disablePress:!0,disable:!1}},this.mergekeyCodeMap(),this._keyState={isKeyDown:!1,isBodyKeyDown:!1,isPress:!1,tt:0,playbackRate:0},this.player.root.addEventListener("keydown",this.onKeydown),document.addEventListener("keydown",this.onBodyKeyDown)}},{key:"checkIsVisible",value:function(){if(!this.config.checkVisible)return!0;var n=this.player.root.getBoundingClientRect(),o=n.height,a=n.top,s=n.bottom,u=window.innerHeight;return!(a<0&&a<0-o*.9||s>0&&s-u>o*.9)}},{key:"checkCode",value:function(n,o){var a=this,s=!1;return Object.keys(this.keyCodeMap).map(function(u){a.keyCodeMap[u]&&n===a.keyCodeMap[u].keyCode&&!a.keyCodeMap[u].disable&&(s=!o||o&&!a.keyCodeMap[u].noBodyTarget)}),s}},{key:"downVolume",value:function(n){var o=this.player;if(!(o.volume<=0)){var a=parseFloat((o.volume-.1).toFixed(1)),s={volume:{from:o.volume,to:a}};this.emitUserAction(n,"change_volume",{props:s}),a>=0?o.volume=a:o.volume=0}}},{key:"upVolume",value:function(n){var o=this.player;if(!(o.volume>=1)){var a=parseFloat((o.volume+.1).toFixed(1)),s={volume:{from:o.volume,to:a}};this.emitUserAction(n,"change_volume",{props:s}),a<=1?o.volume=a:o.volume=1}}},{key:"seek",value:function(n){var o=this.player,a=o.currentTime,s=o.duration,u=a,l=n.repeat&&this.seekStep>=4?parseInt(this.seekStep/2,10):this.seekStep;a+l<=s?u=a+l:u=s;var c={currentTime:{from:a,to:u}};this.emitUserAction(n,"seek",{props:c}),this.player.currentTime=u}},{key:"seekBack",value:function(n){var o=this.player.currentTime,a=n.repeat?parseInt(this.seekStep/2,10):this.seekStep,s=0;o-a>=0&&(s=o-a);var u={currentTime:{from:o,to:s}};this.emitUserAction(n,"seek",{props:u}),this.player.currentTime=s}},{key:"changePlaybackRate",value:function(n){var o=this._keyState,a=this.config,s=this.player;o.playbackRate===0&&(o.playbackRate=s.playbackRate,s.playbackRate=a.playbackRate)}},{key:"playPause",value:function(n){var o=this.player;o&&(this.emitUserAction(n,"switch_play_pause"),o.paused?o.play():o.pause())}},{key:"exitFullscreen",value:function(n){var o=this.player,a=o.fullscreen,s=o.cssfullscreen;a&&(this.emitUserAction("keyup","switch_fullscreen",{prop:"fullscreen",from:a,to:!a}),o.exitFullscreen()),s&&(this.emitUserAction("keyup","switch_css_fullscreen",{prop:"cssfullscreen",from:s,to:!s}),o.exitCssFullscreen())}},{key:"handleKeyDown",value:function(n){var o=this._keyState;if(n.repeat){o.isPress=!0;var a=Date.now();if(a-o.tt<200)return;o.tt=a}wb(n),this.handleKeyCode(n.keyCode,n,o.isPress)}},{key:"handleKeyUp",value:function(n){var o=this._keyState;o.playbackRate>0&&(this.player.playbackRate=o.playbackRate,o.playbackRate=0),o.isKeyDown=!1,o.isPress=!1,o.tt=0}},{key:"handleKeyCode",value:function(n,o,a){for(var s=Object.keys(this.keyCodeMap),u=0;u<s.length;u++){var l=this.keyCodeMap[s[u]];if(l){var c=l.action,f=l.keyCode,h=l.disable,p=l.pressAction,y=l.disablePress;if(f===n){if(!h&&!(a&&y)){var v=a&&p||c;typeof v=="function"?c(o,this.player,a):typeof v=="string"&&typeof this[v]=="function"&&this[v](o,this.player,a),this.emit(Dl,hb({key:s[u],target:o.target,isPress:a},this.keyCodeMap[s[u]]))}break}}}}},{key:"destroy",value:function(){this.player.root.removeEventListener("keydown",this.onKeydown),document.removeEventListener("keydown",this.onBodyKeyDown),this.player.root.removeEventListener("keyup",this.onKeyup),document.removeEventListener("keyup",this.onBodyKeyUp)}},{key:"disable",value:function(){this.config.disable=!0}},{key:"enable",value:function(){this.config.disable=!1}}],[{key:"pluginName",get:function(){return"keyboard"}},{key:"defaultConfig",get:function(){return{seekStep:10,checkVisible:!1,disableBodyTrigger:!1,disableRootTrigger:!1,isGlobalTrigger:!1,keyCodeMap:{},disable:!1,playbackRate:2,isIgnoreUserActive:!1}}}]),i}(bt);function vn(t){"@babel/helpers - typeof";return vn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vn(t)}function Pb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ou(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kb(r.key),r)}}function Sb(t,e,i){return e&&ou(t.prototype,e),i&&ou(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function kb(t){var e=Ob(t,"string");return vn(e)==="symbol"?e:String(e)}function Ob(t,e){if(vn(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(vn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Tb(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qo(t,e)}function Qo(t,e){return Qo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Qo(t,e)}function Eb(t){var e=$b();return function(){var r=fi(t),n;if(e){var o=fi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Cb(this,n)}}function Cb(t,e){if(e&&(vn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ib(t)}function Ib(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $b(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function fi(t){return fi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},fi(t)}var xb='<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="-5 -5 110 110"><path d="M100 50A50 50 0 1150 0" stroke-width="5" stroke="#ddd" stroke-dasharray="236" fill="none"/></svg>',Rb=function(t){Tb(i,t);var e=Eb(i);function i(){return Pb(this,i),e.apply(this,arguments)}return Sb(i,[{key:"registerIcons",value:function(){return{loadingIcon:xb}}},{key:"afterCreate",value:function(){this.appendChild("xg-loading-inner",this.icons.loadingIcon)}},{key:"render",value:function(){return`
    <xg-loading class="xgplayer-loading">
      <xg-loading-inner></xg-loading-inner>
    </xg-loading>`}}],[{key:"pluginName",get:function(){return"loading"}},{key:"defaultConfig",get:function(){return{position:Z.ROOT}}}]),i}(G);function br(t){"@babel/helpers - typeof";return br=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},br(t)}function Lb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ab(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Nb(r.key),r)}}function Db(t,e,i){return e&&Ab(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nb(t){var e=Mb(t,"string");return br(e)==="symbol"?e:String(e)}function Mb(t,e){if(br(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(br(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var jb=[{tag:"xg-cache",className:"xgplayer-progress-cache",styleKey:"cachedColor"},{tag:"xg-played",className:"xgplayer-progress-played",styleKey:"playedColor"}],Bb=function(){function t(e){Lb(this,t),this.fragments=e.fragments||[],this.fragments.length===0&&this.fragments.push({percent:1}),this._callBack=e.actionCallback,this.fragConfig={fragFocusClass:e.fragFocusClass||"inner-focus-point",fragAutoFocus:!!e.fragAutoFocus,fragClass:e.fragClass||""},this.style=e.style||{playedColor:"",cachedColor:"",progressColor:""},this.duration=0,this.cachedIndex=0,this.playedIndex=0,this.focusIndex=-1}return Db(t,[{key:"updateDuration",value:function(i){var r=this;this.duration=i;var n=0,o=this.fragments;this.fragments=o.map(function(a){return a.start=parseInt(n,10),a.end=parseInt(n+a.percent*r.duration,10),a.duration=parseInt(a.percent*r.duration,10),n+=a.percent*r.duration,a})}},{key:"updateProgress",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"played",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{newIndex:0,curIndex:0,millisecond:0},n=this.progressList,o=this.fragments;if(!(n.length<1)){var a=r.newIndex,s=r.curIndex,u=r.millisecond;a!==s&&n.map(function(f,h){h<a?f[i].style.width="100%":h>a&&(f[i].style.width=0)});var l=o[a],c=u===0?0:(u-l.start)/l.duration;n[a][i].style.width=c<0?0:"".concat(c*100,"%")}}},{key:"updateFocus",value:function(i){if(!(!this.fragConfig.fragAutoFocus||this.fragments.length<2)){if(!i){if(this.focusIndex>-1){this.unHightLight(this.focusIndex);var r={index:-1,preIndex:this.focusIndex,fragment:null};this._callBack&&this._callBack(r),this.focusIndex=-1}return}var n=this.findIndex(i.currentTime*1e3,this.focusIndex);if(n>=0&&n!==this.focusIndex){this.focusIndex>-1&&this.unHightLight(this.focusIndex),this.setHightLight(n);var o={index:n,preIndex:this.focusIndex,fragment:this.fragments[this.focusIndex]};this.focusIndex=n,this._callBack&&this._callBack(o)}}}},{key:"update",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{cached:0,played:0},r=arguments.length>1?arguments[1]:void 0;if(!this.duration||parseInt(r*1e3,10)!==this.duration){if(!r&&r!==0)return;this.updateDuration(parseInt(r*1e3,10))}var n=this.playedIndex,o=this.cachedIndex;if(d.typeOf(i.played)!=="Undefined"){var a=this.findIndex(i.played*1e3,n);if(a<0)return;this.updateProgress("played",{newIndex:a,curIndex:n,millisecond:parseInt(i.played*1e3,10)}),this.playedIndex=a}if(d.typeOf(i.cached)!=="Undefined"){var s=this.findIndex(i.cached*1e3,o);if(s<0)return;this.updateProgress("cached",{newIndex:s,curIndex:o,millisecond:parseInt(i.cached*1e3,10)}),this.cachedIndex=s}}},{key:"findIndex",value:function(i,r){var n=this.fragments;if(!n||n.length===0)return-1;if(n.length===1)return 0;if(r>-1&&r<n.length&&i>n[r].start&&i<n[r].end)return r;if(i>n[n.length-1].start)return n.length-1;for(var o=0;o<n.length;o++)if(i>n[o].start&&i<=n[o].end){r=o;break}return r}},{key:"findHightLight",value:function(){for(var i=this.root.children,r=0;r<i.length;r++)if(d.hasClass(i[r],this.fragConfig.fragFocusClass))return{dom:i[r],pos:i[r].getBoundingClientRect()}}},{key:"findFragment",value:function(i){var r=this.root.children;return i<0||i>=r.length?null:{dom:r[i],pos:r[i].getBoundingClientRect()}}},{key:"unHightLight",value:function(){for(var i=this.root.children,r=0;r<i.length;r++)d.removeClass(i[r],this.fragConfig.fragFocusClass)}},{key:"setHightLight",value:function(i){var r=this.root.children;if(i<r.length)return d.addClass(r[i],this.fragConfig.fragFocusClass),{dom:r[i],pos:r[i].getBoundingClientRect()}}},{key:"destroy",value:function(){this.progressList=null,this.fragments=null,this.root.innerHTML=""}},{key:"reset",value:function(i){var r=this;if(Object.keys(this.fragConfig).forEach(function(o){i[o]!==void 0&&(r.fragConfig[o]=i[o])}),i.fragments){if(this.fragments=i.fragments.length===0?[{percent:1}]:i.fragments,this.updateDuration(this.duration),this.playedIndex=0,this.cachedIndex=0,this.root)for(var n=this.root.children;n.length>0;)this.root.removeChild(n[0]);this.render()}}},{key:"render",value:function(){var i=this,r=this.style.progressColor;if(this.root||(this.root=d.createDom("xg-inners","",{},"progress-list")),this.fragments){var n=this.fragConfig,o=n.fragClass,a=n.fragFocusClass;this.progressList=this.fragments.map(function(s){var u=d.createDom("xg-inner","",{style:r?"background:".concat(r,"; flex: ").concat(s.percent):"flex: ".concat(s.percent)},"".concat(s.isFocus?a:""," xgplayer-progress-inner ").concat(o));return i.root.appendChild(u),jb.forEach(function(l){u.appendChild(d.createDom(l.tag,"",{style:l.styleKey?"background: ".concat(i.style[l.styleKey],"; width:0;"):"width:0;"},l.className))}),{cached:u.children[0],played:u.children[1]}})}return this.root}}]),t}();function Pt(t){"@babel/helpers - typeof";return Pt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pt(t)}function au(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function su(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?au(Object(i),!0).forEach(function(r){de(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):au(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function Fb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uu(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lc(r.key),r)}}function Hb(t,e,i){return e&&uu(t.prototype,e),i&&uu(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vb(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ea(t,e)}function ea(t,e){return ea=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},ea(t,e)}function Ub(t){var e=Kb();return function(){var r=di(t),n;if(e){var o=di(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zb(this,n)}}function zb(t,e){if(e&&(Pt(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ee(t)}function ee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kb(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function di(t){return di=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},di(t)}function de(t,e,i){return e=lc(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function lc(t){var e=Gb(t,"string");return Pt(e)==="symbol"?e:String(e)}function Gb(t,e){if(Pt(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(Pt(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lu={POINT:"inner-focus-point",HIGHLIGHT:"inner-focus-highlight"},Wb=function(t){Vb(i,t);var e=Ub(i);function i(r){var n;return Fb(this,i),n=e.call(this,r),de(ee(n),"onMoveOnly",function(o,a){var s=ee(n),u=s.pos,l=s.config,c=s.player,f=a;if(o){d.event(o);var h=d.getEventPos(o,c.zoom),p=c.rotateDeg===90?h.clientY:h.clientX;if(u.moving&&Math.abs(u.x-p)<l.miniMoveStep)return;u.moving=!0,u.x=p,f=n.computeTime(o,p)}n.triggerCallbacks("dragmove",f,o),n._updateInnerFocus(f)}),de(ee(n),"onBodyClick",function(o){o.preventDefault(),o.stopPropagation()}),de(ee(n),"_mouseDownHandler",function(o,a){n._state.time=a.currentTime,n.updateWidth(a.currentTime,a.percent,0),n._updateInnerFocus(a)}),de(ee(n),"_mouseUpHandler",function(o,a){var s=ee(n),u=s.pos;u.moving&&n.updateWidth(a.currentTime,a.percent,2)}),de(ee(n),"_mouseMoveHandler",function(o,a){var s=ee(n),u=s._state,l=s.pos,c=s.config,f=s.player;u.time<a.currentTime?a.forward=!0:a.forward=!1,u.time=a.currentTime,l.isDown&&!l.moving&&(l.moving=!0,c.isPauseMoving&&f.pause(),n.triggerCallbacks("dragstart",a,o),n.emitUserAction("drag","dragstart",a)),n.updateWidth(a.currentTime,a.percent,1),n.triggerCallbacks("dragmove",a,o),n._updateInnerFocus(a)}),de(ee(n),"onMouseDown",function(o){var a=ee(n),s=a._state,u=a.player,l=a.pos,c=a.config,f=a.playerConfig,h=d.getEventPos(o,u.zoom),p=u.rotateDeg===90?h.clientY:h.clientX;if(!(u.isMini||c.closeMoveSeek||!f.allowSeekAfterEnded&&u.ended)){o.stopPropagation(),n.focus(),d.checkIsFunction(f.disableSwipeHandler)&&f.disableSwipeHandler(),d.checkIsFunction(c.onMoveStart)&&c.onMoveStart(),d.event(o),l.x=p,l.isDown=!0,l.moving=!1,s.prePlayTime=u.currentTime,u.focus({autoHide:!1}),n.isProgressMoving=!0,d.addClass(n.progressBtn,"active");var y=n.computeTime(o,p);y.prePlayTime=s.prePlayTime,n._mouseDownHandlerHook(o,y);var v=o.type;return v==="touchstart"?(n.root.addEventListener("touchmove",n.onMouseMove),n.root.addEventListener("touchend",n.onMouseUp),n.root.addEventListener("touchcancel",n.onMouseUp)):(n.unbind("mousemove",n.onMoveOnly),document.addEventListener("mousemove",n.onMouseMove,!1),document.addEventListener("mouseup",n.onMouseUp,!1),u.root.addEventListener("click",n.onBodyClick,!1)),!0}}),de(ee(n),"onMouseUp",function(o){var a=ee(n),s=a.player,u=a.config,l=a.pos,c=a.playerConfig,f=a._state;o.stopPropagation(),o.preventDefault(),d.checkIsFunction(c.enableSwipeHandler)&&c.enableSwipeHandler(),d.checkIsFunction(u.onMoveEnd)&&u.onMoveEnd(),d.event(o),d.removeClass(n.progressBtn,"active");var h=n.computeTime(o,l.x);h.prePlayTime=f.prePlayTime,l.moving?(n.triggerCallbacks("dragend",h,o),n.emitUserAction("drag","dragend",h)):(n.triggerCallbacks("click",h,o),n.emitUserAction("click","click",h)),n._mouseUpHandlerHook(o,h),l.moving=!1,l.isDown=!1,l.x=0,l.y=0,f.prePlayTime=0,f.time=0;var p=o.type;p==="touchend"||p==="touchcancel"?(n.root.removeEventListener("touchmove",n.onMouseMove),n.root.removeEventListener("touchend",n.onMouseUp),n.root.removeEventListener("touchcancel",n.onMouseUp),n.blur()):(document.removeEventListener("mousemove",n.onMouseMove,!1),document.removeEventListener("mouseup",n.onMouseUp,!1),s.root.removeEventListener("click",n.onBodyClick,!1),l.isEnter?c.isMobileSimulateMode!=="mobile"&&n.bind("mousemove",n.onMoveOnly):n.onMouseLeave(o)),d.setTimeout(ee(n),function(){n.resetSeekState()},10),s.focus()}),de(ee(n),"onMouseMove",function(o){var a=ee(n),s=a._state,u=a.pos,l=a.player,c=a.config;d.checkTouchSupport()&&o.preventDefault(),d.event(o);var f=d.getEventPos(o,l.zoom),h=l.rotateDeg===90?f.clientY:f.clientX,p=Math.abs(u.x-h);if(!(u.moving&&p<c.miniMoveStep||!u.moving&&p<c.miniStartStep)){u.x=h;var y=n.computeTime(o,h);y.prePlayTime=s.prePlayTime,n._mouseMoveHandlerHook(o,y)}}),de(ee(n),"onMouseOut",function(o){n.triggerCallbacks("mouseout",null,o)}),de(ee(n),"onMouseOver",function(o){n.triggerCallbacks("mouseover",null,o)}),de(ee(n),"onMouseEnter",function(o){var a=ee(n),s=a.player,u=a.pos;if(!(u.isDown||u.isEnter||s.isMini||!s.config.allowSeekAfterEnded&&s.ended)){u.isEnter=!0,n.bind("mousemove",n.onMoveOnly),n.bind("mouseleave",n.onMouseLeave),d.event(o);var l=d.getEventPos(o,s.zoom),c=s.rotateDeg===90?l.clientY:l.clientX,f=n.computeTime(o,c);n.triggerCallbacks("mouseenter",f,o),n.focus()}}),de(ee(n),"onMouseLeave",function(o){n.triggerCallbacks("mouseleave",null,o),n.unlock(),n._updateInnerFocus(null)}),de(ee(n),"onVideoResize",function(){var o=n.pos,a=o.x,s=o.isDown,u=o.isEnter;if(u&&!s){var l=n.computeTime(null,a);n.onMoveOnly(null,l)}}),n.useable=!1,n.isProgressMoving=!1,n.__dragCallBacks=[],n._state={now:-1,direc:0,time:0,prePlayTime:-1},n._disableBlur=!1,n}return Hb(i,[{key:"duration",get:function(){return this.playerConfig.customDuration||this.player.duration}},{key:"timeOffset",get:function(){return this.playerConfig.timeOffset||0}},{key:"changeState",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.useable=n}},{key:"beforeCreate",value:function(n){typeof n.player.config.progress=="boolean"&&(n.config.disable=!n.player.config.progress)}},{key:"_initInner",value:function(){var n=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(!o||o.length===0)&&(o=[{percent:1}]);var s=su(su({fragments:o},a),{},{actionCallback:function(l){n.emitUserAction("fragment_focus","fragment_focus",l)}});this.innerList?this.innerList.reset(s):(this.innerList=new Bb(s),this.outer.insertBefore(this.innerList.render(),this.outer.children[0]),["findHightLight","unHightLight","setHightLight","findFragment"].map(function(u){n[u]=n.innerList[u].bind(n.innerList)}))}},{key:"_updateInnerFocus",value:function(n){this.innerList&&this.innerList.updateFocus(n)}},{key:"afterCreate",value:function(){var n=this;if(!(this.config.disable||this.playerConfig.isLive)){this.pos={x:0,y:0,moving:!1,isDown:!1,isEnter:!1},this.outer=this.find("xg-outer");var o=this.config,a=o.fragFocusClass,s=o.fragAutoFocus,u=o.fragClass;this._initInner(this.config.fragments,{fragFocusClass:a,fragAutoFocus:s,fragClass:u,style:this.playerConfig.commonStyle||{}}),V.device==="mobile"&&(this.config.isDragingSeek=!1,this.isMobile=!0),this.progressBtn=this.find(".xgplayer-progress-btn"),this.on(Kn,function(){n.onMouseLeave()}),this.on(Ee,function(){n.onTimeupdate()}),this.on(Ue,function(){n.onTimeupdate(),n.onCacheUpdate()}),this.on($l,function(){n.onCacheUpdate()}),this.on(it,function(){n.onCacheUpdate(!0),n.onTimeupdate(!0),n._state.now=0}),this.on(Gn,function(){n.onReset()}),this.on(Zt,function(){n.onVideoResize()}),this.bindDomEvents(),this.initCustomStyle()}}},{key:"setConfig",value:function(n){var o=this,a=null;Object.keys(n).forEach(function(s){o.config[s]=n[s],s==="fragments"&&(a=n[s])}),a&&this._initInner(a,n)}},{key:"initCustomStyle",value:function(){var n=this.playerConfig||{},o=n.commonStyle,a=o.sliderBtnStyle,s=this.progressBtn;a&&(typeof a=="string"?s.style.boxShadow=a:Pt(a)==="object"&&Object.keys(a).map(function(u){s.style[u]=a[u]}))}},{key:"triggerCallbacks",value:function(n,o,a){this.__dragCallBacks.length>0&&this.__dragCallBacks.map(function(s){if(s&&s.handler&&s.type===n)try{s.handler(o,a)}catch(u){console.error("[XGPLAYER][triggerCallbacks] ".concat(s," error"),u)}})}},{key:"addCallBack",value:function(n,o){o&&typeof o=="function"&&this.__dragCallBacks.push({type:n,handler:o})}},{key:"removeCallBack",value:function(n,o){var a=this.__dragCallBacks,s=-1;a.map(function(u,l){u&&u.type===n&&u.handler===o&&(s=l)}),s>-1&&a.splice(s,1)}},{key:"unlock",value:function(){var n=this.player,o=this.pos;if(o.isEnter=!1,!n.isMini){if(this.unbind("mousemove",this.onMoveOnly),o.isDown){this.unbind("mouseleave",this.onMouseLeave);return}this.blur()}}},{key:"bindDomEvents",value:function(){var n=this.player,o=n.controls,a=n.config;this._mouseDownHandlerHook=this.hook("dragstart",this._mouseDownHandler),this._mouseUpHandlerHook=this.hook("dragend",this._mouseUpHandler),this._mouseMoveHandlerHook=this.hook("drag",this._mouseMoveHandler),(this.domEventType==="touch"||this.domEventType==="compatible")&&(this.root.addEventListener("touchstart",this.onMouseDown),o&&(o.root&&o.root.addEventListener("touchmove",d.stopPropagation),o.center&&o.center.addEventListener("touchend",d.stopPropagation))),(this.domEventType==="mouse"||this.domEventType==="compatible")&&(this.bind("mousedown",this.onMouseDown),a.isMobileSimulateMode!=="mobile"&&this.bind("mouseenter",this.onMouseEnter),this.bind("mouseover",this.onMouseOver),this.bind("mouseout",this.onMouseOut))}},{key:"focus",value:function(){this.player.controls.pauseAutoHide(),d.addClass(this.root,"active")}},{key:"blur",value:function(){this._disableBlur||(this.player.controls.recoverAutoHide(),d.removeClass(this.root,"active"))}},{key:"disableBlur",value:function(){this._disableBlur=!0}},{key:"enableBlur",value:function(){this._disableBlur=!1}},{key:"updateWidth",value:function(n,o,a){var s=this.config,u=this.player;if(!(s.isCloseClickSeek&&a===0)){var l=n>=u.duration?u.duration-s.endedDiff:Number(n).toFixed(1);this.updatePercent(o),this.updateTime(n),!(a===1&&(!s.isDragingSeek||u.videoConfig.mediaType==="audio"))&&(this._state.now=l,this._state.direc=l>u.currentTime?0:1,u.seek(l))}}},{key:"computeTime",value:function(n,o){var a=this.player,s=this.root.getBoundingClientRect(),u=s.width,l=s.height,c=s.top,f=s.left,h,p,y=o;a.rotateDeg===90?(h=l,p=c):(h=u,p=f);var v=y-p;v=v>h?h:v<0?0:v;var m=v/h;m=m<0?0:m>1?1:m;var k=parseInt(m*this.duration*1e3,10)/1e3;return{percent:m,currentTime:k,offset:v,width:h,left:p,e:n}}},{key:"updateTime",value:function(n){var o=this.player,a=this.duration;n>a?n=a:n<0&&(n=0);var s=o.plugins.time;s&&s.updateTime(n)}},{key:"resetSeekState",value:function(){this.isProgressMoving=!1;var n=this.player.plugins.time;n&&n.resetActive()}},{key:"updatePercent",value:function(n,o){if(this.isProgressMoving=!0,!this.config.disable){n=n>1?1:n<0?0:n,this.progressBtn.style.left="".concat(n*100,"%"),this.innerList.update({played:n*this.duration},this.duration);var a=this.player.plugins.miniprogress;a&&a.update({played:n*this.duration},this.duration)}}},{key:"onTimeupdate",value:function(n){var o=this.player,a=this._state,s=this.duration;if(!(o.isSeeking&&o.video.seeking||this.isProgressMoving||!o.hasStart)){if(a.now>-1){var u=parseInt(a.now*1e3,10)-parseInt(o.currentTime*1e3,10);if(a.direc===0&&u>300||a.direc===1&&u>-300){a.now=-1;return}else a.now=-1}var l=this.timeOffset+o.currentTime;l=d.adjustTimeByDuration(l,s,n),this.innerList.update({played:l},s),this.progressBtn.style.left="".concat(l/s*100,"%");var c=this.player.plugins.miniprogress;c&&c.update({played:l},s)}}},{key:"onCacheUpdate",value:function(n){var o=this.player,a=this.duration;if(o){var s=o.bufferedPoint.end;s=d.adjustTimeByDuration(s,a,n),this.innerList.update({cached:s},a);var u=this.player.plugins.miniprogress;u&&u.update({cached:s},a)}}},{key:"onReset",value:function(){this.innerList.update({played:0,cached:0},0);var n=this.player.plugins.miniprogress;n&&n.update({cached:0,played:0},0)}},{key:"destroy",value:function(){var n=this.player,o=n.controls;this.thumbnailPlugin=null,this.innerList.destroy(),this.innerList=null;var a=this.domEventType;(a==="touch"||a==="compatible")&&(this.root.removeEventListener("touchstart",this.onMouseDown),this.root.removeEventListener("touchmove",this.onMouseMove),this.root.removeEventListener("touchend",this.onMouseUp),o&&(o.root&&o.root.removeEventListener("touchmove",d.stopPropagation),o.center&&o.center.removeEventListener("touchend",d.stopPropagation))),(a==="mouse"||a==="compatible")&&(this.unbind("mousedown",this.onMouseDown),this.unbind("mouseenter",this.onMouseEnter),this.unbind("mousemove",this.onMoveOnly),this.unbind("mouseleave",this.onMouseLeave),document.removeEventListener("mousemove",this.onMouseMove,!1),document.removeEventListener("mouseup",this.onMouseUp,!1),n.root.removeEventListener("click",this.onBodyClick,!1))}},{key:"render",value:function(){if(!(this.config.disable||this.playerConfig.isLive)){var n=this.player.controls?this.player.controls.config.mode:"",o=n==="bottom"?"xgplayer-progress-bottom":"";return`
    <xg-progress class="xgplayer-progress `.concat(o,`">
      <xg-outer class="xgplayer-progress-outer">
        <xg-progress-btn class="xgplayer-progress-btn"></xg-progress-btn>
      </xg-outer>
    </xg-progress>
    `)}}}],[{key:"pluginName",get:function(){return"progress"}},{key:"defaultConfig",get:function(){return{position:Z.CONTROLS_CENTER,index:0,disable:!1,isDragingSeek:!0,closeMoveSeek:!1,isPauseMoving:!1,isCloseClickSeek:!1,fragments:[{percent:1}],fragFocusClass:lu.POINT,fragClass:"",fragAutoFocus:!1,miniMoveStep:5,miniStartStep:2,onMoveStart:function(){},onMoveEnd:function(){},endedDiff:.2}}},{key:"FRAGMENT_FOCUS_CLASS",get:function(){return lu}}]),i}(G);function yn(t){"@babel/helpers - typeof";return yn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yn(t)}function Yb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xb(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cc(r.key),r)}}function qb(t,e,i){return e&&Xb(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jb(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ta(t,e)}function ta(t,e){return ta=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},ta(t,e)}function Zb(t){var e=e0();return function(){var r=hi(t),n;if(e){var o=hi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Qb(this,n)}}function Qb(t,e){if(e&&(yn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return na(t)}function na(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function e0(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function hi(t){return hi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},hi(t)}function cu(t,e,i){return e=cc(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function cc(t){var e=t0(t,"string");return yn(e)==="symbol"?e:String(e)}function t0(t,e){if(yn(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(yn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lt=function(t){Jb(i,t);var e=Zb(i);function i(){var r;Yb(this,i);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),cu(na(r),"_onMouseenter",function(s){r.emit("icon_mouseenter",{pluginName:r.pluginName})}),cu(na(r),"_onMouseLeave",function(s){r.emit("icon_mouseleave",{pluginName:r.pluginName})}),r}return qb(i,[{key:"afterCreate",value:function(){this.bind("mouseenter",this._onMouseenter),this.bind("mouseleave",this._onMouseLeave),this.config.disable&&this.disable()}},{key:"destroy",value:function(){this.unbind("mouseenter",this._onMouseenter),this.unbind("mouseleave",this._onMouseLeave)}}]),i}(G);function gn(t){"@babel/helpers - typeof";return gn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gn(t)}function n0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fu(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fc(r.key),r)}}function r0(t,e,i){return e&&fu(t.prototype,e),i&&fu(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function sr(){return typeof Reflect<"u"&&Reflect.get?sr=Reflect.get.bind():sr=function(e,i,r){var n=i0(e,i);if(n){var o=Object.getOwnPropertyDescriptor(n,i);return o.get?o.get.call(arguments.length<3?e:r):o.value}},sr.apply(this,arguments)}function i0(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=St(t),t!==null););return t}function o0(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ra(t,e)}function ra(t,e){return ra=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},ra(t,e)}function a0(t){var e=u0();return function(){var r=St(t),n;if(e){var o=St(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s0(this,n)}}function s0(t,e){if(e&&(gn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ia(t)}function ia(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u0(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function St(t){return St=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},St(t)}function l0(t,e,i){return e=fc(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function fc(t){var e=c0(t,"string");return gn(e)==="symbol"?e:String(e)}function c0(t,e){if(gn(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(gn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var f0='<svg class="play" xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="3 -4 28 40"><path fill="#fff" d="M18.468 11.639l7.503 4.777-7.503 4.777zM10.965 6.86l7.503 4.778v9.554l-7.503 4.778z"/></svg>',d0='<svg class="pause" xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="3 -4 28 40"><path fill="#fff" d="M19.173 6.861h5.451v19.11h-5.45V6.86zM8.208 25.971V6.86h5.45v19.11h-5.45z"/></svg>',h0=function(t){o0(i,t);var e=a0(i);function i(){var r;n0(this,i);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),l0(ia(r),"btnClick",function(s){var u=ia(r),l=u.player,c=u.config;if(!c.disable)return s.preventDefault(),s.stopPropagation(),r.emitUserAction(s,"switch_play_pause"),l.ended?l.replay():l.paused&&!l.isBufferControlPaused?(l.play(),r.animate(!1)):(l.pause(),r.animate(!0)),!1}),r}return r0(i,[{key:"afterCreate",value:function(){var n=this;sr(St(i.prototype),"afterCreate",this).call(this);var o=this.player;this._isPaused=!1,this.initIcons(),this.bind(["touchend","click"],this.btnClick),this.on([Rt,Gn,Ie],function(){n.animate(o.paused)}),this.on(Wt,function(){n.animate(o.paused)}),this.animate(!0)}},{key:"registerIcons",value:function(){return{play:{icon:f0,class:"xg-icon-play"},pause:{icon:d0,class:"xg-icon-pause"}}}},{key:"initIcons",value:function(){var n=this.icons;this.appendChild(".xgplayer-icon",n.play),this.appendChild(".xgplayer-icon",n.pause)}},{key:"animate",value:function(n){var o=this.i18nKeys,a=this.player;n&&a.isBufferControlPaused||(n?(this.setAttr("data-state","pause"),this.changeLangTextKey(this.find(".xg-tips"),o.PLAY_TIPS)):(this.setAttr("data-state","play"),this.changeLangTextKey(this.find(".xg-tips"),o.PAUSE_TIPS)))}},{key:"destroy",value:function(){sr(St(i.prototype),"destroy",this).call(this),this.unbind(["touchend","click"],this.btnClick)}},{key:"render",value:function(){return`<xg-icon class="xgplayer-play">
    <div class="xgplayer-icon">
    </div>
    <div class="xg-tips" lang-key="`.concat(this.i18nKeys.PLAY_TIPS,'">').concat(this.i18n.PLAY_TIPS,`</div>
    </xg-icon>`)}}],[{key:"pluginName",get:function(){return"play"}},{key:"defaultConfig",get:function(){return{position:Z.CONTROLS_LEFT,index:0,disable:!1}}}]),i}(Lt);function mn(t){"@babel/helpers - typeof";return mn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mn(t)}function p0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function du(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,y0(r.key),r)}}function v0(t,e,i){return e&&du(t.prototype,e),i&&du(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function y0(t){var e=g0(t,"string");return mn(e)==="symbol"?e:String(e)}function g0(t,e){if(mn(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(mn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function m0(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oa(t,e)}function oa(t,e){return oa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},oa(t,e)}function _0(t){var e=P0();return function(){var r=pi(t),n;if(e){var o=pi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b0(this,n)}}function b0(t,e){if(e&&(mn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w0(t)}function w0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P0(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function pi(t){return pi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},pi(t)}var S0='<svg width="32" height="40" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M11.237 14l6.382-6.381A.875.875 0 1016.38 6.38l-7 7a.875.875 0 000 1.238l7 7a.875.875 0 101.238-1.238L11.237 14z" fill="#FFF" fill-rule="evenodd"/></svg>',k0=function(t){m0(i,t);var e=_0(i);function i(){return p0(this,i),e.apply(this,arguments)}return v0(i,[{key:"afterCreate",value:function(){var n=this;this.initIcons(),this.onClick=function(o){o.preventDefault(),o.stopPropagation(),n.config.onClick(o)},this.bind(["click","touchend"],this.onClick)}},{key:"registerIcons",value:function(){return{screenBack:{icon:S0,class:"xg-fullscreen-back"}}}},{key:"initIcons",value:function(){var n=this.icons;this.appendChild(this.root,n.screenBack)}},{key:"show",value:function(){d.addClass(this.root,"show")}},{key:"hide",value:function(){d.removeClass(this.root,"show")}},{key:"render",value:function(){return`<xg-icon class="xgplayer-back">
    </xg-icon>`}}],[{key:"pluginName",get:function(){return"topbackicon"}},{key:"defaultConfig",get:function(){return{position:Z.ROOT_TOP,index:0}}}]),i}(G);function _n(t){"@babel/helpers - typeof";return _n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_n(t)}function O0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hu(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hc(r.key),r)}}function T0(t,e,i){return e&&hu(t.prototype,e),i&&hu(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function pt(){return typeof Reflect<"u"&&Reflect.get?pt=Reflect.get.bind():pt=function(e,i,r){var n=E0(e,i);if(n){var o=Object.getOwnPropertyDescriptor(n,i);return o.get?o.get.call(arguments.length<3?e:r):o.value}},pt.apply(this,arguments)}function E0(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=He(t),t!==null););return t}function C0(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aa(t,e)}function aa(t,e){return aa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},aa(t,e)}function I0(t){var e=x0();return function(){var r=He(t),n;if(e){var o=He(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $0(this,n)}}function $0(t,e){if(e&&(_n(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dc(t)}function dc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x0(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function He(t){return He=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},He(t)}function R0(t,e,i){return e=hc(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function hc(t){var e=L0(t,"string");return _n(e)==="symbol"?e:String(e)}function L0(t,e){if(_n(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(_n(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var A0='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="2 -4 28 40"><path fill="#fff" d="M19.173 6.861h6.798v6.798h-2.694V9.555h-4.104V6.86zm4.104 16.416v-4.104h2.694v6.798h-6.798v-2.694h4.104zM6.861 13.66V6.86h6.798v2.694H9.555v4.104H6.86zm2.694 5.514v4.104h4.104v2.694H6.86v-6.798h2.694z"/></svg>',D0='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="2 -4 28 40"><path fill="#fff" d="M21.867 10.965h4.104v2.694h-6.798V6.86h2.694v4.104zm-2.694 15.006v-6.798h6.798v2.694h-4.104v4.104h-2.694zm-8.208-15.006V6.861h2.694v6.798H6.86v-2.694h4.104zM6.861 21.867v-2.694h6.798v6.798h-2.694v-4.104H6.861z"/></svg>',N0=function(t){C0(i,t);var e=I0(i);function i(){var r;O0(this,i);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),R0(dc(r),"_onOrientationChange",function(s){r.player.fullscreen&&r.config.rotateFullscreen&&(window.orientation===90||window.orientation===-90?r.setRotateDeg(0):r.setRotateDeg(90))}),r}return T0(i,[{key:"afterCreate",value:function(){var n=this;pt(He(i.prototype),"afterCreate",this).call(this);var o=this.config,a=this.playerConfig;o.target&&(this.playerConfig.fullscreenTarget=this.config.target);var s=d.getFullScreenEl();a.fullscreenTarget===s&&this.player.getFullscreen().catch(function(){}),this.initIcons(),this.handleFullscreen=this.hook("fullscreen_change",this.changeFullScreen,{pre:function(l){n.config.disable||n.emitUserAction(l,"switch_fullscreen",{fullscreen:n.player.fullscreen})}}),this.bind(".xgplayer-fullscreen",["touchend","click"],this.handleFullscreen),this.on(Qe,function(u){n.changeLangTextKey(n.find(".xg-tips"),u?n.i18nKeys.EXITFULLSCREEN_TIPS:n.i18nKeys.FULLSCREEN_TIPS),n.animate(u),n.config.needBackIcon&&n.show()}),this.config.needBackIcon&&(this.topBackIcon=this.player.registerPlugin({plugin:k0,options:{config:{onClick:function(l){n.handleFullscreen(l)}}}})),V.device==="mobile"&&window.addEventListener("orientationchange",this._onOrientationChange)}},{key:"registerIcons",value:function(){return{fullscreen:{icon:A0,class:"xg-get-fullscreen"},exitFullscreen:{icon:D0,class:"xg-exit-fullscreen"}}}},{key:"destroy",value:function(){pt(He(i.prototype),"destroy",this).call(this),this.unbind(".xgplayer-icon",V.device==="mobile"?"touchend":"click",this.handleFullscreen),V.device==="mobile"&&window.removeEventListener("orientationchange",this._onOrientationChange)}},{key:"initIcons",value:function(){var n=this.icons;this.appendChild(".xgplayer-icon",n.fullscreen),this.appendChild(".xgplayer-icon",n.exitFullscreen)}},{key:"setRotateDeg",value:function(n){var o=this.player;window.orientation===90||window.orientation===-90?o.rotateDeg=0:o.rotateDeg=n}},{key:"getRotateFullscreen",value:function(n){var o=this.player;o.isCssfullScreen&&o.exitCssFullscreen(n);var a=n?E.INNER_FULLSCREEN:E.ROTATE_FULLSCREEN;o._fullscreenEl=n||o.root,o.changeFullStyle(o.root,n,a,E.PARENT_ROTATE_FULLSCREEN),o.fullscreen=!0,this.setRotateDeg(90),this.emit(Qe,!0)}},{key:"exitRotateFullscreen",value:function(n){var o=this.player;o.fullscreen=!1;var a=o._fullscreenEl!==o.root?E.INNER_FULLSCREEN:E.ROTATE_FULLSCREEN;o.recoverFullStyle(o.root,o._fullscreenEl,a,E.PARENT_ROTATE_FULLSCREEN),this.setRotateDeg(0),this.emit(Qe,!1)}},{key:"changeFullScreen",value:function(n){var o=this.player,a=this.config;if(!a.disable){n&&(n.preventDefault(),n.stopPropagation());var s=!1;if((a.useCssFullscreen===!0||typeof a.useCssFullscreen=="function"&&a.useCssFullscreen())&&(s=!0),s)o.fullscreen?(o.fullscreen=!1,o.exitCssFullscreen(),this.emit(Qe,!1)):(o.fullscreen=!0,o.getCssFullscreen(),this.emit(Qe,!0)),this.animate(o.fullscreen);else if(a.rotateFullscreen)o.fullscreen?this.exitRotateFullscreen():this.getRotateFullscreen(),this.animate(o.fullscreen);else{if(a.switchCallback&&typeof a.switchCallback=="function"){a.switchCallback(o.fullscreen);return}o.fullscreen?o.exitFullscreen():o.getFullscreen().catch(function(){})}}}},{key:"animate",value:function(n){n?this.setAttr("data-state","full"):this.setAttr("data-state","normal"),this.topBackIcon&&(n?(this.topBackIcon.show(),this.hide()):(this.topBackIcon.hide(),this.show()))}},{key:"show",value:function(){pt(He(i.prototype),"show",this).call(this)}},{key:"hide",value:function(){pt(He(i.prototype),"hide",this).call(this)}},{key:"render",value:function(){var n="FULLSCREEN_TIPS";return`<xg-icon class="xgplayer-fullscreen">
    <div class="xgplayer-icon">
    </div>
    <div class="xg-tips" lang-key="`.concat(this.i18nKeys[n],'">').concat(this.i18n[n],`</div>
    </xg-icon>`)}}],[{key:"pluginName",get:function(){return"fullscreen"}},{key:"defaultConfig",get:function(){return{position:Z.CONTROLS_RIGHT,index:0,useCssFullscreen:!1,rotateFullscreen:!1,switchCallback:null,target:null,disable:!1,needBackIcon:!1}}}]),i}(Lt);function bn(t){"@babel/helpers - typeof";return bn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bn(t)}function M0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pu(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,B0(r.key),r)}}function j0(t,e,i){return e&&pu(t.prototype,e),i&&pu(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function B0(t){var e=F0(t,"string");return bn(e)==="symbol"?e:String(e)}function F0(t,e){if(bn(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(bn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Hr(){return typeof Reflect<"u"&&Reflect.get?Hr=Reflect.get.bind():Hr=function(e,i,r){var n=H0(e,i);if(n){var o=Object.getOwnPropertyDescriptor(n,i);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Hr.apply(this,arguments)}function H0(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=wn(t),t!==null););return t}function V0(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sa(t,e)}function sa(t,e){return sa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},sa(t,e)}function U0(t){var e=G0();return function(){var r=wn(t),n;if(e){var o=wn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return z0(this,n)}}function z0(t,e){if(e&&(bn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return K0(t)}function K0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function G0(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function wn(t){return wn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},wn(t)}var W0=function(t){V0(i,t);var e=U0(i);function i(r){var n;return M0(this,i),n=e.call(this,r),n.isActiving=!1,n}return j0(i,[{key:"duration",get:function(){return this.playerConfig.customDuration||this.player.duration}},{key:"timeOffset",get:function(){return this.playerConfig.timeOffset||0}},{key:"afterCreate",value:function(){var n=this,o=this.player.controls.config.mode;this.mode=o==="flex"?"flex":"normal",!this.config.disable&&(this.mode==="flex"&&(this.createCenterTime(),this.hide()),this.durationDom=this.find(".time-duration"),this.timeDom=this.find(".time-current"),this.on([Kn,Ue,Ee],function(a){a.eventName==="durationchange"&&(n.isActiving=!1),n.onTimeUpdate()}),this.on(it,function(){n.onTimeUpdate(!0)}),this.on(Gn,function(){n.onReset()}))}},{key:"show",value:function(){this.mode!=="flex"&&Hr(wn(i.prototype),"show",this).call(this)}},{key:"onTimeUpdate",value:function(n){var o=this.player,a=this.config,s=this.duration;if(!(a.disable||this.isActiving||!o.hasStart)){var u=o.currentTime+this.timeOffset;u=d.adjustTimeByDuration(u,s,n),this.mode==="flex"?(this.centerCurDom.innerHTML=d.format(u),s!==1/0&&s>0&&(this.centerDurDom.innerHTML=d.format(s))):(this.timeDom.innerHTML=d.format(u),s!==1/0&&s>0&&(this.durationDom.innerHTML=d.format(s)))}}},{key:"onReset",value:function(){this.mode==="flex"?(this.centerCurDom.innerHTML=d.format(0),this.centerDurDom.innerHTML=d.format(0)):(this.timeDom.innerHTML=d.format(0),this.durationDom.innerHTML=d.format(0))}},{key:"createCenterTime",value:function(){var n=this.player;if(!(!n.controls||!n.controls.center)){var o=n.controls.center;this.centerCurDom=d.createDom("xg-icon","00:00",{},"xgplayer-time left"),this.centerDurDom=d.createDom("xg-icon","00:00",{},"xgplayer-time right"),o.children.length>0?o.insertBefore(this.centerCurDom,o.children[0]):o.appendChild(this.centerCurDom),o.appendChild(this.centerDurDom)}}},{key:"afterPlayerInit",value:function(){var n=this.config;if(this.duration===1/0||this.playerConfig.isLive?(d.hide(this.durationDom),d.hide(this.timeDom),d.hide(this.find(".time-separator")),d.show(this.find(".time-live-tag"))):d.hide(this.find(".time-live-tag")),n.hide){this.hide();return}this.show()}},{key:"changeLiveState",value:function(n){n?(d.hide(this.durationDom),d.hide(this.timeDom),d.hide(this.find(".time-separator")),d.show(this.find(".time-live-tag"))):(d.hide(this.find(".time-live-tag")),d.show(this.find(".time-separator")),d.show(this.durationDom),d.show(this.timeDom))}},{key:"updateTime",value:function(n){if(this.isActiving=!0,!(!n&&n!==0||n>this.duration)){if(this.mode==="flex"){this.centerCurDom.innerHTML=d.format(n);return}this.timeDom.innerHTML=d.format(n)}}},{key:"resetActive",value:function(){var n=this,o=this.player,a=function(){n.isActiving=!1};this.off(Ue,a),o.isSeeking&&o.video.seeking?this.once(Ue,a):this.isActiving=!1}},{key:"destroy",value:function(){var n=this.player.controls.center;this.centerCurDom&&n.removeChild(this.centerCurDom),this.centerCurDom=null,this.centerDurDom&&n.removeChild(this.centerDurDom),this.centerDurDom=null}},{key:"render",value:function(){if(!this.config.disable)return`<xg-icon class="xgplayer-time">
    <span class="time-current">00:00</span>
    <span class="time-separator">/</span>
    <span class="time-duration">00:00</span>
    <span class="time-live-tag">`.concat(this.i18n.LIVE_TIP,`</span>
    </xg-icon>`)}}],[{key:"pluginName",get:function(){return"time"}},{key:"defaultConfig",get:function(){return{position:Z.CONTROLS_LEFT,index:2,disable:!1}}}]),i}(G);function Pn(t){"@babel/helpers - typeof";return Pn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pn(t)}function Y0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vu(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pc(r.key),r)}}function X0(t,e,i){return e&&vu(t.prototype,e),i&&vu(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function q0(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ua(t,e)}function ua(t,e){return ua=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},ua(t,e)}function J0(t){var e=Q0();return function(){var r=vi(t),n;if(e){var o=vi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Z0(this,n)}}function Z0(t,e){if(e&&(Pn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ke(t)}function ke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Q0(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function vi(t){return vi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},vi(t)}function Nt(t,e,i){return e=pc(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function pc(t){var e=ew(t,"string");return Pn(e)==="symbol"?e:String(e)}function ew(t,e){if(Pn(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(Pn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tw='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="0 -10 28 40"><path fill="#fff" d="M7.907 7.907H3.39v6.778h4.518l5.648 5.648V2.259L7.907 7.907zM20.753 18.48l-1.593-1.592c1.437-1.429 2.326-3.407 2.326-5.592s-.89-4.163-2.326-5.591l1.593-1.593c1.845 1.835 2.987 4.376 2.987 7.184s-1.142 5.349-2.987 7.184zm-3.199-3.185L15.95 13.69c.612-.613.991-1.46.991-2.395s-.379-1.782-.991-2.395l1.604-1.604c1.03 1.02 1.669 2.435 1.669 3.999s-.638 2.979-1.669 3.998z"/></svg>',nw='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="0 -10 28 40"><path fill="#fff" d="M7.907 7.907H3.39v6.778h4.518l5.648 5.648V2.259L7.907 7.907zM17.554 15.295L15.95 13.69c.612-.613.991-1.46.991-2.395s-.379-1.782-.991-2.395l1.604-1.604c1.03 1.02 1.669 2.435 1.669 3.999s-.638 2.979-1.669 3.998zm0 0L15.95 13.69c.612-.613.991-1.46.991-2.395s-.379-1.782-.991-2.395l1.604-1.604c1.03 1.02 1.669 2.435 1.669 3.999s-.638 2.979-1.669 3.998z"/></svg>',rw='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="0 -10 28 40"><path fill="#fff" d="M7.907 7.907H3.39v6.778h4.518l5.648 5.648V2.259L7.907 7.907zM20.306 9.703l-2.394-2.406-1.604 1.604 2.417 2.395-2.406 2.395 1.604 1.604 2.383-2.418 2.395 2.406 1.604-1.604-2.417-2.383 2.406-2.395-1.604-1.604-2.384 2.418z"/></svg>',iw=function(t){q0(i,t);var e=J0(i);function i(){var r;Y0(this,i);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),Nt(ke(r),"onBarMousedown",function(s){var u=ke(r),l=u.player,c=r.find(".xgplayer-bar");d.event(s);var f=c.getBoundingClientRect(),h=d.getEventPos(s,l.zoom),p=f.height-(h.clientY-f.top);if(h.h=p,h.barH=f.height,r.pos=h,!(p<-2))return r.updateVolumePos(p,s),document.addEventListener("mouseup",r.onBarMouseUp),r._d.isStart=!0,!1}),Nt(ke(r),"onBarMouseMove",function(s){var u=ke(r),l=u._d;if(l.isStart){var c=ke(r),f=c.pos,h=c.player;s.preventDefault(),s.stopPropagation(),d.event(s);var p=d.getEventPos(s,h.zoom);l.isMoving=!0;var y=f.h-p.clientY+f.clientY;y>f.barH||r.updateVolumePos(y,s)}}),Nt(ke(r),"onBarMouseUp",function(s){d.event(s),document.removeEventListener("mouseup",r.onBarMouseUp);var u=ke(r),l=u._d;l.isStart=!1,l.isMoving=!1}),Nt(ke(r),"onMouseenter",function(s){r._d.isActive=!0,r.focus(),r.emit("icon_mouseenter",{pluginName:r.pluginName})}),Nt(ke(r),"onMouseleave",function(s){r._d.isActive=!1,r.unFocus(100,!1,s),r.emit("icon_mouseleave",{pluginName:r.pluginName})}),Nt(ke(r),"onVolumeChange",function(s){if(r.player){var u=r.player,l=u.muted,c=u.volume;r._d.isMoving||(r.find(".xgplayer-drag").style.height=l||c===0?"4px":"".concat(c*100,"%"),r.config.showValueLabel&&r.updateVolumeValue()),r.animate(l,c)}}),r}return X0(i,[{key:"registerIcons",value:function(){return{volumeSmall:{icon:nw,class:"xg-volume-small"},volumeLarge:{icon:tw,class:"xg-volume"},volumeMuted:{icon:rw,class:"xg-volume-mute"}}}},{key:"afterCreate",value:function(){var n=this;this._timerId=null,this._d={isStart:!1,isMoving:!1,isActive:!1},this.initIcons();var o=this.playerConfig,a=o.commonStyle,s=o.volume;a.volumeColor&&(this.find(".xgplayer-drag").style.backgroundColor=a.volumeColor),this.changeMutedHandler=this.hook("mutedChange",function(u){n.changeMuted(u)},{pre:function(l){l.preventDefault(),l.stopPropagation()}}),this._onMouseenterHandler=this.hook("mouseenter",this.onMouseenter),this._onMouseleaveHandler=this.hook("mouseleave",this.onMouseleave),V.device!=="mobile"&&this.playerConfig.isMobileSimulateMode!=="mobile"&&(this.bind("mouseenter",this._onMouseenterHandler),this.bind(["blur","mouseleave"],this._onMouseleaveHandler),this.bind(".xgplayer-slider","mousedown",this.onBarMousedown),this.bind(".xgplayer-slider","mousemove",this.onBarMouseMove),this.bind(".xgplayer-slider","mouseup",this.onBarMouseUp)),this.bind(".xgplayer-icon",["touchend","click"],this.changeMutedHandler),this.on(Cl,this.onVolumeChange),this.once(Jt,this.onVolumeChange),d.typeOf(s)!=="Number"&&(this.player.volume=this.config.default),this.onVolumeChange(),this.config.disable&&this.disable()}},{key:"updateVolumePos",value:function(n,o){var a=this.player,s=this.find(".xgplayer-drag"),u=this.find(".xgplayer-bar");if(!(!u||!s)){var l=Math.max(Math.min(n/u.getBoundingClientRect().height,1),0),c=parseInt(l*1e3,10),f=c/1e3,h={volume:{from:a.volume,to:f}};s.style.height="".concat(l*100,"%"),a.muted&&(h.muted={from:!0,to:!1}),this.emitUserAction(o,"change_volume",{muted:a.muted,volume:a.volume,props:h}),a.volume=Math.max(Math.min(c/1e3,1),0),a.muted&&(a.muted=!1),this.config.showValueLabel&&this.updateVolumeValue()}}},{key:"updateVolumeValue",value:function(){var n=this.player,o=n.volume,a=n.muted,s=this.find(".xgplayer-value-label"),u=Math.max(Math.min(o,1),0);s.innerText=a?0:Math.round(u*100)}},{key:"focus",value:function(){var n=this.player,o=this.config;o.disable||(n.focus({autoHide:!1}),this._timerId&&(d.clearTimeout(this,this._timerId),this._timerId=null),d.addClass(this.root,"slide-show"))}},{key:"unFocus",value:function(){var n=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,s=arguments.length>2?arguments[2]:void 0,u=this._d,l=this.player;u.isActive||(this._timerId&&(d.clearTimeout(this,this._timerId),this._timerId=null),this._timerId=d.setTimeout(this,function(){u.isActive||(a?l.blur():l.focus(),d.removeClass(n.root,"slide-show"),u.isStart&&n.onBarMouseUp(s)),n._timerId=null},o))}},{key:"changeMuted",value:function(n){if(!this.config.disable){n&&n.stopPropagation();var o=this.player,a=this._d;a.isStart&&this.onBarMouseUp(n),this.emitUserAction(n,"change_muted",{muted:o.muted,volume:o.volume,props:{muted:{from:o.muted,to:!o.muted}}}),o.volume>0&&(o.muted=!o.muted),o.volume<.01&&(o.volume=this.config.miniVolume)}}},{key:"animate",value:function(n,o){n||o===0?this.setAttr("data-state","mute"):o<.5&&this.icons.volumeSmall?this.setAttr("data-state","small"):this.setAttr("data-state","normal")}},{key:"initIcons",value:function(){var n=this.icons;this.appendChild(".xgplayer-icon",n.volumeSmall),this.appendChild(".xgplayer-icon",n.volumeLarge),this.appendChild(".xgplayer-icon",n.volumeMuted)}},{key:"destroy",value:function(){this._timerId&&(d.clearTimeout(this,this._timerId),this._timerId=null),this.unbind("mouseenter",this.onMouseenter),this.unbind(["blur","mouseleave"],this.onMouseleave),this.unbind(".xgplayer-slider","mousedown",this.onBarMousedown),this.unbind(".xgplayer-slider","mousemove",this.onBarMouseMove),this.unbind(".xgplayer-slider","mouseup",this.onBarMouseUp),document.removeEventListener("mouseup",this.onBarMouseUp),this.unbind(".xgplayer-icon",V.device==="mobile"?"touchend":"click",this.changeMutedHandler)}},{key:"render",value:function(){var n=this.config.default||this.player.volume,o=this.config.showValueLabel;return`
    <xg-icon class="xgplayer-volume" data-state="normal">
      <div class="xgplayer-icon">
      </div>
      <xg-slider class="xgplayer-slider">
        `.concat(o?'<div class="xgplayer-value-label">'.concat(n*100,"</div>"):"",`
        <div class="xgplayer-bar">
          <xg-drag class="xgplayer-drag" style="height: `).concat(n*100,`%"></xg-drag>
        </div>
      </xg-slider>
    </xg-icon>`)}}],[{key:"pluginName",get:function(){return"volume"}},{key:"defaultConfig",get:function(){return{position:Z.CONTROLS_RIGHT,index:1,disable:!1,showValueLabel:!1,default:.6,miniVolume:.2}}}]),i}(G);function Sn(t){"@babel/helpers - typeof";return Sn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sn(t)}function ow(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yu(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yc(r.key),r)}}function aw(t,e,i){return e&&yu(t.prototype,e),i&&yu(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function ur(){return typeof Reflect<"u"&&Reflect.get?ur=Reflect.get.bind():ur=function(e,i,r){var n=sw(e,i);if(n){var o=Object.getOwnPropertyDescriptor(n,i);return o.get?o.get.call(arguments.length<3?e:r):o.value}},ur.apply(this,arguments)}function sw(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=kt(t),t!==null););return t}function uw(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&la(t,e)}function la(t,e){return la=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},la(t,e)}function lw(t){var e=fw();return function(){var r=kt(t),n;if(e){var o=kt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return cw(this,n)}}function cw(t,e){if(e&&(Sn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vc(t)}function vc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function kt(t){return kt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},kt(t)}function dw(t,e,i){return e=yc(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function yc(t){var e=hw(t,"string");return Sn(e)==="symbol"?e:String(e)}function hw(t,e){if(Sn(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(Sn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pw='<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="-4 -6 40 40" fill="none"><g clip-path="url(#clip0)" fill="#fff"><path d="M17.5 13.75H6.25A3.75 3.75 0 002.5 17.5v6.25a3.75 3.75 0 003.75 3.75H17.5a3.75 3.75 0 003.75-3.75V17.5a3.75 3.75 0 00-3.75-3.75z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M5.822 6.094a1.247 1.247 0 00.156 1.79l4.509 4.204a1.25 1.25 0 101.705-1.828L9.93 8.152l4.799-.018.039-.001a10 10 0 019.521 13.983 1.25 1.25 0 002.292.998 12.5 12.5 0 00-11.88-17.48l-5.05.019 2.293-2.46a1.25 1.25 0 10-1.829-1.705L5.854 6.06l-.032.036z"/></g><defs><clipPath id="RotateSvg-clip0"><path fill="#fff" d="M0 0h40v40H0z"/></clipPath></defs></svg>',vw=function(t){uw(i,t);var e=lw(i);function i(r){var n;return ow(this,i),n=e.call(this,r),dw(vc(n),"onBtnClick",function(o){n.config.disable||(o.preventDefault(),o.stopPropagation(),n.emitUserAction(o,"rotate"),n.rotate(n.config.clockwise,n.config.innerRotate,1))}),n.rotateDeg=n.config.rotateDeg||0,n}return aw(i,[{key:"afterCreate",value:function(){var n=this;if(!this.config.disable){ur(kt(i.prototype),"afterCreate",this).call(this),this.appendChild(".xgplayer-icon",this.icons.rotate),this.bind(".xgplayer-icon",["click","touchend"],this.onBtnClick),this.on(Zt,function(){n.rotateDeg&&n.config.innerRotate&&d.setTimeout(n,function(){n.updateRotateDeg(n.rotateDeg,n.config.innerRotate)},100)});var o=this.player.root;this.rootWidth=o.style.width||o.offsetWidth||o.clientWidth,this.rootHeight=o.style.height||o.offsetHeight||o.clientHeight,this.rotateDeg&&this.updateRotateDeg(this.rotateDeg,this.config.innerRotate)}}},{key:"destroy",value:function(){ur(kt(i.prototype),"destroy",this).call(this),this.unbind(".xgplayer-icon",["click","touchend"],this.onBtnClick)}},{key:"updateRotateDeg",value:function(n,o){n||(n=0);var a=this.player,s=this.rootWidth,u=this.rootHeight;if(o){a.videoRotateDeg=n;return}var l=this.player,c=l.root,f=l.innerContainer,h=l.video,p=c.offsetWidth,y=f&&o?f.offsetHeight:c.offsetHeight,v=s,m=u,k=0,T=0;(n===.75||n===.25)&&(v="".concat(y,"px"),m="".concat(p,"px"),k=-(y-p)/2,T=-(p-y)/2);var O="translate(".concat(k,"px,").concat(T,"px) rotate(").concat(n,"turn)"),z={transformOrigin:"center center",transform:O,webKitTransform:O,height:m,width:v},F=o?h:c,M=o?a.getPlugin("poster"):null;Object.keys(z).map(function(D){F.style[D]=z[D],M&&M.root&&(M.root.style[D]=z[D])})}},{key:"rotate",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,s=this.player;this.rotateDeg||(this.rotateDeg=0);var u=n?1:-1;this.rotateDeg=(this.rotateDeg+1+u*.25*a)%1,this.updateRotateDeg(this.rotateDeg,o),s.emit(Ll,this.rotateDeg*360)}},{key:"registerIcons",value:function(){return{rotate:pw}}},{key:"render",value:function(){return`
    <xg-icon class="xgplayer-rotate">
      <div class="xgplayer-icon">
      </div>
      <div class="xg-tips" lang-key="`.concat(this.i18nKeys.ROTATE_TIPS,`">
      `).concat(this.i18n.ROTATE_TIPS,`
      </div>
    </xg-icon>`)}}],[{key:"pluginName",get:function(){return"rotate"}},{key:"defaultConfig",get:function(){return{position:Z.CONTROLS_RIGHT,index:6,innerRotate:!0,clockwise:!1,rotateDeg:0,disable:!1}}}]),i}(Lt);function kn(t){"@babel/helpers - typeof";return kn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kn(t)}function gu(t){return _w(t)||mw(t)||gw(t)||yw()}function yw(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gw(t,e){if(t){if(typeof t=="string")return ca(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ca(t,e)}}function mw(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _w(t){if(Array.isArray(t))return ca(t)}function ca(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function bw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mu(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mc(r.key),r)}}function ww(t,e,i){return e&&mu(t.prototype,e),i&&mu(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function lr(){return typeof Reflect<"u"&&Reflect.get?lr=Reflect.get.bind():lr=function(e,i,r){var n=Pw(e,i);if(n){var o=Object.getOwnPropertyDescriptor(n,i);return o.get?o.get.call(arguments.length<3?e:r):o.value}},lr.apply(this,arguments)}function Pw(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Ot(t),t!==null););return t}function Sw(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fa(t,e)}function fa(t,e){return fa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},fa(t,e)}function kw(t){var e=Tw();return function(){var r=Ot(t),n;if(e){var o=Ot(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ow(this,n)}}function Ow(t,e){if(e&&(kn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gc(t)}function gc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Tw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ot(t){return Ot=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},Ot(t)}function Ew(t,e,i){return e=mc(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function mc(t){var e=Cw(t,"string");return kn(e)==="symbol"?e:String(e)}function Cw(t,e){if(kn(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(kn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Iw='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M16.5 4.3h-13a.2.2 0 00-.2.2v11c0 .11.09.2.2.2h5v1.8h-5a2 2 0 01-2-2v-11a2 2 0 012-2h13a2 2 0 012 2v4h-1.8v-4a.2.2 0 00-.2-.2zM12 11.5a1 1 0 00-1 1v4a1 1 0 001 1h5.5a1 1 0 001-1v-4a1 1 0 00-1-1H12z" fill="#fff"/></svg>',$w='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M16.5 4.3h-13a.2.2 0 00-.2.2v11c0 .11.09.2.2.2h5v1.8h-5a2 2 0 01-2-2v-11a2 2 0 012-2h13a2 2 0 012 2v4h-1.8v-4a.2.2 0 00-.2-.2zM12 11.5a1 1 0 00-1 1v4a1 1 0 001 1h5.5a1 1 0 001-1v-4a1 1 0 00-1-1H12z" fill="#fff"/><path fill-rule="evenodd" clip-rule="evenodd" d="M9.5 7.7a.5.5 0 00.5-.5v-.7a.5.5 0 00-.5-.5h-4a.5.5 0 00-.5.5v3.96a.5.5 0 00.5.5h.7a.5.5 0 00.5-.5V8.83l2.07 2.109a.5.5 0 00.707.006l.5-.49a.5.5 0 00.006-.707L7.973 7.7H9.5z" fill="#fff"/></svg>',Mt={PIP:"picture-in-picture",INLINE:"inline",FULLSCREEN:"fullscreen"},xw=function(t){Sw(i,t);var e=kw(i);function i(){var r;bw(this,i);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),Ew(gc(r),"switchPIP",function(s){if(!r.isPIPAvailable()||r.config.disable)return!1;s.stopPropagation&&s.stopPropagation(),r.isPip?(r.exitPIP(),r.emitUserAction(s,"change_pip",{from:"pip",to:"normal"}),r.setAttr("data-state","normal")):r.player.video.readyState===4&&(r.requestPIP(),r.emitUserAction(s,"change_pip",{from:"normal",to:"pip"}),r.setAttr("data-state","pip"))}),r}return ww(i,[{key:"beforeCreate",value:function(n){typeof n.player.config.pip=="boolean"&&(n.config.showIcon=n.player.config.pip)}},{key:"afterCreate",value:function(){var n=this;this.isPIPAvailable()&&(lr(Ot(i.prototype),"afterCreate",this).call(this),this.pMode=Mt.INLINE,this.initPipEvents(),this.config.showIcon&&this.initIcons(),this.once(Fi,function(){n.config.showIcon&&(d.removeClass(n.find(".xgplayer-icon"),"xg-icon-disable"),n.bind("click",n.switchPIP))}))}},{key:"registerIcons",value:function(){return{pipIcon:{icon:Iw,class:"xg-get-pip"},pipIconExit:{icon:$w,class:"xg-exit-pip"}}}},{key:"initIcons",value:function(){var n=this.icons;this.appendChild(".xgplayer-icon",n.pipIcon),this.appendChild(".xgplayer-icon",n.pipIconExit)}},{key:"initPipEvents",value:function(){var n=this,o=this.player;this.leavePIPCallback=function(){var a=o.paused;d.setTimeout(n,function(){!a&&o.videoPlay()},0),!a&&o.videoPlay(),n.setAttr("data-state","normal"),n.pipWindow=null,o.emit(xo,!1)},this.enterPIPCallback=function(a){o.emit(xo,!0),a!=null&&a.pictureInPictureWindow&&(n.pipWindow=a.pictureInPictureWindow),n.setAttr("data-state","pip")},this.onWebkitpresentationmodechanged=function(a){var s=o.video.webkitPresentationMode;n.pMode===Mt.FULLSCREEN&&s!==Mt.FULLSCREEN&&o.onFullscreenChange(null,!1),n.pMode=s,s===Mt.PIP?n.enterPIPCallback(a):s===Mt.INLINE&&n.leavePIPCallback(a)},o.video&&(o.video.addEventListener("enterpictureinpicture",this.enterPIPCallback),o.video.addEventListener("leavepictureinpicture",this.leavePIPCallback),i.checkWebkitSetPresentationMode(o.video)&&o.video.addEventListener("webkitpresentationmodechanged",this.onWebkitpresentationmodechanged))}},{key:"copyStyleIntoPiPWindow",value:function(n){var o=gu(document.styleSheets).map(function(s){try{return gu(s.cssRules).map(function(l){return l.cssText}).join("")}catch{var u=document.createElement("link");u.rel="stylesheet",u.type=s.type,u.media=s.media,u.href=s.href,n.document.head.appendChild(u)}return""}).filter(Boolean).join(`
`),a=document.createElement("style");a.textContent=o,n.document.head.appendChild(a)}},{key:"requestPIP",value:function(){var n=this,o=this.player,a=this.playerConfig,s=this.config;if(!(!this.isPIPAvailable()||this.isPip))try{var u=a.poster;if(u&&(o.video.poster=d.typeOf(u)==="String"?u:u.poster),s.preferDocument&&this.isDocPIPAvailable()){var l={};if(s.width&&s.height)l.width=s.width,l.height=s.height;else{var c=o.root.getBoundingClientRect();l.width=c.width,l.height=c.height}documentPictureInPicture.requestWindow(l).then(function(f){var h=s.docPiPNode,p=s.docPiPStyle;n.enterPIPCallback();var y=h||o.root,v=y.parentElement,m=y.previousSibling,k=y.nextSibling;n.copyStyleIntoPiPWindow(f);var T=document.createElement("style");if(T.append("body{padding:0; margin:0;}"),p){var O="";typeof p=="string"?O=p:typeof p=="function"&&(O=p.call(s)),O&&T.append(O)}else y===o.root&&T.append(`
              .xgplayer{width: 100%!important; height: 100%!important;}
            `);f.document.head.append(T),f.document.body.append(y),f.addEventListener("pagehide",function(z){v&&(k?v.insertBefore(y,k):m?v.insertBefore(y,m.nextSibling):v.appendChild(y)),n.leavePIPCallback()},{once:!0})})}else i.checkWebkitSetPresentationMode(o.video)?o.video.webkitSetPresentationMode("picture-in-picture"):o.video.requestPictureInPicture();return!0}catch(f){return console.error("requestPiP",f),!1}}},{key:"exitPIP",value:function(){var n=this.player;try{if(this.isPIPAvailable()&&this.isPip){var o;this.isDocPIPAvailable()&&(o=documentPictureInPicture)!==null&&o!==void 0&&o.window?documentPictureInPicture.window.close():i.checkWebkitSetPresentationMode(n.video)?n.video.webkitSetPresentationMode("inline"):document.exitPictureInPicture()}return!0}catch(a){return console.error("exitPIP",a),!1}}},{key:"isPip",get:function(){var n,o=this.player;return!!(this.isDocPIPAvailable()&&(n=documentPictureInPicture)!==null&&n!==void 0&&n.window)||document.pictureInPictureElement&&document.pictureInPictureElement===o.video||o.video.webkitPresentationMode===Mt.PIP}},{key:"isPIPAvailable",value:function(){var n=this.player.video,o=d.typeOf(document.pictureInPictureEnabled)==="Boolean"?document.pictureInPictureEnabled:!0;return o&&(d.typeOf(n.disablePictureInPicture)==="Boolean"&&!n.disablePictureInPicture||n.webkitSupportsPresentationMode&&d.typeOf(n.webkitSetPresentationMode)==="Function")||this.isDocPIPAvailable()}},{key:"isDocPIPAvailable",value:function(){return"documentPictureInPicture"in window&&/^(https|file)/.test(location.protocol)}},{key:"destroy",value:function(){lr(Ot(i.prototype),"destroy",this).call(this);var n=this.player;n.video.removeEventListener("enterpictureinpicture",this.enterPIPCallback),n.video.removeEventListener("leavepictureinpicture",this.leavePIPCallback),i.checkWebkitSetPresentationMode(n.video)&&n.video.removeEventListener("webkitpresentationmodechanged",this.onWebkitpresentationmodechanged),this.exitPIP(),this.unbind("click",this.btnClick)}},{key:"render",value:function(){if(!(!this.config.showIcon||!this.isPIPAvailable()))return`<xg-icon class="xgplayer-pip">
      <div class="xgplayer-icon xg-icon-disable">
      </div>
      <div class="xg-tips" lang-key="`.concat(this.i18nKeys.PIP,'">').concat(this.i18n.PIP,`</div>
    </xg-icon>`)}}],[{key:"pluginName",get:function(){return"pip"}},{key:"defaultConfig",get:function(){return{position:Z.CONTROLS_RIGHT,index:6,showIcon:!1,preferDocument:!1,width:void 0,height:void 0,docPiPNode:void 0,docPiPStyle:void 0}}},{key:"checkWebkitSetPresentationMode",value:function(n){return typeof n.webkitSetPresentationMode=="function"}}]),i}(Lt);function On(t){"@babel/helpers - typeof";return On=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},On(t)}function Rw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _u(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_c(r.key),r)}}function Lw(t,e,i){return e&&_u(t.prototype,e),i&&_u(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function Aw(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&da(t,e)}function da(t,e){return da=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},da(t,e)}function Dw(t){var e=Mw();return function(){var r=yi(t),n;if(e){var o=yi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Nw(this,n)}}function Nw(t,e){if(e&&(On(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ha(t)}function ha(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yi(t){return yi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},yi(t)}function jw(t,e,i){return e=_c(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function _c(t){var e=Bw(t,"string");return On(e)==="symbol"?e:String(e)}function Bw(t,e){if(On(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(On(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fw='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="40" viewBox="10 0 24 40"><path d="M30.4 10.64v21.504h-4.864v-9.856l-12.16 8.96V11.536l12.16 8.96V10.64z"/></svg>',Hw=function(t){Aw(i,t);var e=Dw(i);function i(r){var n;return Rw(this,i),n=e.call(this,r),jw(ha(n),"playNext",function(o){var a=ha(n),s=a.player;o.preventDefault(),o.stopPropagation(),n.idx+1<n.config.urlList.length?(n.idx++,s.emit(Yr,n.idx+1),n.nextHandler(n.config.urlList[n.idx],n.idx)):(n.nextHandler(),s.emit(Yr))}),n.idx=-1,n}return Lw(i,[{key:"afterCreate",value:function(){!this.config.urlList||this.config.urlList.length===0||(this.appendChild(".xgplayer-icon",this.icons.playNext),this.initEvents())}},{key:"registerIcons",value:function(){return{playNext:Fw}}},{key:"initEvents",value:function(){this.nextHandler=this.hook("playNext",this.changeSrc);var n=V.device==="mobile"?"touchend":"click";this.bind(n,this.playNext),this.show()}},{key:"changeSrc",value:function(n){var o=this.player;n&&(o.pause(),o.currentTime=0,o.autoplay=!0,o.src=n)}},{key:"destroy",value:function(){this.unbind(["touchend","click"],this.playNext)}},{key:"render",value:function(){if(!(!this.config.urlList||this.config.urlList.length===0))return`
     <xg-icon class="xgplayer-playnext">
      <div class="xgplayer-icon">
      </div>
      <div class="xg-tips" lang-key="PLAYNEXT_TIPS">`.concat(this.i18n.PLAYNEXT_TIPS,`</div>
     </xg-icon>
    `)}}],[{key:"pluginName",get:function(){return"playNext"}},{key:"defaultConfig",get:function(){return{position:Z.CONTROLS_LEFT,index:1,url:null,urlList:[]}}}]),i}(G),bc={exports:{}};(function(t,e){(function(i,r){t.exports=r()})(Gv,function(){return function i(r,n,o){var a=window,s="application/octet-stream",u=o||s,l=r,c=!n&&!o&&l,f=document.createElement("a"),h=function(D){return String(D)},p=a.Blob||a.MozBlob||a.WebKitBlob||h,y=n||"download",v,m;if(p=p.call?p.bind(a):Blob,String(this)==="true"&&(l=[l,u],u=l[0],l=l[1]),c&&c.length<2048&&(y=c.split("/").pop().split("?")[0],f.href=c,f.href.indexOf(c)!==-1)){var k=new XMLHttpRequest;return k.open("GET",c,!0),k.responseType="blob",k.onload=function(D){i(D.target.response,y,s)},setTimeout(function(){k.send()},0),k}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(l))if(l.length>1024*1024*1.999&&p!==h)l=F(l),u=l.type||s;else return navigator.msSaveBlob?navigator.msSaveBlob(F(l),y):M(l);else if(/([\x80-\xff])/.test(l)){var T=0,O=new Uint8Array(l.length),z=O.length;for(T;T<z;++T)O[T]=l.charCodeAt(T);l=new p([O],{type:u})}v=l instanceof p?l:new p([l],{type:u});function F(D){var W=D.split(/[:;,]/),Q=W[1],H=W[2]=="base64"?atob:decodeURIComponent,ne=H(W.pop()),J=ne.length,se=0,me=new Uint8Array(J);for(se;se<J;++se)me[se]=ne.charCodeAt(se);return new p([me],{type:Q})}function M(D,W){if("download"in f)return f.href=D,f.setAttribute("download",y),f.className="download-js-link",f.innerHTML="downloading...",f.style.display="none",document.body.appendChild(f),setTimeout(function(){f.click(),document.body.removeChild(f),W===!0&&setTimeout(function(){a.URL.revokeObjectURL(f.href)},250)},66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(D)&&(D="data:"+D.replace(/^data:([\w\/\-\+]+)/,s)),window.open(D)||confirm(`Displaying New Document

Use Save As... to download, then click back to return to this page.`)&&(location.href=D),!0;var Q=document.createElement("iframe");document.body.appendChild(Q),!W&&/^data:/.test(D)&&(D="data:"+D.replace(/^data:([\w\/\-\+]+)/,s)),Q.src=D,setTimeout(function(){document.body.removeChild(Q)},333)}if(navigator.msSaveBlob)return navigator.msSaveBlob(v,y);if(a.URL)M(a.URL.createObjectURL(v),!0);else{if(typeof v=="string"||v.constructor===h)try{return M("data:"+u+";base64,"+a.btoa(v))}catch{return M("data:"+u+","+encodeURIComponent(v))}m=new FileReader,m.onload=function(D){M(this.result)},m.readAsDataURL(v)}return!0}})})(bc);var Vw=bc.exports;const Uw=Ya(Vw);function Tn(t){"@babel/helpers - typeof";return Tn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tn(t)}function zw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bu(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Pc(r.key),r)}}function Kw(t,e,i){return e&&bu(t.prototype,e),i&&bu(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function cr(){return typeof Reflect<"u"&&Reflect.get?cr=Reflect.get.bind():cr=function(e,i,r){var n=Gw(e,i);if(n){var o=Object.getOwnPropertyDescriptor(n,i);return o.get?o.get.call(arguments.length<3?e:r):o.value}},cr.apply(this,arguments)}function Gw(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Tt(t),t!==null););return t}function Ww(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pa(t,e)}function pa(t,e){return pa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},pa(t,e)}function Yw(t){var e=qw();return function(){var r=Tt(t),n;if(e){var o=Tt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xw(this,n)}}function Xw(t,e){if(e&&(Tn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wc(t)}function wc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Tt(t){return Tt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},Tt(t)}function Jw(t,e,i){return e=Pc(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Pc(t){var e=Zw(t,"string");return Tn(e)==="symbol"?e:String(e)}function Zw(t,e){if(Tn(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(Tn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qw='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><g fill="#FFF" fill-rule="evenodd"><rect x="11" y="4" width="2" height="12" rx="1"/><rect x="3" y="18" width="18" height="2" rx="1"/><rect transform="rotate(90 4 17.5)" x="1.5" y="16.5" width="5" height="2" rx="1"/><rect transform="rotate(90 20 17.5)" x="17.5" y="16.5" width="5" height="2" rx="1"/><path d="M11.988 14.3l-4.243-4.242a1 1 0 00-1.414 1.414l4.95 4.95a1 1 0 001.414 0l4.95-4.95a1 1 0 10-1.414-1.414L11.988 14.3z"/></g></svg>',eP=function(t){Ww(i,t);var e=Yw(i);function i(r){var n;return zw(this,i),n=e.call(this,r),Jw(wc(n),"download",function(o){if(!(n.isLock||n.config.disable)){n.emitUserAction(o,"download");var a=n.getAbsoluteURL(n.player.src);Uw(a),n.isLock=!0,n.timer=window.setTimeout(function(){n.isLock=!1,window.clearTimeout(n.timer),n.timer=null},300)}}),n.timer=null,n.isLock=!1,n}return Kw(i,[{key:"afterCreate",value:function(){cr(Tt(i.prototype),"afterCreate",this).call(this),!this.config.disable&&(this.appendChild(".xgplayer-icon",this.icons.download),this.bind(["click","touchend"],this.download))}},{key:"registerIcons",value:function(){return{download:Qw}}},{key:"getAbsoluteURL",value:function(n){if(!n.match(/^https?:\/\//)){var o=document.createElement("div");o.innerHTML='<a href="'.concat(n,'">x</a>'),n=o.firstChild.href}return n}},{key:"destroy",value:function(){cr(Tt(i.prototype),"destroy",this).call(this),this.unbind(["click","touchend"],this.download),window.clearTimeout(this.timer),this.timer=null}},{key:"render",value:function(){return`<xg-icon class="xgplayer-download">
   <div class="xgplayer-icon">
   </div>
   <div class="xg-tips" lang-key="`.concat(this.i18nKeys.DOWNLOAD_TIPS,'">').concat(this.i18n.DOWNLOAD_TIPS,`</div>
    </xg-icon>`)}}],[{key:"pluginName",get:function(){return"download"}},{key:"defaultConfig",get:function(){return{position:Z.CONTROLS_RIGHT,index:3,disable:!0}}}]),i}(Lt);function En(t){"@babel/helpers - typeof";return En=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},En(t)}function tP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wu(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rP(r.key),r)}}function nP(t,e,i){return e&&wu(t.prototype,e),i&&wu(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function rP(t){var e=iP(t,"string");return En(e)==="symbol"?e:String(e)}function iP(t,e){if(En(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(En(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function fr(){return typeof Reflect<"u"&&Reflect.get?fr=Reflect.get.bind():fr=function(e,i,r){var n=oP(e,i);if(n){var o=Object.getOwnPropertyDescriptor(n,i);return o.get?o.get.call(arguments.length<3?e:r):o.value}},fr.apply(this,arguments)}function oP(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Et(t),t!==null););return t}function aP(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&va(t,e)}function va(t,e){return va=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},va(t,e)}function sP(t){var e=cP();return function(){var r=Et(t),n;if(e){var o=Et(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return uP(this,n)}}function uP(t,e){if(e&&(En(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lP(t)}function lP(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Et(t){return Et=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},Et(t)}var fP=function(t){aP(i,t);var e=sP(i);function i(){return tP(this,i),e.apply(this,arguments)}return nP(i,[{key:"beforeCreate",value:function(n){typeof n.player.config.screenShot=="boolean"&&(n.config.disable=!n.player.config.screenShot)}},{key:"afterCreate",value:function(){fr(Et(i.prototype),"afterCreate",this).call(this),this.appendChild(".xgplayer-icon",this.icons.screenshotIcon);var n=this.config;this.initSize=function(o){n.fitVideo&&(n.width=o.vWidth,n.height=o.vHeight)},this.once(Zt,this.initSize)}},{key:"onPluginsReady",value:function(){this.show(),this.onClickBtn=this.onClickBtn.bind(this),this.bind(["click","touchend"],this.onClickBtn)}},{key:"saveScreenShot",value:function(n,o){var a=document.createElement("a");a.href=n,a.download=o;var s=document.createEvent("MouseEvents");s.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),a.dispatchEvent(s)}},{key:"createCanvans",value:function(n,o){var a=document.createElement("canvas");this.canvasCtx=a.getContext("2d"),this.canvas=a,a.width=n||this.config.width,a.height=o||this.config.height}},{key:"onClickBtn",value:function(n){var o=this;n.preventDefault(),n.stopPropagation(),this.emitUserAction(n,"shot"),this.shot().then(function(a){o.emit(Al,a),o.saveScreenShot(a,o.config.name+o.config.format)})}},{key:"shot",value:function(n,o){var a=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{quality:.92,type:"image/png"},u=this.config,l=this.player,c=s.quality||u.quality,f=s.type||u.type;return new Promise(function(h,p){a.canvas?(a.canvas.width=n||u.width,a.canvas.height=o||u.height):a.createCanvans(n,o),a.canvasCtx.drawImage(l.video,0,0,n||u.width,o||u.height);var y=a.canvas.toDataURL(f,c).replace(f,"image/octet-stream");y=y.replace(/^data:image\/[^;]+/,"data:application/octet-stream"),h(y)})}},{key:"registerIcons",value:function(){return{screenshotIcon:null}}},{key:"destroy",value:function(){fr(Et(i.prototype),"destroy",this).call(this),this.unbind(["click","touchend"],this.onClickBtn),this.off(Zt,this.initSize)}},{key:"render",value:function(){if(!this.config.disable){var n=this.icons.screenshotIcon?"xgplayer-icon":"xgplayer-icon btn-text",o="SCREENSHOT";return`
      <xg-icon class="xgplayer-shot">
      <div class="`.concat(n,`">
      `).concat(this.icons.screenshotIcon?"":'<span lang-key="'.concat(this.i18nKeys[o],'">').concat(this.i18n[o],"</span>"),` 
      </div>
    </xg-icon>`)}}}],[{key:"pluginName",get:function(){return"screenShot"}},{key:"defaultConfig",get:function(){return{position:Z.CONTROLS_RIGHT,index:5,quality:.92,type:"image/png",format:".png",width:600,height:337,fitVideo:!0,disable:!1,name:"screenshot"}}}]),i}(Lt);function wr(t){"@babel/helpers - typeof";return wr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wr(t)}function dP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hP(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vP(r.key),r)}}function pP(t,e,i){return e&&hP(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vP(t){var e=yP(t,"string");return wr(e)==="symbol"?e:String(e)}function yP(t,e){if(wr(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(wr(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gP=function(){function t(e){dP(this,t),this.config=e.config,this.parent=e.root,this.root=d.createDom("ul","",{},"xg-options-list ".concat(this.config.className)),e.root.appendChild(this.root),this.onItemClick=this.onItemClick.bind(this),this.renderItemList();var i=this.config.domEventType==="touche"?"touchend":"click";this._delegates=G.delegate.call(this,this.root,"li",i,this.onItemClick)}return pP(t,[{key:"renderItemList",value:function(i){var r=this,n=this.config,o=this.root;i?n.data=i:i=n.data,n.style&&Object.keys(n.style).map(function(a){o.style[a]=n[a]}),i.length>0&&(this.attrKeys=Object.keys(i[0])),this.root.innerHTML="",i.map(function(a,s){var u=a.selected?"option-item selected":"option-item";a["data-index"]=s,r.root.appendChild(d.createDom("li","<span>".concat(a.showText,"</span>"),a,u))})}},{key:"onItemClick",value:function(i){i.delegateTarget||(i.delegateTarget=i.target);var r=i.delegateTarget;if(r&&d.hasClass(r,"selected"))return!1;var n=typeof this.config.onItemClick=="function"?this.config.onItemClick:null,o=this.root.querySelector(".selected");d.addClass(r,"selected"),o&&d.removeClass(o,"selected"),n(i,{from:o?this.getAttrObj(o,this.attrKeys):null,to:this.getAttrObj(r,this.attrKeys)})}},{key:"getAttrObj",value:function(i,r){if(!i||!r)return{};var n={};r.map(function(a){n[a]=i.getAttribute(a)});var o=i.getAttribute("data-index");return o&&(n.index=Number(o)),n}},{key:"show",value:function(){d.removeClass(this.root,"hide"),d.addClass(this.root,"active")}},{key:"hide",value:function(){d.removeClass(this.root,"active"),d.addClass(this.root,"hide")}},{key:"setStyle",value:function(i){var r=this;Object.keys(i).forEach(function(n){r.root.style[n]=i[n]})}},{key:"destroy",value:function(){this._delegates&&(this._delegates.map(function(i){i.destroy&&i.destroy()}),this._delegates=null),this.root.innerHTML=null,this.parent.removeChild(this.root),this.root=null}}]),t}();function Ct(t){"@babel/helpers - typeof";return Ct=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ct(t)}function mP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pu(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Sc(r.key),r)}}function _P(t,e,i){return e&&Pu(t.prototype,e),i&&Pu(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function bP(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ya(t,e)}function ya(t,e){return ya=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},ya(t,e)}function wP(t){var e=SP();return function(){var r=gi(t),n;if(e){var o=gi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return PP(this,n)}}function PP(t,e){if(e&&(Ct(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ga(t)}function ga(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function gi(t){return gi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},gi(t)}function Su(t,e,i){return e=Sc(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Sc(t){var e=kP(t,"string");return Ct(e)==="symbol"?e:String(e)}function kP(t,e){if(Ct(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(Ct(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jt=V.device==="mobile",kc=function(t){bP(i,t);var e=wP(i);function i(r){var n;return mP(this,i),n=e.call(this,r),Su(ga(n),"onEnter",function(o){o.preventDefault(),o.stopPropagation(),n.emit("icon_mouseenter",{pluginName:n.pluginName}),n.onToggle(!0)}),Su(ga(n),"onLeave",function(o){o.preventDefault(),o.stopPropagation(),n.emit("icon_mouseleave",{pluginName:n.pluginName}),n.isActive&&n.onToggle(!1)}),n.isIcons=!1,n.isActive=!1,n.curValue=null,n.curIndex=0,n}return _P(i,[{key:"updateLang",value:function(n){this.renderItemList(this.config.list,this.curIndex)}},{key:"afterCreate",value:function(){var n=this,o=this.config;this.initIcons(),jt=jt||this.domEventType==="touch",V.device==="mobile"&&o.listType!=="middle"&&(o.listType="rightSide"),o.hidePortrait&&d.addClass(this.root,"portrait"),this.once(ze,function(){o.list&&o.list.length>0&&(n.renderItemList(o.list),n.show())}),jt&&this.on(Ja,function(){n.isActive&&(n.optionsList&&n.optionsList.hide(),n.isActive=!1)}),this.activeEvent=jt?"touchend":"mouseenter",this.bind(this.activeEvent,this.onEnter),this.bind("mouseleave",this.onLeave),this.isIcons&&this.bind("click",this.onIconClick),this.config.disable&&this.disable()}},{key:"initIcons",value:function(){var n=this,o=this.icons,a=Object.keys(o),s=!1;a.length>0&&(a.forEach(function(u){n.appendChild(".xgplayer-icon",o[u]),!s&&(s=o[u])}),this.isIcons=s),!s&&(this.appendChild(".xgplayer-icon",d.createDom("span","",{},"icon-text")),d.addClass(this.find(".xgplayer-icon"),"btn-text"))}},{key:"show",value:function(){!this.config.list||this.config.list.length<1||d.addClass(this.root,"show")}},{key:"hide",value:function(){d.removeClass(this.root,"show")}},{key:"getTextByLang",value:function(n,o,a){if(n===void 0)return"";var s=this.config.list;!a&&(a=this.player.lang),o=!o||d.isUndefined(n[o])?"text":o,typeof n=="number"&&(n=s[n]);try{return Ct(n[o])==="object"?n[o][a]||n[o].zh:n[o]}catch(u){return console.warn(u),""}}},{key:"onToggle",value:function(n){if(!(n===this.isActive||this.config.disable)){var o=this.player.controls,a=this.config.listType;n?(a==="rightSide"?o.blur():o.focus(),this.optionsList&&this.optionsList.show()):(a==="rightSide"?o.focus():o.unFocus(),this.optionsList&&this.optionsList.hide()),this.isActive=n}}},{key:"onItemClick",value:function(n,o){n.preventDefault(),n.stopPropagation();var a=this.config,s=a.listType,u=a.list;(jt||s==="rightSide")&&this.onToggle(!1),this.curIndex=o.to.index,this.curItem=u[this.curIndex],this.changeCurrentText(),this.onToggle(!1)}},{key:"onIconClick",value:function(n){}},{key:"changeCurrentText",value:function(){if(!this.isIcons){var n=this.config.list,o=this.curIndex<n.length?this.curIndex:0,a=n[o];a&&(this.find(".icon-text").innerHTML=this.getTextByLang(a,"iconText"))}}},{key:"renderItemList",value:function(n,o){var a=this,s=this.config,u=this.optionsList,l=this.player;if(typeof o=="number"&&(this.curIndex=o,this.curItem=s.list[o]),u){u.renderItemList(n),this.changeCurrentText();return}var c={config:{data:n||[],className:s.listType==="rightSide"?"right-side":"",onItemClick:function(h,p){a.onItemClick(h,p)},domEventType:jt?"touche":"mouse"},root:s.listType==="rightSide"?l.root:this.root};this.config.isShowIcon&&(this.optionsList=new gP(c),this.changeCurrentText(),this.show())}},{key:"destroy",value:function(){this.unbind(this.activeEvent,this.onToggle),this.unbind("mouseleave",this.onToggle),this.optionsList&&(this.optionsList.destroy(),this.optionsList=null)}},{key:"render",value:function(){if(this.config.isShowIcon)return'<xg-icon class="xg-options-icon '.concat(this.config.className||"",`">
    <div class="xgplayer-icon">
    </div>
   </xg-icon>`)}}],[{key:"pluginName",get:function(){return"optionsIcon"}},{key:"defaultConfig",get:function(){return{position:Z.CONTROLS_RIGHT,index:100,list:[],listType:"middle",listStyle:{},hidePortrait:!0,isShowIcon:!1}}}]),i}(G);function Cn(t){"@babel/helpers - typeof";return Cn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cn(t)}function OP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ku(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,EP(r.key),r)}}function TP(t,e,i){return e&&ku(t.prototype,e),i&&ku(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function EP(t){var e=CP(t,"string");return Cn(e)==="symbol"?e:String(e)}function CP(t,e){if(Cn(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(Cn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Xt(){return typeof Reflect<"u"&&Reflect.get?Xt=Reflect.get.bind():Xt=function(e,i,r){var n=IP(e,i);if(n){var o=Object.getOwnPropertyDescriptor(n,i);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Xt.apply(this,arguments)}function IP(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=rt(t),t!==null););return t}function $P(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ma(t,e)}function ma(t,e){return ma=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},ma(t,e)}function xP(t){var e=AP();return function(){var r=rt(t),n;if(e){var o=rt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return RP(this,n)}}function RP(t,e){if(e&&(Cn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LP(t)}function LP(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function rt(t){return rt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},rt(t)}var DP=function(t){$P(i,t);var e=xP(i);function i(r){var n;return OP(this,i),n=e.call(this,r),n.curTime=0,n.isPaused=!0,n}return TP(i,[{key:"beforeCreate",value:function(n){var o=n.config.list;Array.isArray(o)&&o.length>0&&(n.config.list=o.map(function(a){return!a.text&&a.name&&(a.text=a.name),a.text||(a.text=a.definition),a}))}},{key:"afterCreate",value:function(){var n=this;Xt(rt(i.prototype),"afterCreate",this).call(this);var o=this.config,a=o.list,s=o.defaultDefinition,u=this.playerConfig.defaultConfig;a.forEach(function(l){(l.definition===s||l.definition===u)&&(l.selected=!0)}),this.on("resourceReady",function(l){n.changeDefinitionList(l)}),this.on(ts,function(l){n.renderItemList(n.config.list,l.to)}),this.player.definitionList.length<2&&this.hide()}},{key:"initDefinition",value:function(){var n=this.config,o=n.list,a=n.defaultDefinition,s=this.playerConfig.defaultConfig;if(o.length>0){var u=null;o.map(function(l){(l.definition===a||l.definition===s)&&(u=l,l.selected=!0)}),u||(u=o[0]),this.changeDefinition(u)}}},{key:"renderItemList",value:function(n,o){var a=this,s=o&&o.definition?o.definition:"";o&&!Array.isArray(o)&&n.forEach(function(c){c.selected=!1});var u=0,l=n.map(function(c,f){var h={url:c.url,definition:c.definition||"",showText:a.getTextByLang(c)||c.definition,selected:!1};return(c.selected||!d.isUndefined(c.definition)&&c.definition===s)&&(h.selected=!0,u=f),h});Xt(rt(i.prototype),"renderItemList",this).call(this,l,u)}},{key:"changeDefinitionList",value:function(n){if(Array.isArray(n)){var o=this.playerConfig,a=o.definition,s=o.defaultDefinition,u=a||this.config.defaultDefinition||"";this.config.list=n.map(function(l){return!l.text&&l.name&&(l.text=l.name),l.text||(l.text=l.definition),(l.definition===u||l.definition===s)&&(l.selected=!0),l}),a.list=n,this.renderItemList(n),this.config.list.length<2?this.hide():this.show()}}},{key:"changeDefinition",value:function(n,o){var a=this.player;a.switchURL?a.switchUrl(n.url):a.changeDefinition(n,o)}},{key:"onItemClick",value:function(n,o){var a=this.player.definitionList;Xt(rt(i.prototype),"onItemClick",this).apply(this,arguments),this.emitUserAction(n,"change_definition",{from:o.from,to:o.to});for(var s=0;s<a.length;s++)o.to&&a[s].definition===o.to.definition&&(o.to.url=a[s].url),o.from&&a[s].definition===o.from.definition&&(o.from.url=a[s].url);this.player.changeDefinition(o.to,o.from)}}],[{key:"pluginName",get:function(){return"definition"}},{key:"defaultConfig",get:function(){return{position:Z.CONTROLS_RIGHT,index:3,list:[],defaultDefinition:"",disable:!1,hidePortrait:!1,className:"xgplayer-definition",isShowIcon:!0}}}]),i}(kc);function In(t){"@babel/helpers - typeof";return In=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},In(t)}function NP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ou(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jP(r.key),r)}}function MP(t,e,i){return e&&Ou(t.prototype,e),i&&Ou(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function jP(t){var e=BP(t,"string");return In(e)==="symbol"?e:String(e)}function BP(t,e){if(In(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(In(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function tt(){return typeof Reflect<"u"&&Reflect.get?tt=Reflect.get.bind():tt=function(e,i,r){var n=FP(e,i);if(n){var o=Object.getOwnPropertyDescriptor(n,i);return o.get?o.get.call(arguments.length<3?e:r):o.value}},tt.apply(this,arguments)}function FP(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Ne(t),t!==null););return t}function HP(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_a(t,e)}function _a(t,e){return _a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},_a(t,e)}function VP(t){var e=KP();return function(){var r=Ne(t),n;if(e){var o=Ne(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return UP(this,n)}}function UP(t,e){if(e&&(In(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zP(t)}function zP(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ne(t){return Ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},Ne(t)}var GP=function(t){HP(i,t);var e=VP(i);function i(r){var n;return NP(this,i),n=e.call(this,r),n.curRate=1,n}return MP(i,[{key:"beforeCreate",value:function(n){var o=n.player.config.playbackRate,a=o?Array.isArray(o)?o:n.config.list:[];Array.isArray(a)&&(n.config.list=a.map(function(s){return typeof s=="number"?s={rate:s,text:"".concat(s,"x")}:!s.text&&s.rate&&(s.text="".concat(s.rate,"x")),s}))}},{key:"afterCreate",value:function(){var n=this;tt(Ne(i.prototype),"afterCreate",this).call(this),this.on(Il,function(){n.curValue!==n.player.playbackRate&&n.renderItemList()}),this.renderItemList()}},{key:"show",value:function(){!this.config.list||this.config.list.length===0||tt(Ne(i.prototype),"show",this).call(this)}},{key:"onItemClick",value:function(n,o){tt(Ne(i.prototype),"onItemClick",this).apply(this,arguments);var a=n.delegateTarget,s=Number(a.getAttribute("rate"));if(!s||s===this.curValue)return!1;var u={playbackRate:{from:this.player.playbackRate,to:s}};this.emitUserAction(n,"change_rate",{props:u}),this.curValue=s,this.player.playbackRate=s}},{key:"renderItemList",value:function(){var n=this,o=this.player.playbackRate||1;this.curValue=o;var a=0,s=this.config.list.map(function(u,l){var c={rate:u.rate};return c.rate===o&&(c.selected=!0,a=l),c.showText=n.getTextByLang(u),c});tt(Ne(i.prototype),"renderItemList",this).call(this,s,a)}},{key:"destroy",value:function(){tt(Ne(i.prototype),"destroy",this).call(this)}}],[{key:"pluginName",get:function(){return"playbackRate"}},{key:"defaultConfig",get:function(){return{position:Z.CONTROLS_RIGHT,index:4,list:[2,1.5,1,.75,.5],className:"xgplayer-playbackrate",isShowIcon:!0,hidePortrait:!1}}}]),i}(kc);function $n(t){"@babel/helpers - typeof";return $n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$n(t)}function WP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tu(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,XP(r.key),r)}}function YP(t,e,i){return e&&Tu(t.prototype,e),i&&Tu(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function XP(t){var e=qP(t,"string");return $n(e)==="symbol"?e:String(e)}function qP(t,e){if($n(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if($n(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function dr(){return typeof Reflect<"u"&&Reflect.get?dr=Reflect.get.bind():dr=function(e,i,r){var n=JP(e,i);if(n){var o=Object.getOwnPropertyDescriptor(n,i);return o.get?o.get.call(arguments.length<3?e:r):o.value}},dr.apply(this,arguments)}function JP(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=It(t),t!==null););return t}function ZP(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ba(t,e)}function ba(t,e){return ba=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},ba(t,e)}function QP(t){var e=nS();return function(){var r=It(t),n;if(e){var o=It(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return eS(this,n)}}function eS(t,e){if(e&&($n(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tS(t)}function tS(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function It(t){return It=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},It(t)}var rS='<svg xmlns="http://www.w3.org/2000/svg" width="31" height="40" viewBox="0 -5 31 40"><path fill="#fff" class="path_full" d="M11.7 13v1.3a1.17 1.17 0 01-1.3 1.3 1.17 1.17 0 01-1.3-1.3v-2.6a1.17 1.17 0 011.3-1.3H13a1.17 1.17 0 011.3 1.3A1.17 1.17 0 0113 13zm7.8 5.2v-1.3a1.3 1.3 0 012.6 0v2.6a1.17 1.17 0 01-1.3 1.3h-2.6a1.3 1.3 0 010-2.6zm3.9-9.1H7.8v13h15.6zm2.6 0v13a2.6 2.6 0 01-2.6 2.6H7.8a2.6 2.6 0 01-2.6-2.6v-13a2.6 2.6 0 012.6-2.6h15.6A2.6 2.6 0 0126 9.1z"/></svg>',iS='<svg xmlns="http://www.w3.org/2000/svg" width="31" height="40" viewBox="0 -5 31 40"><path fill="#fff" d="M11.7 13v-1.3a1.17 1.17 0 011.3-1.3 1.17 1.17 0 011.3 1.3v2.6a1.17 1.17 0 01-1.3 1.3h-2.6a1.17 1.17 0 01-1.3-1.3 1.17 1.17 0 011.3-1.3zm7.8 5.2v1.3a1.3 1.3 0 01-2.6 0v-2.6a1.17 1.17 0 011.3-1.3h2.6a1.3 1.3 0 010 2.6zm3.9-9.1H7.8v13h15.6zm2.6 0v13a2.6 2.6 0 01-2.6 2.6H7.8a2.6 2.6 0 01-2.6-2.6v-13a2.6 2.6 0 012.6-2.6h15.6A2.6 2.6 0 0126 9.1z"/></svg>',Eu=function(t){ZP(i,t);var e=QP(i);function i(){return WP(this,i),e.apply(this,arguments)}return YP(i,[{key:"afterCreate",value:function(){var n=this;dr(It(i.prototype),"afterCreate",this).call(this),this.config.target&&(this.playerConfig.fullscreenTarget=this.config.target),this.initIcons(),this.on(Gr,function(o){n.animate(o)}),this.btnClick=this.btnClick.bind(this),this.handleCssFullscreen=this.hook("cssFullscreen_change",this.btnClick,{pre:function(a){a.preventDefault(),a.stopPropagation()}}),this.bind(["click","touchend"],this.handleCssFullscreen)}},{key:"initIcons",value:function(){var n=this.icons,o=this.find(".xgplayer-icon");o.appendChild(n.cssFullscreen),o.appendChild(n.exitCssFullscreen)}},{key:"btnClick",value:function(n){if(!this.config.disable){n.preventDefault(),n.stopPropagation();var o=this.player.isCssfullScreen;this.emitUserAction(n,"switch_cssfullscreen",{cssfullscreen:o}),o?this.player.exitCssFullscreen():this.player.getCssFullscreen()}}},{key:"animate",value:function(n){this.root&&(n?this.setAttr("data-state","full"):this.setAttr("data-state","normal"),this.switchTips(n))}},{key:"switchTips",value:function(n){var o=this.i18nKeys;this.changeLangTextKey(this.find(".xg-tips"),n?o.EXITCSSFULLSCREEN_TIPS:o.CSSFULLSCREEN_TIPS)}},{key:"registerIcons",value:function(){return{cssFullscreen:{icon:rS,class:"xg-get-cssfull"},exitCssFullscreen:{icon:iS,class:"xg-exit-cssfull"}}}},{key:"destroy",value:function(){dr(It(i.prototype),"destroy",this).call(this),this.unbind(["click","touchend"],this.btnClick)}},{key:"render",value:function(){return`<xg-icon class='xgplayer-cssfullscreen'>
    <div class="xgplayer-icon">
    </div>
    <div class="xg-tips" lang-key="`.concat(this.i18nKeys.CSSFULLSCREEN_TIPS,'">').concat(this.i18n.CSSFULLSCREEN_TIPS,`</div>
    </xg-icon>`)}}],[{key:"pluginName",get:function(){return"cssFullscreen"}},{key:"defaultConfig",get:function(){return{position:Z.CONTROLS_RIGHT,index:1,disable:!1,target:null}}}]),i}(Lt);function xn(t){"@babel/helpers - typeof";return xn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xn(t)}function oS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cu(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sS(r.key),r)}}function aS(t,e,i){return e&&Cu(t.prototype,e),i&&Cu(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function sS(t){var e=uS(t,"string");return xn(e)==="symbol"?e:String(e)}function uS(t,e){if(xn(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(xn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function lS(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wa(t,e)}function wa(t,e){return wa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},wa(t,e)}function cS(t){var e=hS();return function(){var r=mi(t),n;if(e){var o=mi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fS(this,n)}}function fS(t,e){if(e&&(xn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dS(t)}function dS(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function mi(t){return mi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},mi(t)}var pS=function(t){lS(i,t);var e=cS(i);function i(){return oS(this,i),e.apply(this,arguments)}return aS(i,[{key:"afterCreate",value:function(){var n=this;this.clickHandler=this.hook("errorRetry",this.errorRetry,{pre:function(a){a.preventDefault(),a.stopPropagation()}}),this.onError=this.hook("errorHandler",this.handleError),this.bind(".xgplayer-error-refresh","click",this.clickHandler),this.on(ze,function(){n.handleCanPlay()}),this.on(ji,function(o){n.onError(o)})}},{key:"errorRetry",value:function(n){this.emitUserAction(n,"error_retry",{}),this.player.retry()}},{key:"handleCanPlay",value:function(){d.removeClass(this.player.root,"xgplayer-is-error")}},{key:"handleError",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=this.player,a=n.errorType,s=o.error;if(!s)switch(a){case"decoder":s=this.i18n.MEDIA_ERR_DECODE;break;case"network":s=this.i18n.MEDIA_ERR_NETWORK;break;default:s=this.i18n.MEDIA_ERR_SRC_NOT_SUPPORTED}this.find(".xgplayer-error-text").innerHTML=s,this.find(".xgplayer-error-tips").innerHTML="".concat(this.i18n.REFRESH_TIPS,'<span class="xgplayer-error-refresh">').concat(this.i18n.REFRESH,"</span>")}},{key:"destroy",value:function(){this.unbind(".xgplayer-error-refresh","click",this.clickHandler)}},{key:"render",value:function(){return`<xg-error class="xgplayer-error">
      <div class="xgplayer-errornote">
       <span class="xgplayer-error-text"></span>
       <span class="xgplayer-error-tips"><em class="xgplayer-error-refresh"></em></span>
      </div>
    </xg-error>`}}],[{key:"pluginName",get:function(){return"error"}}]),i}(G);function Rn(t){"@babel/helpers - typeof";return Rn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rn(t)}function vS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Iu(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gS(r.key),r)}}function yS(t,e,i){return e&&Iu(t.prototype,e),i&&Iu(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function gS(t){var e=mS(t,"string");return Rn(e)==="symbol"?e:String(e)}function mS(t,e){if(Rn(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(Rn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function _S(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pa(t,e)}function Pa(t,e){return Pa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Pa(t,e)}function bS(t){var e=SS();return function(){var r=_i(t),n;if(e){var o=_i(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wS(this,n)}}function wS(t,e){if(e&&(Rn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PS(t)}function PS(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _i(t){return _i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},_i(t)}var kS=function(t){_S(i,t);var e=bS(i);function i(){return vS(this,i),e.apply(this,arguments)}return yS(i,[{key:"afterCreate",value:function(){var n=this;this.intervalId=0,this.customConfig=null,this.bind(".highlight",["click","touchend"],function(o){(n.config.onClick||n.customOnClick)&&(o.preventDefault(),o.stopPropagation(),n.customOnClick?n.customOnClick(o):n.config.onClick(o))}),this.player.showPrompt=function(){n.show.apply(n,arguments)},this.player.hidePrompt=function(){n.hide()}}},{key:"setStyle",value:function(n){var o=this;Object.keys(n).map(function(a){o.root.style[a]=n[a]})}},{key:"show",value:function(n){var o=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){};if(n){this.customOnClick=s;var u=this.config.interval;if(this.intervalId&&(clearTimeout(this.intervalId),this.intervalId=null),a.style&&this.setStyle(a.style),typeof n=="string"?this.find(".xgplayer-prompt-detail").innerHTML=n:this.find(".xgplayer-prompt-detail").innerHTML="".concat(n.text||"")+"".concat(n.highlight?'<i class="highlight">'.concat(n.highlight,"</i>"):""),a.mode==="arrow"&&d.addClass(this.root,"arrow"),a.preventScreenOverflow){var l=this.root.getBoundingClientRect(),c=l.left,f=l.right,h=document.documentElement.clientWidth||document.body.clientWidth;if(c<0){var p=Number((Math.abs(c)/h*100).toFixed(2));if(a.style.left){var y=parseInt(a.style.left);this.setStyle({left:"".concat(y+p+.5,"%")})}}if(f>=h){var v=Number(((Math.abs(f)-h)/h*100).toFixed(2));if(a.style.left){var m=parseInt(a.style.left);this.setStyle({left:"".concat(m-v-.5,"%")})}}}d.addClass(this.root,"show");var k=typeof a.autoHide=="boolean"?a.autoHide:this.config.autoHide;if(k){var T=a.interval||u;this.intervalId=setTimeout(function(){o.hide()},T)}}}},{key:"hide",value:function(){d.removeClass(this.root,"show"),d.removeClass(this.root,"arrow"),this.root.removeAttribute("style"),this.customOnClick=null}},{key:"render",value:function(){return'<xg-prompt class="xgplayer-prompt '.concat(E.CONTROLS_FOLLOW,`">
    <span class="xgplayer-prompt-detail"></span>
    </xg-prompt>`)}}],[{key:"pluginName",get:function(){return"prompt"}},{key:"defaultConfig",get:function(){return{interval:3e3,style:{},mode:"arrow",autoHide:!0,preventScreenOverflow:!1,detail:{text:"",highlight:""},onClick:function(){}}}}]),i}(G),$u={time:0,text:"",id:1,duration:1,color:"#fff",style:{},width:6,height:6};function Oc(t){Object.keys($u).map(function(e){t[e]===void 0&&(t[e]=$u[e])})}var xu={initDots:function(){var e=this;this._ispots.map(function(i){e.createDot(i,!1)}),this._ispotsInit=!0},createDot:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this.player.plugins.progress;if(r&&(i&&(Oc(e),this._ispots.push(e)),!(!this._ispotsInit&&i))){var n=this.calcuPosition(e.time,e.duration),o=e.style||{},a=e.stylePreferred;o.left=a&&o.left!==void 0?o.left:"".concat(n.left,"%"),o.width=a&&o.width!==void 0?o.width:"".concat(n.width,"%");var s="xgspot_".concat(e.id," xgplayer-spot");n.isMini&&(s+=" mini");var u=d.createDom("xg-spot",e.template||"",{"data-text":e.text,"data-time":e.time,"data-id":e.id},s);Object.keys(o).map(function(l){u.style[l]=o[l]}),r.outer&&r.outer.appendChild(u)}},findDot:function(e){if(this.player.plugins.progress){var i=this._ispots.filter(function(r,n){return r.id===e});return i.length>0?i[0]:null}},updateDot:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=this.player.plugins.progress;if(r){var n=this.findDot(e.id);if(n&&Object.keys(e).map(function(u){n[u]=e[u]}),!!this._ispotsInit){var o=r.find('xg-spot[data-id="'.concat(e.id,'"]'));if(o){var a=this.calcuPosition(e.time,e.duration),s=e.style||{};s.left="".concat(a.left,"%"),s.width="".concat(a.width,"%"),o.setAttribute("data-text",e.text),o.setAttribute("data-time",e.time),a.isMini?d.addClass(o,"mini"):d.removeClass(o,"mini"),Object.keys(s).map(function(u){o.style[u]=s[u]}),i&&this.showDot(e.id)}}}},deleteDot:function(e){var i=this._ispots,r=this.player.plugins.progress;if(r){for(var n=[],o=0;o<i.length;o++)i[o].id===e&&n.push(o);for(var a=n.length,s=a-1;s>=0;s--)if(i.splice(n[s],1),this._ispotsInit){var u=r.find('xg-spot[data-id="'.concat(e,'"]'));u&&u.parentElement.removeChild(u)}}},deleteAllDots:function(){var e=this.player.plugins.progress;if(e){if(!this._ispotsInit){this._ispots=[];return}for(var i=e.root.getElementsByTagName("xg-spot"),r=i.length-1;r>=0;r--)e.outer.removeChild(i[r]);this._ispots=[]}},updateAllDots:function(){var e=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=this.player.plugins.progress;if(r){if(!this._ispotsInit){this._ispots=i;return}this._ispots=[];var n=r.root.getElementsByTagName("xg-spot"),o=n.length;if(o>i.length)for(var a=o-1;a>i.length-1;a--)r.outer.removeChild(n[a]);i.map(function(s,u){u<o?(n[u].setAttribute("data-id","".concat(s.id)),e._ispots.push(s),e.updateDot(s)):e.createDot(s)})}},updateAllDotsStyles:function(){var e=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,r=this.player.plugins.progress;if(r!=null&&r.root)for(var n=r.root.getElementsByTagName("xg-spot"),o=function(l){l=n[a];var c=l.getAttribute("data-id"),f=e.findDot(c);if(f&&f.activeStyle&&f.style&&f.stylePreferred){var h=i?f==null?void 0:f.activeStyle:f==null?void 0:f.style;h&&Object.keys(h).map(function(p){l.style[p]=h[p]})}s=l},a=0,s;a<n.length;a++)o(s)},getAllDotsDom:function(){var e=this.player.plugins.progress;if(!e)return[];var i=e.root.getElementsByTagName("xg-spot");return i},getDotDom:function(e){var i=this.player.plugins.progress;if(i)return i.find('xg-spot[data-id="'.concat(e,'"]'))}};function OS(t){var e=t.config,i=t.player;Object.keys(xu).map(function(n){t[n]=xu[n].bind(t)});var r=i.config.progressDot||e.ispots||[];t._ispots=r.map(function(n){return Oc(n),n}),t._ispotsInit=!1,i.once(Kn,function(){t.initDots()})}function Ln(t){"@babel/helpers - typeof";return Ln=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ln(t)}function TS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ru(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Tc(r.key),r)}}function ES(t,e,i){return e&&Ru(t.prototype,e),i&&Ru(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function CS(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sa(t,e)}function Sa(t,e){return Sa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Sa(t,e)}function IS(t){var e=xS();return function(){var r=bi(t),n;if(e){var o=bi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $S(this,n)}}function $S(t,e){if(e&&(Ln(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ct(t)}function ct(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function bi(t){return bi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},bi(t)}function Bt(t,e,i){return e=Tc(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Tc(t){var e=RS(t,"string");return Ln(e)==="symbol"?e:String(e)}function RS(t,e){if(Ln(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(Ln(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ft={dragmove:"onProgressDragMove",dragstart:"onProgressDragStart",dragend:"onProgressDragEnd",click:"onProgressClick",mouseover:"onProgressMouseOver",mouseenter:"onProgressMouseEnter",mouseleave:"onProgressMouseLeave"},LS=function(t){CS(i,t);var e=IS(i);function i(r){var n;return TS(this,i),n=e.call(this,r),Bt(ct(n),"onMousemove",function(o){if(!n.config.disable){if(d.hasClass(o.target,"xg-spot-content")&&n.config.isHideThumbnailHover){n.player.plugins.progress.onMouseLeave(o);return}(n._state.f||d.hasClass(o.target,"xg-spot-content"))&&(d.event(o),o.stopPropagation())}}),Bt(ct(n),"onMousedown",function(o){n.config.disable||(n._state.f||d.hasClass(o.target,"xg-spot-content"))&&(d.event(o),o.stopPropagation())}),Bt(ct(n),"onMouseup",function(o){if(n.isDrag){var a=n.player.plugins.progress;a&&a.pos&&(a.onMouseUp(o),!a.pos.isEnter&&a.onMouseLeave(o))}}),Bt(ct(n),"onDotMouseLeave",function(o){if(!n.config.disable){n._curDot.removeEventListener("mouseleave",n.onDotMouseLeave),n.blurDot(o.target),n._curDot=null;var a=n.player.plugins.progress;a&&a.enableBlur(),n.show()}}),Bt(ct(n),"onProgressMouseLeave",function(o,a){n.updateAllDotsStyles(!1)}),Bt(ct(n),"onProgressMouseOver",function(o,a){if(!n.config.disable&&d.hasClass(a.target,"xgplayer-spot")&&!n._curDot){n._curDot=a.target,n.focusDot(a.target),n._curDot.children.length>0&&n.hide();var s=n.player.plugins.progress;s&&s.disableBlur(),n._curDot.addEventListener("mouseleave",n.onDotMouseLeave)}}),n._ispots=[],n.videoPreview=null,n.videothumbnail=null,n.thumbnail=null,n._state={now:0,f:!1},n}return ES(i,[{key:"beforeCreate",value:function(n){var o=n.player.plugins.progress;o&&(n.root=o.root)}},{key:"afterCreate",value:function(){var n=this;this._curDot=null,this.handlerSpotClick=this.hook("spotClick",function(o,a){a.time&&n.player.seek(a.time)}),OS(this),this.config.disable&&this.disable(),this.extTextRoot=this.find(".xg-spot-ext-text")}},{key:"setConfig",value:function(n){var o=this;n&&Object.keys(n).map(function(a){o.config[a]=n[a]})}},{key:"onPluginsReady",value:function(){var n=this.player;n.plugins.progress&&(this.previewLine=this.find(".xg-spot-line"),this.timePoint=this.find(".xgplayer-progress-point"),this.timeText=this.find(".xg-spot-time"),this.tipText=this.find(".spot-inner-text"),this._hasThumnail=!1,this.registerThumbnail(),this.bindEvents())}},{key:"bindEvents",value:function(){var n=this,o=this.player.plugins.progress;if(o&&(Object.keys(Ft).map(function(s){n[Ft[s]]=n[Ft[s]].bind(n),o.addCallBack(s,n[Ft[s]])}),V.device!=="mobile")){this.bind(".xg-spot-info","mousemove",this.onMousemove),this.bind(".xg-spot-info","mousedown",this.onMousedown),this.bind(".xg-spot-info","mouseup",this.onMouseup);var a=this.hook("previewClick",function(){});this.handlerPreviewClick=function(s){s.stopPropagation(),a(parseInt(n._state.now*1e3,10)/1e3,s)},this.bind(".xg-spot-content","mouseup",this.handlerPreviewClick)}}},{key:"onProgressMouseEnter",value:function(n,o){this.onProgressMove(n,o),this.updateAllDotsStyles(!0)}},{key:"onProgressMove",value:function(n,o){this.config.disable||!this.player.duration||this.updatePosition(n.offset,n.width,n.currentTime,n.e)}},{key:"onProgressDragMove",value:function(n,o){this.config.disable||!this.player.duration||this.onProgressMove(n,o)}},{key:"onProgressDragStart",value:function(n){this.config.disable||!this.player.duration||(this.isDrag=!0,this.videoPreview&&d.addClass(this.videoPreview,"show"))}},{key:"onProgressDragEnd",value:function(n){this.config.disable||!this.player.duration||(this.isDrag=!1,this.videoPreview&&d.removeClass(this.videoPreview,"show"))}},{key:"onProgressClick",value:function(n,o){if(!this.config.disable&&d.hasClass(o.target,"xgplayer-spot")){o.stopPropagation(),o.preventDefault();var a={};["time","id","text"].map(function(s){a[s]=o.target.getAttribute("data-".concat(s))}),a.time&&(a.time=Number(a.time)),this.handlerSpotClick(o,a)}}},{key:"updateLinePos",value:function(n,o){var a=this.root,s=this.previewLine,u=this.timePoint,l=this.player,c=this.config,f=l.controls.mode,h=f==="flex",p=a.getBoundingClientRect().width;if(!(!p&&this._hasThumnail)){var y=u.getBoundingClientRect().width;p=this._hasThumnail&&p<c.width?c.width:p;var v=n-p/2,m,k;v<0&&!h?(v=0,m=n-p/2,!this.thumbnail&&(k=n-p/2-y/2)):v>o-p&&!h?(m=v-(o-p),!this.thumbnail&&(k=v-(o-p)-y/2),v=o-p):(m=0,!this.thumbnail&&(k=-y/2)),m!==void 0&&(s.style.transform="translateX(".concat(m.toFixed(2),"px)")),k!==void 0&&(u.style.transform="translateX(".concat(k.toFixed(2),"px)")),a.style.transform="translateX(".concat(v.toFixed(2),"px) translateZ(0)")}}},{key:"updateTimeText",value:function(n){var o=this.timeText,a=this.timePoint;o.textContent=n,!this.thumbnail&&(a.textContent=n)}},{key:"updatePosition",value:function(n,o,a,s){var u=this.root,l=this.config,c=this._state;if(u){this.updateLinePos(n,o),c.now=a;var f=d.format(a);s&&s.target&&d.hasClass(s.target,"xgplayer-spot")?(this.showTips(s.target.getAttribute("data-text"),!1,f),this.focusDot(s.target),c.f=!0,l.isFocusDots&&c.f&&(c.now=parseInt(s.target.getAttribute("data-time"),10))):l.defaultText?(c.f=!1,this.showTips(l.defaultText,!0,f)):(c.f=!1,this.hideTips("")),this.updateTimeText(f),this.updateThumbnails(c.now)}}},{key:"updateThumbnails",value:function(n){var o=this.player,a=this.videoPreview,s=this.config,u=o.plugins.thumbnail;if(u&&u.usable){this.thumbnail&&u.update(this.thumbnail,n,s.width,s.height);var l=a&&a.getBoundingClientRect();this.videothumbnail&&u.update(this.videothumbnail,n,l.width,l.height)}}},{key:"registerThumbnail",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(V.device!=="mobile"){var o=this.player,a=this.config,s=o.getPlugin("thumbnail");if(s&&s.setConfig(n),!s||!s.usable||!a.isShowThumbnail){d.addClass(this.root,"short-line no-thumbnail");return}else d.removeClass(this.root,"short-line no-thumbnail");a.mode==="short"&&d.addClass(this.root,"short-line"),this._hasThumnail=!0;var u=this.find(".xg-spot-thumbnail");this.thumbnail=s.createThumbnail(u,"progress-thumbnail"),a.isShowCoverPreview&&(this.videoPreview=d.createDom("xg-video-preview","",{},"xgvideo-preview"),o.root.appendChild(this.videoPreview),this.videothumbnail=s.createThumbnail(this.videoPreview,"xgvideo-thumbnail")),this.updateThumbnails(0)}}},{key:"calcuPosition",value:function(n,o){var a=this.player.plugins.progress,s=this.player,u=a.root.getBoundingClientRect().width,l=s.duration/u*6;return n+o>s.duration&&(o=s.duration-n),n/s.duration*100,o/s.duration,{left:n/s.duration*100,width:o/s.duration*100,isMini:o<l}}},{key:"showDot",value:function(n){var o=this.findDot(n);if(o){var a=this.root.getBoundingClientRect(),s=a.width,u=o.time/this.player.duration*s;this.updatePosition(u,s,o.time)}}},{key:"focusDot",value:function(n,o){n&&(o||(o=n.getAttribute("data-id")),d.addClass(n,"active"),this._activeDotId=o)}},{key:"blurDot",value:function(n){if(!n){var o=this._activeDotId;n=this.getDotDom(o)}n&&(d.removeClass(n,"active"),this._activeDotId=null)}},{key:"showTips",value:function(n,o){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";d.addClass(this.root,"no-timepoint"),n&&(d.addClass(this.find(".xg-spot-content"),"show-text"),o&&this.config.mode==="production"?(d.addClass(this.root,"product"),this.tipText.textContent=n):(d.removeClass(this.root,"product"),this.tipText.textContent=this._hasThumnail?n:"".concat(a," ").concat(n)))}},{key:"hideTips",value:function(){d.removeClass(this.root,"no-timepoint"),this.tipText.textContent="",d.removeClass(this.find(".xg-spot-content"),"show-text"),d.removeClass(this.root,"product")}},{key:"hide",value:function(){d.addClass(this.root,"hide")}},{key:"show",value:function(){d.removeClass(this.root,"hide")}},{key:"enable",value:function(){var n=this.config,o=this.playerConfig;this.config.disable=!1,this.show(),!this.thumbnail&&n.isShowThumbnail&&this.registerThumbnail(o.thumbnail||{})}},{key:"disable",value:function(){this.config.disable=!0,this.hide()}},{key:"destroy",value:function(){var n=this,o=this.player.plugins.progress;o&&Object.keys(Ft).map(function(a){o.removeCallBack(a,n[Ft[a]])}),this.videothumbnail=null,this.thumbnail=null,this.videoPreview&&this.player.root.removeChild(this.videoPreview),this.unbind(".xg-spot-info","mousemove",this.onMousemove),this.unbind(".xg-spot-info","mousedown",this.onMousedown),this.unbind(".xg-spot-info","mouseup",this.onMouseup),this.unbind(".xg-spot-content","mouseup",this.handlerPreviewClick)}},{key:"render",value:function(){return V.device==="mobile"||this.playerConfig.isMobileSimulateMode==="mobile"?"":'<div class="xg-spot-info '.concat(this.config.mode==="short"?"short-line":"",`">
      <div class="xg-spot-content">
        <div class="xg-spot-thumbnail">
          <span class="xg-spot-time"></span>
        </div>
        <div class="xg-spot-text"><span class="spot-inner-text"></span></div>
      </div>
      <div class="xgplayer-progress-point">00:00</div>
      <div class="xg-spot-ext-text"></div>
      <div class="xg-spot-line"></div>
    </div>`)}}],[{key:"pluginName",get:function(){return"progresspreview"}},{key:"defaultConfig",get:function(){return{index:1,miniWidth:6,ispots:[],defaultText:"",isFocusDots:!0,isHideThumbnailHover:!0,isShowThumbnail:!0,isShowCoverPreview:!1,mode:"",disable:!1,width:160,height:90}}}]),i}(G);function An(t){"@babel/helpers - typeof";return An=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},An(t)}function AS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lu(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,NS(r.key),r)}}function DS(t,e,i){return e&&Lu(t.prototype,e),i&&Lu(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function NS(t){var e=MS(t,"string");return An(e)==="symbol"?e:String(e)}function MS(t,e){if(An(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(An(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function jS(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ka(t,e)}function ka(t,e){return ka=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},ka(t,e)}function BS(t){var e=VS();return function(){var r=wi(t),n;if(e){var o=wi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return FS(this,n)}}function FS(t,e){if(e&&(An(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HS(t)}function HS(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function wi(t){return wi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},wi(t)}var US=function(t){jS(i,t);var e=BS(i);function i(r){var n;return AS(this,i),n=e.call(this,r),n.ratio=1,n.interval=null,n._preloadMark={},n}return DS(i,[{key:"afterCreate",value:function(){var n=this;this.usable&&this.initThumbnail(),this.on([Kn],function(){var o=n.config,a=o.pic_num,s=o.interval;n.usable&&(n.interval=s>0?s:Math.round(n.player.duration*1e3/a)/1e3)})}},{key:"setConfig",value:function(n){var o=this;if(n){var a=Object.keys(n);a.length<1||(a.forEach(function(s){o.config[s]=n[s]}),this.usable&&this.initThumbnail())}}},{key:"usable",get:function(){var n=this.config,o=n.urls,a=n.pic_num;return o&&o.length>0&&a>0}},{key:"initThumbnail",value:function(){var n=this.config,o=n.width,a=n.height,s=n.pic_num,u=n.interval;this.ratio=o/a*100,this.interval=u||Math.round(this.player.duration/s),this._preloadMark={}}},{key:"getUrlByIndex",value:function(n){return n>=0&&n<this.config.urls.length?this.config.urls[n]:""}},{key:"preload",value:function(n){var o=this;if(!this._preloadMark[n]){var a=this.config.urls,s=a.length,u=[];n>0&&u.push(n-1),u.push(n),n>0&&n<s-1&&u.push(n+1),u.map(function(l){!o._preloadMark[l]&&l>=0&&l<s&&(o._preloadMark[l]=1,d.preloadImg(a[l],function(){o._preloadMark[l]=2}))})}}},{key:"getPosition",value:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=this.config,u=s.pic_num,l=s.row,c=s.col,f=s.width,h=s.height;this.interval=Math.round(this.player.duration/u);var p=Math.ceil(n/this.interval);p=p>u?u:p;var y=p<l*c?0:Math.ceil(p/(l*c))-1,v=p-y*(c*l),m=v>0?Math.ceil(v/c)-1:0,k=v>0?v-m*c-1:0,T=0,O=0;if(o&&a){var z=o/a;z<f/h?(O=a,T=O*(f/h)):(T=o,O=T/(f/h))}else a?o||(O=a||h,T=O*(f/h)):(T=o||f,O=T/(f/h));var F=this.getUrlByIndex(y);return{urlIndex:y,rowIndex:m,colIndex:k,url:F,height:O,width:T,style:{backgroundImage:"url(".concat(F,")"),backgroundSize:"".concat(T*c,"px auto"),backgroundPosition:"-".concat(k*T,"px -").concat(m*O,"px"),width:"".concat(T,"px"),height:"".concat(O,"px")}}}},{key:"update",value:function(n,o){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"",l=this.config,c=l.pic_num,f=l.urls;if(!(c<=0||!f||f.length===0)){var h=this.getPosition(o,a,s);this.preload(h.urlIndex),Object.keys(h.style).map(function(p){n.style[p]=h.style[p]}),Object.keys(u).map(function(p){n.style[p]=u[p]})}}},{key:"changeConfig",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.setConfig(n)}},{key:"createThumbnail",value:function(n,o){var a=d.createDom("xg-thumbnail","",{},"thumbnail ".concat(o));return n&&n.appendChild(a),a}}],[{key:"pluginName",get:function(){return"thumbnail"}},{key:"defaultConfig",get:function(){return{isShow:!1,urls:[],pic_num:0,col:0,row:0,height:90,width:160,scale:1,className:"",hidePortrait:!1}}}]),i}(G);function Dn(t){"@babel/helpers - typeof";return Dn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dn(t)}function zS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Au(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,GS(r.key),r)}}function KS(t,e,i){return e&&Au(t.prototype,e),i&&Au(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function GS(t){var e=WS(t,"string");return Dn(e)==="symbol"?e:String(e)}function WS(t,e){if(Dn(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(Dn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function YS(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Oa(t,e)}function Oa(t,e){return Oa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Oa(t,e)}function XS(t){var e=ZS();return function(){var r=Pi(t),n;if(e){var o=Pi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qS(this,n)}}function qS(t,e){if(e&&(Dn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JS(t)}function JS(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Pi(t){return Pi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},Pi(t)}var QS=function(t){YS(i,t);var e=XS(i);function i(){return zS(this,i),e.apply(this,arguments)}return KS(i,[{key:"afterCreate",value:function(){}},{key:"update",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{cached:0,played:0},o=arguments.length>1?arguments[1]:void 0;!o||!this.root||(n.cached&&(this.find("xg-mini-progress-cache").style.width="".concat(n.cached/o*100,"%")),n.played&&(this.find("xg-mini-progress-played").style.width="".concat(n.played/o*100,"%")))}},{key:"render",value:function(){if(!(!this.playerConfig.progress||!this.playerConfig.miniprogress))return`<xg-mini-progress class="xg-mini-progress">
    <xg-mini-progress-cache class="xg-mini-progress-cache"></xg-mini-progress-cache>
    <xg-mini-progress-played class="xg-mini-progress-played"></xg-mini-progress-played>
    </xg-mini-progress>`}}],[{key:"pluginName",get:function(){return"MiniProgress"}},{key:"defaultConfig",get:function(){return{}}}]),i}(G);function Nn(t){"@babel/helpers - typeof";return Nn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nn(t)}function ek(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Du(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ec(r.key),r)}}function tk(t,e,i){return e&&Du(t.prototype,e),i&&Du(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function nk(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ta(t,e)}function Ta(t,e){return Ta=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Ta(t,e)}function rk(t){var e=ok();return function(){var r=Si(t),n;if(e){var o=Si(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ik(this,n)}}function ik(t,e){if(e&&(Nn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qe(t)}function qe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ok(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Si(t){return Si=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},Si(t)}function Zn(t,e,i){return e=Ec(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Ec(t){var e=ak(t,"string");return Nn(e)==="symbol"?e:String(e)}function ak(t,e){if(Nn(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(Nn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ht={REAL_TIME:"realtime",FIRST_FRAME:"firstframe",FRAME_RATE:"framerate",POSTER:"poster"};function sk(){try{return parseInt(window.performance.now(),10)}catch{return new Date().getTime()}}function uk(){try{var t=document.createElement("canvas").getContext;return!!t}catch{return!1}}var Ar=null,lk=function(t){nk(i,t);var e=rk(i);function i(){var r;ek(this,i);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),Zn(qe(r),"onLoadedData",function(s){r.player&&(r._frameCount=r.config.startFrameCount,r.stop(),r.renderOnTimeupdate(s),r.off(Ee,r.renderOnTimeupdate),r.on(Ee,r.renderOnTimeupdate))}),Zn(qe(r),"onVisibilitychange",function(s){document.visibilityState==="visible"?r._checkIfCanStart()&&r.start():document.visibilityState==="hidden"&&r.stop()}),Zn(qe(r),"renderOnTimeupdate",function(s){if(r._frameCount>0)r.renderOnce(),r._frameCount--;else{r._isLoaded=!0,r.off(Ee,r.renderOnTimeupdate);var u=r.config.startInterval;!r.player.paused&&r._checkIfCanStart()&&r.start(0,u)}}),Zn(qe(r),"start",function(s,u){var l=r.player.video,c=sk(),f=r.checkVideoIsSupport(l);!f||!r.canvasCtx||(u||(u=r.interval),r.stop(),l.videoWidth&&l.videoHeight&&(r.videoPI=l.videoHeight>0?parseInt(l.videoWidth/l.videoHeight*100,10):0,(r.config.mode===Ht.REAL_TIME||c-r.preTime>=u)&&(l&&l.videoWidth&&r.update(f,r.videoPI),r.preTime=c)),r.frameId=r._loopType==="timer"?d.setTimeout(qe(r),r.start,u):d.requestAnimationFrame(r.start))}),Zn(qe(r),"stop",function(){r.frameId&&(r._loopType==="timer"?d.clearTimeout(qe(r),r.frameId):d.cancelAnimationFrame(r.frameId),r.frameId=null)}),r}return tk(i,[{key:"afterCreate",value:function(){var n=this;this.playerConfig.dynamicBg===!0&&(this.config.disable=!1),i.isSupport||(this.config.disable=!0);var o=this.config,a=o.disable,s=o.mode,u=o.frameRate;a||(this._pos={width:0,height:0,rwidth:0,rheight:0,x:0,y:0,pi:0},this.isStart=!1,this._isLoaded=!1,this.videoPI=0,this.preTime=0,this.interval=parseInt(1e3/u,10),this.canvas=null,this.canvasCtx=null,this._frameCount=0,this._loopType=this.config.mode!==Ht.REAL_TIME&&this.interval>=1e3?"timer":"animation",this.once(Fi,function(){n.player&&(n.init(),n.renderByPoster(),n.player.paused||n.start())}),s!==Ht.POSTER&&(s!==Ht.FIRST_FRAME&&(this.on(Gn,function(){n.stop()}),this.on(Ie,function(){var l=n.config.startInterval;n._checkIfCanStart()&&n.start(0,l)}),this.on(Rt,function(){n.stop()})),this.on(Jt,this.onLoadedData),this.on(Bi,function(){n._isLoaded=!1,n.stop()}),document.addEventListener("visibilitychange",this.onVisibilitychange)))}},{key:"setConfig",value:function(n){var o=this;Object.keys(n).forEach(function(a){a==="root"&&n[a]!==o.config[a]?o.reRender(n[a]):a==="frameRate"?o.interval=parseInt(1e3/n[a],10):a==="disable"&&n[a]&&o.stop(),o.config[a]=n[a]})}},{key:"init",value:function(n){var o=this.player,a=this.config;this.canvasFilter=i.supportCanvasFilter();try{var s=n||a.root;s||(s=a.isInnerRender&&o.innerContainer||o.root),s.insertAdjacentHTML("afterbegin",'<div class="xgplayer-dynamic-bg" data-index="'.concat(a.index,`"><canvas>
        </canvas><xgmask></xgmask></div>`)),this.root=s.children[0],this.canvas=this.find("canvas"),this.canvasFilter||(this.canvas.style.filter=a.filter,this.canvas.style.webkitFilter=a.filter),this.mask=this.find("xgmask"),a.addMask&&(this.mask.style.background=a.maskBg),this.canvasCtx=this.canvas.getContext("2d")}catch(u){j.logError("plugin:DynamicBg",u)}}},{key:"reRender",value:function(n){var o=this.config.disable;if(!(!o&&!this.root)){this.stop();var a=this.root?this.root.parentElement:null;if(a!==n&&a.removeChild(this.root),!n){this.root=null;return}this.init(n),this.renderOnce();var s=this.config.startInterval;this._checkIfCanStart()&&this.start(0,s)}}},{key:"checkVideoIsSupport",value:function(n){if(!n)return null;var o=n&&n instanceof window.HTMLVideoElement?n:n.canvas?n.canvas:n.flyVideo?n.flyVideo:null;if(o&&!(V.browser==="safari"&&d.isMSE(o)))return o;var a=o?o.tagName.toLowerCase():"";return a==="canvas"||a==="img"?o:null}},{key:"renderByPoster",value:function(){var n=this.playerConfig.poster;if(n){var o=d.typeOf(n)==="String"?n:d.typeOf(n.poster)==="String"?n.poster:null;this.updateImg(o)}}},{key:"_checkIfCanStart",value:function(){var n=this.config.mode;return this._isLoaded&&!this.player.paused&&n!==Ht.FIRST_FRAME&&n!==Ht.POSTER}},{key:"renderOnce",value:function(){var n=this.player.video;if(!(!n.videoWidth||!n.videoHeight)){this.videoPI=parseInt(n.videoWidth/n.videoHeight*100,10);var o=this.checkVideoIsSupport(n);o&&this.update(o,this.videoPI)}}},{key:"updateImg",value:function(n){var o=this;if(n){var a=this.canvas.getBoundingClientRect(),s=a.width,u=a.height,l=new window.Image;l.onload=function(){if(!(!o.canvas||o.frameId||o.isStart)){o.canvas.height=u,o.canvas.width=s;var c=parseInt(s/u*100,10);o.update(l,c),l=null}},l.src=n}}},{key:"update",value:function(n,o){if(!(!this.canvas||!this.canvasCtx||!o))try{var a=this._pos,s=this.config,u=this.canvas.getBoundingClientRect(),l=u.width,c=u.height;if(l!==a.width||c!==a.height||a.pi!==o){var f=parseInt(l/c*100,10);a.pi=o,a.width!==l&&(a.width=this.canvas.width=l),a.height!==c&&(a.height=this.canvas.height=c);var h=c,p=l;f<o?p=parseInt(c*o/100,10):f>o&&(h=parseInt(l*100/o,10)),a.rwidth=p*s.multiple,a.rheight=h*s.multiple,a.x=(l-a.rwidth)/2,a.y=(c-a.rheight)/2}this.canvasFilter&&(this.canvasCtx.filter=s.filter),this.canvasCtx.drawImage(n,a.x,a.y,a.rwidth,a.rheight)}catch(y){j.logError("plugin:DynamicBg",y)}}},{key:"destroy",value:function(){this.stop(),document.removeEventListener("visibilitychange",this.onVisibilitychange),this.canvasCtx=null,this.canvas=null}},{key:"render",value:function(){return""}}],[{key:"pluginName",get:function(){return"dynamicBg"}},{key:"defaultConfig",get:function(){return{isInnerRender:!1,disable:!0,index:-1,mode:"framerate",frameRate:10,filter:"blur(50px)",startFrameCount:2,startInterval:0,addMask:!0,multiple:1.2,maskBg:"rgba(0,0,0,0.7)"}}},{key:"isSupport",get:function(){return typeof Ar=="boolean"||(Ar=uk()),Ar}},{key:"supportCanvasFilter",value:function(){return!(V.browser==="safari"||V.browser==="firefox")}}]),i}(G);const ck={LANG:"zh-cn",TEXT:{ERROR_TYPES:{network:{code:1,msg:"视频下载错误"},mse:{code:2,msg:"流追加错误"},parse:{code:3,msg:"解析错误"},format:{code:4,msg:"格式错误"},decoder:{code:5,msg:"解码错误"},runtime:{code:6,msg:"语法错误"},timeout:{code:7,msg:"播放超时"},other:{code:8,msg:"其他错误"}},HAVE_NOTHING:"没有关于音频/视频是否就绪的信息",HAVE_METADATA:"音频/视频的元数据已就绪",HAVE_CURRENT_DATA:"关于当前播放位置的数据是可用的，但没有足够的数据来播放下一帧/毫秒",HAVE_FUTURE_DATA:"当前及至少下一帧的数据是可用的",HAVE_ENOUGH_DATA:"可用数据足以开始播放",NETWORK_EMPTY:"音频/视频尚未初始化",NETWORK_IDLE:"音频/视频是活动的且已选取资源，但并未使用网络",NETWORK_LOADING:"浏览器正在下载数据",NETWORK_NO_SOURCE:"未找到音频/视频来源",MEDIA_ERR_ABORTED:"取回过程被用户中止",MEDIA_ERR_NETWORK:"网络错误",MEDIA_ERR_DECODE:"解码错误",MEDIA_ERR_SRC_NOT_SUPPORTED:"不支持的音频/视频格式",REPLAY:"重播",ERROR:"网络连接似乎出现了问题",PLAY_TIPS:"播放",PAUSE_TIPS:"暂停",PLAYNEXT_TIPS:"下一集",DOWNLOAD_TIPS:"下载",ROTATE_TIPS:"旋转",RELOAD_TIPS:"重新载入",FULLSCREEN_TIPS:"进入全屏",EXITFULLSCREEN_TIPS:"退出全屏",CSSFULLSCREEN_TIPS:"进入样式全屏",EXITCSSFULLSCREEN_TIPS:"退出样式全屏",TEXTTRACK:"字幕",PIP:"画中画",SCREENSHOT:"截图",LIVE:"正在直播",OFF:"关闭",OPEN:"开启",MINI_DRAG:"点击按住可拖动视频",MINISCREEN:"小屏幕",REFRESH_TIPS:"请试试",REFRESH:"刷新",FORWARD:"快进中",LIVE_TIP:"直播"}};function Mn(t){"@babel/helpers - typeof";return Mn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mn(t)}function Nu(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function Qn(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Nu(Object(i),!0).forEach(function(r){ft(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Nu(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function fk(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mu(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Cc(r.key),r)}}function dk(t,e,i){return e&&Mu(t.prototype,e),i&&Mu(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function hk(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ea(t,e)}function Ea(t,e){return Ea=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Ea(t,e)}function pk(t){var e=yk();return function(){var r=ki(t),n;if(e){var o=ki(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return vk(this,n)}}function vk(t,e){if(e&&(Mn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return or(t)}function or(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yk(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ki(t){return ki=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},ki(t)}function ft(t,e,i){return e=Cc(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Cc(t){var e=gk(t,"string");return Mn(e)==="symbol"?e:String(e)}function gk(t,e){if(Mn(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(Mn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var er="info",vo=Fl,mk=function(t){hk(i,t);var e=pk(i);function i(){var r;fk(this,i);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),ft(or(r),"_recordUserActions",function(s){var u=r._getTime(),l=Object.assign({},s,{msg:s.msg||s.action});r._stats[er].push(Qn(Qn({type:"userAction"},u),{},{payload:l}))}),ft(or(r),"_onReset",function(){r.reset()}),ft(or(r),"_recordInfo",function(s){r.info(s)}),ft(or(r),"_downloadStats",function(){var s=r.getStats(),u=new Blob([JSON.stringify(s)],{type:"application/json"}),l=window.URL.createObjectURL(u),c=document.createElement("a");c.style.display="none",c.href=l,c.download="player.txt",c.disabled=!1,c.click()}),r}return dk(i,[{key:"_getTime",value:function(){return{timestamp:Date.now(),timeFormat:new Date().toISOString()}}},{key:"afterCreate",value:function(){this.reset(),this.on(Xr,this._recordUserActions),this.on(vo.STATS_INFO,this._recordInfo),this.on(vo.STATS_DOWNLOAD,this._downloadStats),this.on(vo.STATS_RESET,this._onReset)}},{key:"destroy",value:function(){this.offAll()}},{key:"downloadStats",value:function(){this._downloadStats()}},{key:"info",value:function(n){n.profile?this._infoProfile(n):this._info(n)}},{key:"_info",value:function(n){var o=this._getTime();this._stats[er].push(Qn(Qn({},o),{},{payload:n}))}},{key:"_infoProfile",value:function(n){if(n&&n.startMs){var o=Date.now(),a=o-n.startMs,s=Qn({cat:"function",dur:a,name:n.name||n.msg,ph:"X",pid:0,tid:0,ts:n.startMs,profile:!0},n);this._info(s)}else console.warn("infoProfile need object data, include startMs")}},{key:"reset",value:function(){var n;this._stats=(n={},ft(n,er,[]),ft(n,"media",{}),n)}},{key:"getStats",value:function(){for(var n=this.player,o=n.video,a=[],s=0;s<o.buffered.length;s++)a.push({start:o.buffered.start(s),end:o.buffered.end(s)});var u={currentTime:o.currentTime,readyState:o.readyState,buffered:a,paused:o.paused,ended:o.ended};return this._stats.media=u,{raw:this._stats,timestat:this._getTimeStats(),profile:this._getProfile()}}},{key:"_getTimeStats",value:function(){var n=this._stats[er],o=n.map(function(a){var s=a.payload.data,u="";try{s instanceof Error?u=s.msg:s!==void 0&&(u=JSON.stringify(s))}catch(l){console.log("err",l)}return"[".concat(a.timeFormat,"] : ").concat(a.payload.msg," ").concat(u," ")});return o}},{key:"_getProfile",value:function(){var n={traceEvents:[]},o=this._stats[er];return o.forEach(function(a){a.payload.profile&&n.traceEvents.push(a.payload)}),n}}],[{key:"pluginName",get:function(){return"stats"}},{key:"defaultConfig",get:function(){return{}}}]),i}(bt);function jn(t){"@babel/helpers - typeof";return jn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jn(t)}function _k(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ju(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ic(r.key),r)}}function bk(t,e,i){return e&&ju(t.prototype,e),i&&ju(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function wk(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ca(t,e)}function Ca(t,e){return Ca=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Ca(t,e)}function Pk(t){var e=kk();return function(){var r=Oi(t),n;if(e){var o=Oi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Sk(this,n)}}function Sk(t,e){if(e&&(jn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ia(t)}function Ia(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kk(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Oi(t){return Oi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},Oi(t)}function Ok(t,e,i){return e=Ic(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Ic(t){var e=Tk(t,"string");return jn(e)==="symbol"?e:String(e)}function Tk(t,e){if(jn(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(jn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $c=function(t){wk(i,t);var e=Pk(i);function i(){var r;_k(this,i);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),Ok(Ia(r),"onGapJump",function(){var s=Ia(r),u=s.player,l=s.config;if(u.video.readyState!==HTMLMediaElement.HAVE_NOTHING){if(u.video.seeking){if(!r.seekingEventReceived)return}else r.seekingEventReceived=!1;if(!(u.video.paused&&u.video.currentTime!==0&&r.hasPlayed)){var c=u.video.buffered,f=l.smallGapLimit||.5,h=l.gapDetectionThreshold||.3,p=u.video.currentTime,y=r._getIndex(c,p,h);if(!(y===null||y===0)){console.log("GapJump  bufferRange ",c.start(y),c.end(y));var v=c.start(y)+.1,m=u.video.duration;if(!(v>m)){var k=v-p,T=k<=f;k<i.BROWSER_GAP_TOLERANCE||T&&(l.useGapJump!==!1&&(u.video.currentTime=r.isSafari?v+.1:v),r.player&&r.player.emit("detectGap"),console.log("gapJump gapIndex",y," isGapSamll:",T," currentTime:",u.video.currentTime," jumpSize:",p-u.video.currentTime),v!==.08&&u&&u.emit("log",{type:"oneevent",end_type:"gap",vid:u.config.vid,ext:{video_postion:Math.floor(v*1e3)}}))}}}}}),r}return bk(i,[{key:"afterCreate",value:function(){var n=this,o=this.config.useGapJump;o!==!1&&(this.hasPlayed=!1,this.seekingEventReceived=!1,this.isSafari=/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),this.on(Or,this.onGapJump),this.on(Ie,function(){n.hasPlayed=!0}),this.on(qa,function(){n.seekingEventReceived=!0}))}},{key:"_getIndex",value:function(n,o,a){if(!n||!n.length||n.length===1&&n.end(0)-n.start(0)<1e-6)return null;for(var s=this._getBuffered(n),u=null,l=0;l<s.length;l++){var c=s[l];if(c.start>o&&(l===0||s[l-1].end-o<=a)){u=l;break}}return u}},{key:"_getBuffered",value:function(n){if(!n)return[];for(var o=[],a=0;a<n.length;a++)o.push({start:n.start(a),end:n.end(a)});return o}}],[{key:"pluginName",get:function(){return"gapJump"}},{key:"defaultConfig",get:function(){return{useGapJump:!1,smallGapLimit:.5,gapDetectionThreshold:.3}}}]),i}(G);$c.BROWSER_GAP_TOLERANCE=.001;function Bn(t){"@babel/helpers - typeof";return Bn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bn(t)}function Ek(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bu(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xc(r.key),r)}}function Ck(t,e,i){return e&&Bu(t.prototype,e),i&&Bu(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ik(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$a(t,e)}function $a(t,e){return $a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},$a(t,e)}function $k(t){var e=Rk();return function(){var r=Ti(t),n;if(e){var o=Ti(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xk(this,n)}}function xk(t,e){if(e&&(Bn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ar(t)}function ar(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Rk(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ti(t){return Ti=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},Ti(t)}function Fu(t,e,i){return e=xc(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function xc(t){var e=Lk(t,"string");return Bn(e)==="symbol"?e:String(e)}function Lk(t,e){if(Bn(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(Bn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ak=function(t){Ik(i,t);var e=$k(i);function i(){var r;Ek(this,i);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),Fu(ar(r),"onWaiting",function(){var s=ar(r),u=s.config;r.jumpCnt>u.jumpCntMax||r.timer||u.useWaitingTimeoutJump===!1||(r.timer=setTimeout(r.onJump,u.waitingTime*1e3))}),Fu(ar(r),"onJump",function(){var s=ar(r),u=s.player,l=s.config;if(clearTimeout(r.timer),r.timer=null,!(r.jumpCnt>l.jumpCntMax||l.useWaitingTimeoutJump===!1)&&!(u.video.paused&&u.video.currentTime!==0&&r.hasPlayed)){r.jumpSize=l.jumpSize*(r.jumpCnt+1),r.jumpCnt===l.jumpSize&&r.jumpSize<6&&(r.jumpSize=6);var c=u.currentTime+r.jumpSize,f=u.video.duration;c>f||(r.jumpCnt++,u.currentTime=c)}}),r}return Ck(i,[{key:"afterCreate",value:function(){var n=this,o=this.config,a=o.useWaitingTimeoutJump,s=o.jumpSize;a!==!1&&(this.hasPlayed=!1,this.jumpCnt=0,this.timer=null,this.jumpSize=s,this.on(Or,this.onWaiting),this.on([Xa,ze],function(){clearTimeout(n.timer),n.timer=null,n.jumpSize=n.config.jumpSize}),this.on(Ie,function(){n.hasPlayed=!0}))}}],[{key:"pluginName",get:function(){return"waitingTimeoutJump"}},{key:"defaultConfig",get:function(){return{useWaitingTimeoutJump:!1,waitingTime:15,jumpSize:2,jumpCntMax:4}}}]),i}(G);function Fn(t){"@babel/helpers - typeof";return Fn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fn(t)}function Dk(t){return Bk(t)||jk(t)||Mk(t)||Nk()}function Nk(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mk(t,e){if(t){if(typeof t=="string")return xa(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return xa(t,e)}}function jk(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Bk(t){if(Array.isArray(t))return xa(t)}function xa(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function Fk(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hu(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Rc(r.key),r)}}function Hk(t,e,i){return e&&Hu(t.prototype,e),i&&Hu(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vk(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ra(t,e)}function Ra(t,e){return Ra=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Ra(t,e)}function Uk(t){var e=Kk();return function(){var r=Ei(t),n;if(e){var o=Ei(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zk(this,n)}}function zk(t,e){if(e&&(Fn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Le(t)}function Le(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kk(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ei(t){return Ei=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},Ei(t)}function at(t,e,i){return e=Rc(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Rc(t){var e=Gk(t,"string");return Fn(e)==="symbol"?e:String(e)}function Gk(t,e){if(Fn(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(Fn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vt="cdn",Dr=["cdn"],Wk=function(t){Vk(i,t);var e=Uk(i);function i(){var r;Fk(this,i);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),at(Le(r),"getSpeed",function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Vt;if(!r.speedListCache||!r.speedListCache[s]||r.speedListCache[s].length<=0)return 0;var u=0;return r.speedListCache[s].map(function(l){u+=l}),Math.floor(u/r.speedListCache[s].length)}),at(Le(r),"startTimer",function(){d.isMSE(r.player.video)||(r.cnt=0,r.timer=setTimeout(r.testSpeed,r.config.testTimeStep))}),at(Le(r),"initSpeedList",function(){r.speedListCache={},Dr.forEach(function(s){r.speedListCache[s]=[]})}),at(Le(r),"_onRealSpeedChange",function(s){s.speed&&r.appendList(s.speed,s.type||Vt)}),at(Le(r),"testSpeed",function(){if(clearTimeout(r.timer),r.timer=null,!(!r.player||!r.config.openSpeed)){var s=r.config,u=s.url,l=s.loadSize,c=s.testCnt,f=s.testTimeStep,h=u+(u.indexOf("?")<0?"?testst=":"&testst=")+Date.now();if(!(r.cnt>=c)){r.cnt++;try{var p=new Date().getTime(),y=null,v=new XMLHttpRequest;r.xhr=v,v.open("GET",h);var m={},k=Math.floor(Math.random()*10);m.Range="bytes="+k+"-"+(l+k),m&&Object.keys(m).forEach(function(T){v.setRequestHeader(T,m[T])}),v.onreadystatechange=function(){if(v.readyState===4){r.xhr=null,y=new Date().getTime();var T=v.getResponseHeader("Content-Length")/1024*8,O=Math.round(T*1e3/(y-p));r.appendList(O),r.timer=setTimeout(r.testSpeed,f)}},v.send()}catch(T){console.error(T)}}}}),at(Le(r),"appendList",function(s){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Vt;if(!(!r.speedListCache||!r.speedListCache[u])){var l=r.config.saveSpeedMax;r.speedListCache[u].length>=l&&r.speedListCache[u].shift(),r.speedListCache[u].push(s);var c=Le(r),f=c.player;f&&(u===Vt?f.realTimeSpeed=s:f[r.getSpeedName("realTime",u)]=s),r.updateSpeed(u)}}),at(Le(r),"updateSpeed",function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Vt,u=r.getSpeed(s),l=Le(r),c=l.player;if(c)if(s===Vt)(!c.avgSpeed||u!==c.avgSpeed)&&(c.avgSpeed=u,c.emit(Io,{speed:u,realTimeSpeed:c.realTimeSpeed}));else{var f=r.getSpeedName("avg",s);(!c[f]||u!==c[f])&&(c[f]=u,c.emit(Io,{speed:u,realTimeSpeed:c.realTimeSpeed}))}}),r}return Hk(i,[{key:"afterCreate",value:function(){var n=this.config,o=n.openSpeed,a=n.addSpeedTypeList,s=n.testCnt;(a==null?void 0:a.length)>0&&Dr.push.apply(Dr,Dk(a)),this.initSpeedList(),o&&(this.on("real_time_speed",this._onRealSpeedChange),this.timer=null,this.cnt=0,this.xhr=null,s>0&&this.on([Jt,Kr],this.startTimer))}},{key:"getSpeedName",value:function(n,o){return n+"Speed"+o.toUpperCase()}},{key:"openSpeed",get:function(){return this.config.openSpeed},set:function(n){if(this.config.openSpeed=n,!n&&this.timer){clearTimeout(this.timer),this.timer=null;return}if(this.config.openSpeed){if(this.timer)return;this.timer=setTimeout(this.testSpeed,this.config.testTimeStep)}}},{key:"destroy",value:function(){var n=this;this.off("real_time_speed",this._onRealSpeedChange),this.off([Jt,Kr],this.startTimer),Dr.forEach(function(o){n.speedListCache&&n.speedListCache[o]&&(n.speedListCache[o]=[])}),this.speedListCache&&(this.speedListCache={}),clearTimeout(this.timer),this.timer=null,this.xhr&&this.xhr.readyState!==4&&(this.xhr.cancel&&this.xhr.cancel(),this.xhr=null)}}],[{key:"pluginName",get:function(){return"testspeed"}},{key:"defaultConfig",get:function(){return{openSpeed:!1,testCnt:3,loadSize:200*1024,testTimeStep:3e3,url:"",saveSpeedMax:5,addSpeedTypeList:[]}}}]),i}(G);function Hn(t){"@babel/helpers - typeof";return Hn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hn(t)}function Yk(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vu(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qk(r.key),r)}}function Xk(t,e,i){return e&&Vu(t.prototype,e),i&&Vu(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function qk(t){var e=Jk(t,"string");return Hn(e)==="symbol"?e:String(e)}function Jk(t,e){if(Hn(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(Hn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Zk(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&La(t,e)}function La(t,e){return La=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},La(t,e)}function Qk(t){var e=n1();return function(){var r=Ci(t),n;if(e){var o=Ci(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return e1(this,n)}}function e1(t,e){if(e&&(Hn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t1(t)}function t1(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function n1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ci(t){return Ci=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},Ci(t)}var r1=function(t){Zk(i,t);var e=Qk(i);function i(){return Yk(this,i),e.apply(this,arguments)}return Xk(i,[{key:"afterCreate",value:function(){var n=this,o=this.player,a=this.config,s=o.media||o.video;a.disabled||!s.getVideoPlaybackQuality||(this.timer=null,this._resetData(),this.on(Bi,function(){n._resetData(),n._stopTick()}),this.on(Ie,function(){n._startTick()}),this.on(Rt,function(){n._stopTick()}),this.on(it,function(){n._stopTick()}),this.on(Gn,function(){n._stopTick()}))}},{key:"_startTick",value:function(){var n=this;this._stopTick(),this._timer=setTimeout(function(){n._checkDecodeFPS(),n._startTick()},this.config.tick)}},{key:"_stopTick",value:function(){clearTimeout(this._timer),this._timer=null}},{key:"_checkBuffer",value:function(n,o){for(var a=!1,s=[],u=0;u<o.length;u++){var l=o.start(u),c=o.end(u);if(s.push({start:l,end:c}),l<=n&&n<=c-1){a=!0;break}}return{enoughBuffer:a,buffers:s}}},{key:"_checkStuck",value:function(n,o,a,s){var u=this.player.media||this.player.video,l=document.hidden,c=u.paused,f=u.readyState,h=u.currentTime,p=u.buffered;if(!(l||c||f<4)){var y=this._checkBuffer(h,p),v=y.enoughBuffer,m=y.buffers;v&&(n<=this.config.reportFrame?(this._currentStuckCount++,this._payload.push({currentTime:h,buffers:m,curDecodedFrames:n,totalVideoFrames:o,droppedVideoFrames:a,checkInterval:s}),this._currentStuckCount>=this.config.stuckCount&&(this.emit(Hl,this._payload),this._resetCheck())):this._resetCheck())}}},{key:"_resetCheck",value:function(){this._payload=[],this._currentStuckCount=0}},{key:"_resetData",value:function(){this._lastDecodedFrames=0,this._currentStuckCount=0,this._lastCheckPoint=null,this._payload=[]}},{key:"_checkDecodeFPS",value:function(){var n=this.player.media||this.player.video;if(n){var o=n.getVideoPlaybackQuality(),a=o.totalVideoFrames,s=o.droppedVideoFrames,u=performance.now();if(a&&this._lastCheckPoint){var l=a-this._lastDecodedFrames,c=u-this._lastCheckPoint;this._checkStuck(l,a,s,c)}this._lastDecodedFrames=a,this._lastCheckPoint=u}}},{key:"destroy",value:function(){this._stopTick(),this._resetData()}}],[{key:"pluginName",get:function(){return"FpsDetect"}},{key:"defaultConfig",get:function(){return{disabled:!1,tick:1e3,stuckCount:3,reportFrame:0}}}]),i}(G);function i1(t){return u1(t)||s1(t)||a1(t)||o1()}function o1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a1(t,e){if(t){if(typeof t=="string")return Aa(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Aa(t,e)}}function s1(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function u1(t){if(Array.isArray(t))return Aa(t)}function Aa(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function l1(t,e,i){return Object.defineProperty(t,"prototype",{writable:!1}),t}function c1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Kt.use(ck);var f1=l1(function t(e,i){var r,n,o;c1(this,t);var a=i&&i.isMobileSimulateMode==="mobile",s=i.isLive,u=s?[]:[Wb,QS,LS,W0],l=[].concat(u,[h0,N0,vw,Hw,DP,GP,eP,fP,iw,xw]),c=[Lm,Um,t_,Rb,f_,pS,kS,US,V_];this.plugins=[Pm,mk,Ak,$c].concat(i1(l),c);var f=a?"mobile":V.device;switch(f){case"pc":(r=this.plugins).push.apply(r,[iu,ho,Eu,Wk,r1]);break;case"mobile":(n=this.plugins).push.apply(n,[db]);break;default:(o=this.plugins).push.apply(o,[iu,ho,Eu])}(V.os.isIpad||f==="pc")&&this.plugins.push(lk),V.os.isIpad&&this.plugins.push(ho),this.ignores=[],this.i18n=[]});function Vn(t){"@babel/helpers - typeof";return Vn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vn(t)}function d1(t,e,i){return Object.defineProperty(t,"prototype",{writable:!1}),t}function h1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p1(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Da(t,e)}function Da(t,e){return Da=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Da(t,e)}function v1(t){var e=m1();return function(){var r=Ii(t),n;if(e){var o=Ii(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y1(this,n)}}function y1(t,e){if(e&&(Vn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g1(t)}function g1(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ii(t){return Ii=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},Ii(t)}function Pe(t,e,i){return e=_1(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function _1(t){var e=b1(t,"string");return Vn(e)==="symbol"?e:String(e)}function b1(t,e){if(Vn(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(Vn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ge=function(t){p1(i,t);var e=v1(i);function i(){return h1(this,i),e.apply(this,arguments)}return d1(i)}(Ui);Pe(ge,"defaultPreset",f1);Pe(ge,"Util",d);Pe(ge,"Sniffer",V);Pe(ge,"Errors",zr);Pe(ge,"Events",ky);Pe(ge,"Plugin",G);Pe(ge,"BasePlugin",bt);Pe(ge,"I18N",Kt);Pe(ge,"STATE_CLASS",E);Pe(ge,"PAUSE_TYPES",Ul);Pe(ge,"BUFFER_CONTROL_TYPES",Lo);Pe(ge,"InstManager",Jl);const w1=C({__name:"DocVideo",props:{src:{default:""},width:{default:void 0},height:{default:void 0}},setup(t){const e=t;function i(){return`mse_${Math.random().toString(36).substr(2,9)}`}const r=I(()=>e.src||""),n=I(()=>e.width||"100%"),o=I(()=>e.height||"400px"),a=L(null);return ve(()=>{dt(r)&&a.value&&(a.value.id=i(),new ge({id:dt(a.value.id),autoplay:!1,volume:1,videoInit:!0,url:dt(r),playsinline:!0,playbackRate:[],width:dt(n),height:dt(o)}))}),(s,u)=>(_(),b("div",{ref_key:"videoDivRef",ref:a},null,512))}}),yo="el",P1="is-",st=(t,e,i,r,n)=>{let o=`${t}-${e}`;return i&&(o+=`-${i}`),r&&(o+=`__${r}`),n&&(o+=`--${n}`),o},S1=Symbol("namespaceContextKey"),k1=t=>{const e=Vr()?Ve(S1,L(yo)):L(yo);return I(()=>g(e)||yo)},is=(t,e)=>{const i=k1();return{namespace:i,b:(v="")=>st(i.value,t,v,"",""),e:v=>v?st(i.value,t,"",v,""):"",m:v=>v?st(i.value,t,"","",v):"",be:(v,m)=>v&&m?st(i.value,t,v,m,""):"",em:(v,m)=>v&&m?st(i.value,t,"",v,m):"",bm:(v,m)=>v&&m?st(i.value,t,v,"",m):"",bem:(v,m,k)=>v&&m&&k?st(i.value,t,v,m,k):"",is:(v,...m)=>{const k=m.length>=1?m[0]:!0;return v&&k?`${P1}${v}`:""},cssVar:v=>{const m={};for(const k in v)v[k]&&(m[`--${i.value}-${k}`]=v[k]);return m},cssVarName:v=>`--${i.value}-${v}`,cssVarBlock:v=>{const m={};for(const k in v)v[k]&&(m[`--${i.value}-${t}-${k}`]=v[k]);return m},cssVarBlockName:v=>`--${i.value}-${t}-${v}`}};var O1=typeof global=="object"&&global&&global.Object===Object&&global,T1=typeof self=="object"&&self&&self.Object===Object&&self,zi=O1||T1||Function("return this")(),Un=zi.Symbol,Lc=Object.prototype,E1=Lc.hasOwnProperty,C1=Lc.toString,tr=Un?Un.toStringTag:void 0;function I1(t){var e=E1.call(t,tr),i=t[tr];try{t[tr]=void 0;var r=!0}catch{}var n=C1.call(t);return r&&(e?t[tr]=i:delete t[tr]),n}var $1=Object.prototype,x1=$1.toString;function R1(t){return x1.call(t)}var L1="[object Null]",A1="[object Undefined]",Uu=Un?Un.toStringTag:void 0;function Ac(t){return t==null?t===void 0?A1:L1:Uu&&Uu in Object(t)?I1(t):R1(t)}function D1(t){return t!=null&&typeof t=="object"}var N1="[object Symbol]";function Ki(t){return typeof t=="symbol"||D1(t)&&Ac(t)==N1}function M1(t,e){for(var i=-1,r=t==null?0:t.length,n=Array(r);++i<r;)n[i]=e(t[i],i,t);return n}var os=Array.isArray,j1=1/0,zu=Un?Un.prototype:void 0,Ku=zu?zu.toString:void 0;function Dc(t){if(typeof t=="string")return t;if(os(t))return M1(t,Dc)+"";if(Ki(t))return Ku?Ku.call(t):"";var e=t+"";return e=="0"&&1/t==-j1?"-0":e}var B1=/\s/;function F1(t){for(var e=t.length;e--&&B1.test(t.charAt(e)););return e}var H1=/^\s+/;function V1(t){return t&&t.slice(0,F1(t)+1).replace(H1,"")}function zn(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Gu=NaN,U1=/^[-+]0x[0-9a-f]+$/i,z1=/^0b[01]+$/i,K1=/^0o[0-7]+$/i,G1=parseInt;function Wu(t){if(typeof t=="number")return t;if(Ki(t))return Gu;if(zn(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=zn(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=V1(t);var i=z1.test(t);return i||K1.test(t)?G1(t.slice(2),i?2:8):U1.test(t)?Gu:+t}var W1="[object AsyncFunction]",Y1="[object Function]",X1="[object GeneratorFunction]",q1="[object Proxy]";function J1(t){if(!zn(t))return!1;var e=Ac(t);return e==Y1||e==X1||e==W1||e==q1}var go=zi["__core-js_shared__"],Yu=function(){var t=/[^.]+$/.exec(go&&go.keys&&go.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Z1(t){return!!Yu&&Yu in t}var Q1=Function.prototype,eO=Q1.toString;function tO(t){if(t!=null){try{return eO.call(t)}catch{}try{return t+""}catch{}}return""}var nO=/[\\^$.*+?()[\]{}|]/g,rO=/^\[object .+?Constructor\]$/,iO=Function.prototype,oO=Object.prototype,aO=iO.toString,sO=oO.hasOwnProperty,uO=RegExp("^"+aO.call(sO).replace(nO,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function lO(t){if(!zn(t)||Z1(t))return!1;var e=J1(t)?uO:rO;return e.test(tO(t))}function cO(t,e){return t==null?void 0:t[e]}function Nc(t,e){var i=cO(t,e);return lO(i)?i:void 0}function fO(t,e){return t===e||t!==t&&e!==e}var dO=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,hO=/^\w*$/;function pO(t,e){if(os(t))return!1;var i=typeof t;return i=="number"||i=="symbol"||i=="boolean"||t==null||Ki(t)?!0:hO.test(t)||!dO.test(t)||e!=null&&t in Object(e)}var Pr=Nc(Object,"create");function vO(){this.__data__=Pr?Pr(null):{},this.size=0}function yO(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var gO="__lodash_hash_undefined__",mO=Object.prototype,_O=mO.hasOwnProperty;function bO(t){var e=this.__data__;if(Pr){var i=e[t];return i===gO?void 0:i}return _O.call(e,t)?e[t]:void 0}var wO=Object.prototype,PO=wO.hasOwnProperty;function SO(t){var e=this.__data__;return Pr?e[t]!==void 0:PO.call(e,t)}var kO="__lodash_hash_undefined__";function OO(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=Pr&&e===void 0?kO:e,this}function $t(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}$t.prototype.clear=vO;$t.prototype.delete=yO;$t.prototype.get=bO;$t.prototype.has=SO;$t.prototype.set=OO;function TO(){this.__data__=[],this.size=0}function Gi(t,e){for(var i=t.length;i--;)if(fO(t[i][0],e))return i;return-1}var EO=Array.prototype,CO=EO.splice;function IO(t){var e=this.__data__,i=Gi(e,t);if(i<0)return!1;var r=e.length-1;return i==r?e.pop():CO.call(e,i,1),--this.size,!0}function $O(t){var e=this.__data__,i=Gi(e,t);return i<0?void 0:e[i][1]}function xO(t){return Gi(this.__data__,t)>-1}function RO(t,e){var i=this.__data__,r=Gi(i,t);return r<0?(++this.size,i.push([t,e])):i[r][1]=e,this}function Wn(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}Wn.prototype.clear=TO;Wn.prototype.delete=IO;Wn.prototype.get=$O;Wn.prototype.has=xO;Wn.prototype.set=RO;var LO=Nc(zi,"Map");function AO(){this.size=0,this.__data__={hash:new $t,map:new(LO||Wn),string:new $t}}function DO(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Wi(t,e){var i=t.__data__;return DO(e)?i[typeof e=="string"?"string":"hash"]:i.map}function NO(t){var e=Wi(this,t).delete(t);return this.size-=e?1:0,e}function MO(t){return Wi(this,t).get(t)}function jO(t){return Wi(this,t).has(t)}function BO(t,e){var i=Wi(this,t),r=i.size;return i.set(t,e),this.size+=i.size==r?0:1,this}function At(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}At.prototype.clear=AO;At.prototype.delete=NO;At.prototype.get=MO;At.prototype.has=jO;At.prototype.set=BO;var FO="Expected a function";function as(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(FO);var i=function(){var r=arguments,n=e?e.apply(this,r):r[0],o=i.cache;if(o.has(n))return o.get(n);var a=t.apply(this,r);return i.cache=o.set(n,a)||o,a};return i.cache=new(as.Cache||At),i}as.Cache=At;var HO=500;function VO(t){var e=as(t,function(r){return i.size===HO&&i.clear(),r}),i=e.cache;return e}var UO=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,zO=/\\(\\)?/g,KO=VO(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(UO,function(i,r,n,o){e.push(n?o.replace(zO,"$1"):r||i)}),e});function GO(t){return t==null?"":Dc(t)}function WO(t,e){return os(t)?t:pO(t,e)?[t]:KO(GO(t))}var YO=1/0;function XO(t){if(typeof t=="string"||Ki(t))return t;var e=t+"";return e=="0"&&1/t==-YO?"-0":e}function qO(t,e){e=WO(e,t);for(var i=0,r=e.length;t!=null&&i<r;)t=t[XO(e[i++])];return i&&i==r?t:void 0}function JO(t,e,i){var r=t==null?void 0:qO(t,e);return r===void 0?i:r}var mo=function(){return zi.Date.now()},ZO="Expected a function",QO=Math.max,eT=Math.min;function tT(t,e,i){var r,n,o,a,s,u,l=0,c=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(ZO);e=Wu(e)||0,zn(i)&&(c=!!i.leading,f="maxWait"in i,o=f?QO(Wu(i.maxWait)||0,e):o,h="trailing"in i?!!i.trailing:h);function p(M){var D=r,W=n;return r=n=void 0,l=M,a=t.apply(W,D),a}function y(M){return l=M,s=setTimeout(k,e),c?p(M):a}function v(M){var D=M-u,W=M-l,Q=e-D;return f?eT(Q,o-W):Q}function m(M){var D=M-u,W=M-l;return u===void 0||D>=e||D<0||f&&W>=o}function k(){var M=mo();if(m(M))return T(M);s=setTimeout(k,v(M))}function T(M){return s=void 0,h&&r?p(M):(r=n=void 0,a)}function O(){s!==void 0&&clearTimeout(s),l=0,r=u=n=s=void 0}function z(){return s===void 0?a:T(mo())}function F(){var M=mo(),D=m(M);if(r=arguments,n=this,u=M,D){if(s===void 0)return y(u);if(f)return clearTimeout(s),s=setTimeout(k,e),p(u)}return s===void 0&&(s=setTimeout(k,e)),a}return F.cancel=O,F.flush=z,F}function ss(t){for(var e=-1,i=t==null?0:t.length,r={};++e<i;){var n=t[e];r[n[0]]=n[1]}return r}function nT(t){return t==null}var rT="Expected a function";function _o(t,e,i){var r=!0,n=!0;if(typeof t!="function")throw new TypeError(rT);return zn(i)&&(r="leading"in i?!!i.leading:r,n="trailing"in i?!!i.trailing:n),tT(t,e,{leading:r,maxWait:e,trailing:n})}const iT=t=>t===void 0,Sr=t=>typeof t=="number",oT=t=>typeof Element>"u"?!1:t instanceof Element,aT=t=>Ni(t)?!Number.isNaN(Number(t)):!1;var Xu;const pe=typeof window<"u",sT=t=>typeof t=="string",Na=()=>{};pe&&((Xu=window==null?void 0:window.navigator)!=null&&Xu.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function us(t){return typeof t=="function"?t():g(t)}function uT(t,e){function i(...r){return new Promise((n,o)=>{Promise.resolve(t(()=>e.apply(this,r),{fn:e,thisArg:this,args:r})).then(n).catch(o)})}return i}function lT(t,e=!0,i=!0,r=!1){let n=0,o,a=!0,s=Na,u;const l=()=>{o&&(clearTimeout(o),o=void 0,s(),s=Na)};return f=>{const h=us(t),p=Date.now()-n,y=()=>u=f();return l(),h<=0?(n=Date.now(),y()):(p>h&&(i||!a)?(n=Date.now(),y()):e&&(u=new Promise((v,m)=>{s=r?m:v,o=setTimeout(()=>{n=Date.now(),a=!0,v(y()),l()},Math.max(0,h-p))})),!i&&!o&&(o=setTimeout(()=>a=!0,h)),a=!1,u)}}function cT(t){return t}function fT(t){return ef()?(tf(t),!0):!1}function dT(t,e=200,i=!1,r=!0,n=!1){return uT(lT(e,i,r,n),t)}function hT(t){var e;const i=us(t);return(e=i==null?void 0:i.$el)!=null?e:i}const pT=pe?window:void 0;function Gt(...t){let e,i,r,n;if(sT(t[0])||Array.isArray(t[0])?([i,r,n]=t,e=pT):[e,i,r,n]=t,!e)return Na;Array.isArray(i)||(i=[i]),Array.isArray(r)||(r=[r]);const o=[],a=()=>{o.forEach(c=>c()),o.length=0},s=(c,f,h,p)=>(c.addEventListener(f,h,p),()=>c.removeEventListener(f,h,p)),u=ue(()=>[hT(e),us(n)],([c,f])=>{a(),c&&o.push(...i.flatMap(h=>r.map(p=>s(c,h,p,f))))},{immediate:!0,flush:"post"}),l=()=>{u(),a()};return fT(l),l}const qu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ju="__vueuse_ssr_handlers__";qu[Ju]=qu[Ju]||{};var Zu;(function(t){t.UP="UP",t.RIGHT="RIGHT",t.DOWN="DOWN",t.LEFT="LEFT",t.NONE="NONE"})(Zu||(Zu={}));var vT=Object.defineProperty,Qu=Object.getOwnPropertySymbols,yT=Object.prototype.hasOwnProperty,gT=Object.prototype.propertyIsEnumerable,el=(t,e,i)=>e in t?vT(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,mT=(t,e)=>{for(var i in e||(e={}))yT.call(e,i)&&el(t,i,e[i]);if(Qu)for(var i of Qu(e))gT.call(e,i)&&el(t,i,e[i]);return t};const _T={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};mT({linear:cT},_T);const tl={current:0},nl=L(0),bT=2e3,rl=Symbol("elZIndexContextKey"),wT=Symbol("zIndexContextKey"),PT=t=>{const e=Vr()?Ve(rl,tl):tl,i=Vr()?Ve(wT,void 0):void 0,r=I(()=>{const a=g(i);return Sr(a)?a:bT}),n=I(()=>r.value+nl.value),o=()=>(e.current++,nl.value=e.current,n.value);return!pe&&Ve(rl),{initialZIndex:r,currentZIndex:n,nextZIndex:o}};var ST={name:"en",el:{breadcrumb:{label:"Breadcrumb"},colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color.",alphaLabel:"pick alpha value"},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},mention:{loading:"Loading"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tour:{next:"Next",previous:"Previous",finish:"Finish"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"},carousel:{leftArrow:"Carousel arrow left",rightArrow:"Carousel arrow right",indicator:"Carousel switch to index {index}"}}};const kT=t=>(e,i)=>OT(e,i,g(t)),OT=(t,e,i)=>JO(i,t,t).replace(/\{(\w+)\}/g,(r,n)=>{var o;return`${(o=e==null?void 0:e[n])!=null?o:`{${n}}`}`}),TT=t=>{const e=I(()=>g(t).name),i=nf(t)?t:L(t);return{lang:e,locale:i,t:kT(t)}},ET=Symbol("localeContextKey"),Mc=t=>{const e=Ve(ET,L());return TT(I(()=>e.value||ST))},jc="__epPropKey",yt=t=>t,CT=t=>yl(t)&&!!t[jc],IT=(t,e)=>{if(!yl(t)||CT(t))return t;const{values:i,required:r,default:n,type:o,validator:a}=t,u={type:o,required:!!r,validator:i||a?l=>{let c=!1,f=[];if(i&&(f=Array.from(i),hs(t,"default")&&f.push(n),c||(c=f.includes(l))),a&&(c||(c=a(l))),!c&&f.length>0){const h=[...new Set(f)].map(p=>JSON.stringify(p)).join(", ");rf(`Invalid prop: validation failed${e?` for prop "${e}"`:""}. Expected one of [${h}], got value ${JSON.stringify(l)}.`)}return c}:void 0,[jc]:!0};return hs(t,"default")&&(u.default=n),u},Yi=t=>ss(Object.entries(t).map(([e,i])=>[e,IT(i,e)])),$T=t=>Object.keys(t);var Tr=(t,e)=>{const i=t.__vccOpts||t;for(const[r,n]of e)i[r]=n;return i};const xT=(t,e)=>{var i;if(!pe||!t||!e)return"";let r=of(e);r==="float"&&(r="cssFloat");try{const n=t.style[r];if(n)return n;const o=(i=document.defaultView)==null?void 0:i.getComputedStyle(t,"");return o?o[r]:""}catch{return t.style[r]}};function RT(t,e="px"){if(!t)return"";if(Sr(t)||aT(t))return`${t}${e}`;if(Ni(t))return t}const LT=(t,e)=>{if(!pe)return!1;const i={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(e)],r=xT(t,i);return["scroll","auto","overlay"].some(n=>r.includes(n))},AT=(t,e)=>{if(!pe)return;let i=t;for(;i;){if([window,document,document.documentElement].includes(i))return window;if(LT(i,e))return i;i=i.parentNode}return i},Xi=(t,e)=>(t.install=i=>{for(const r of[t,...Object.values({})])i.component(r.name,r)},t),DT=Yi({size:{type:yt([Number,String])},color:{type:String}}),NT=C({name:"ElIcon",inheritAttrs:!1}),MT=C({...NT,props:DT,setup(t){const e=t,i=is("icon"),r=I(()=>{const{size:n,color:o}=e;return!n&&!o?{}:{fontSize:iT(n)?void 0:RT(n),"--color":o}});return(n,o)=>(_(),b("i",Te({class:g(i).b(),style:g(r)},n.$attrs),[w(n.$slots,"default")],16))}});var jT=Tr(MT,[["__file","icon.vue"]]);const Xe=Xi(jT);/*! Element Plus Icons Vue v2.3.1 */var BT=C({name:"ArrowLeft",__name:"arrow-left",setup(t){return(e,i)=>(_(),b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[P("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"})]))}}),FT=BT,HT=C({name:"ArrowRight",__name:"arrow-right",setup(t){return(e,i)=>(_(),b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[P("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"})]))}}),VT=HT,UT=C({name:"Close",__name:"close",setup(t){return(e,i)=>(_(),b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[P("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"})]))}}),zT=UT,KT=C({name:"FullScreen",__name:"full-screen",setup(t){return(e,i)=>(_(),b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[P("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64l192-.192zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64z"})]))}}),GT=KT,WT=C({name:"RefreshLeft",__name:"refresh-left",setup(t){return(e,i)=>(_(),b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[P("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z"})]))}}),YT=WT,XT=C({name:"RefreshRight",__name:"refresh-right",setup(t){return(e,i)=>(_(),b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[P("path",{fill:"currentColor",d:"M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88z"})]))}}),qT=XT,JT=C({name:"ScaleToOriginal",__name:"scale-to-original",setup(t){return(e,i)=>(_(),b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[P("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zm-361.412 0a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118M512 361.412a30.118 30.118 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.118 30.118 0 0 0 512 361.412M512 512a30.118 30.118 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.118 30.118 0 0 0 512 512"})]))}}),ZT=JT,QT=C({name:"ZoomIn",__name:"zoom-in",setup(t){return(e,i)=>(_(),b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[P("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704m-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64z"})]))}}),eE=QT,tE=C({name:"ZoomOut",__name:"zoom-out",setup(t){return(e,i)=>(_(),b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[P("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704M352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64"})]))}}),nE=tE;const Bc=t=>t,rE=["class","style"],iE=/^on[A-Z]/,oE=(t={})=>{const{excludeListeners:e=!1,excludeKeys:i}=t,r=I(()=>((i==null?void 0:i.value)||[]).concat(rE)),n=Vr();return n?I(()=>{var o;return ss(Object.entries((o=n.proxy)==null?void 0:o.$attrs).filter(([a])=>!r.value.includes(a)&&!(e&&iE.test(a))))}):I(()=>({}))},bo="focus-trap.focus-after-trapped",wo="focus-trap.focus-after-released",aE="focus-trap.focusout-prevented",il={cancelable:!0,bubbles:!1},sE={cancelable:!0,bubbles:!1},ol="focusAfterTrapped",al="focusAfterReleased",uE=Symbol("elFocusTrap"),ls=L(),qi=L(0),cs=L(0);let Nr=0;const Fc=t=>{const e=[],i=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const n=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||n?NodeFilter.FILTER_SKIP:r.tabIndex>=0||r===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;i.nextNode();)e.push(i.currentNode);return e},sl=(t,e)=>{for(const i of t)if(!lE(i,e))return i},lE=(t,e)=>{if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1},cE=t=>{const e=Fc(t),i=sl(e,t),r=sl(e.reverse(),t);return[i,r]},fE=t=>t instanceof HTMLInputElement&&"select"in t,Je=(t,e)=>{if(t&&t.focus){const i=document.activeElement;t.focus({preventScroll:!0}),cs.value=window.performance.now(),t!==i&&fE(t)&&e&&t.select()}};function ul(t,e){const i=[...t],r=t.indexOf(e);return r!==-1&&i.splice(r,1),i}const dE=()=>{let t=[];return{push:r=>{const n=t[0];n&&r!==n&&n.pause(),t=ul(t,r),t.unshift(r)},remove:r=>{var n,o;t=ul(t,r),(o=(n=t[0])==null?void 0:n.resume)==null||o.call(n)}}},hE=(t,e=!1)=>{const i=document.activeElement;for(const r of t)if(Je(r,e),document.activeElement!==i)return},ll=dE(),pE=()=>qi.value>cs.value,Mr=()=>{ls.value="pointer",qi.value=window.performance.now()},cl=()=>{ls.value="keyboard",qi.value=window.performance.now()},vE=()=>(ve(()=>{Nr===0&&(document.addEventListener("mousedown",Mr),document.addEventListener("touchstart",Mr),document.addEventListener("keydown",cl)),Nr++}),Di(()=>{Nr--,Nr<=0&&(document.removeEventListener("mousedown",Mr),document.removeEventListener("touchstart",Mr),document.removeEventListener("keydown",cl))}),{focusReason:ls,lastUserFocusTimestamp:qi,lastAutomatedFocusTimestamp:cs}),jr=t=>new CustomEvent(aE,{...sE,detail:t}),Ze={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"};let zt=[];const fl=t=>{t.code===Ze.esc&&zt.forEach(e=>e(t))},yE=t=>{ve(()=>{zt.length===0&&document.addEventListener("keydown",fl),pe&&zt.push(t)}),Di(()=>{zt=zt.filter(e=>e!==t),zt.length===0&&pe&&document.removeEventListener("keydown",fl)})},gE=C({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[ol,al,"focusin","focusout","focusout-prevented","release-requested"],setup(t,{emit:e}){const i=L();let r,n;const{focusReason:o}=vE();yE(y=>{t.trapped&&!a.paused&&e("release-requested",y)});const a={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},s=y=>{if(!t.loop&&!t.trapped||a.paused)return;const{code:v,altKey:m,ctrlKey:k,metaKey:T,currentTarget:O,shiftKey:z}=y,{loop:F}=t,M=v===Ze.tab&&!m&&!k&&!T,D=document.activeElement;if(M&&D){const W=O,[Q,H]=cE(W);if(Q&&H){if(!z&&D===H){const J=jr({focusReason:o.value});e("focusout-prevented",J),J.defaultPrevented||(y.preventDefault(),F&&Je(Q,!0))}else if(z&&[Q,W].includes(D)){const J=jr({focusReason:o.value});e("focusout-prevented",J),J.defaultPrevented||(y.preventDefault(),F&&Je(H,!0))}}else if(D===W){const J=jr({focusReason:o.value});e("focusout-prevented",J),J.defaultPrevented||y.preventDefault()}}};Ha(uE,{focusTrapRef:i,onKeydown:s}),ue(()=>t.focusTrapEl,y=>{y&&(i.value=y)},{immediate:!0}),ue([i],([y],[v])=>{y&&(y.addEventListener("keydown",s),y.addEventListener("focusin",c),y.addEventListener("focusout",f)),v&&(v.removeEventListener("keydown",s),v.removeEventListener("focusin",c),v.removeEventListener("focusout",f))});const u=y=>{e(ol,y)},l=y=>e(al,y),c=y=>{const v=g(i);if(!v)return;const m=y.target,k=y.relatedTarget,T=m&&v.contains(m);t.trapped||k&&v.contains(k)||(r=k),T&&e("focusin",y),!a.paused&&t.trapped&&(T?n=m:Je(n,!0))},f=y=>{const v=g(i);if(!(a.paused||!v))if(t.trapped){const m=y.relatedTarget;!nT(m)&&!v.contains(m)&&setTimeout(()=>{if(!a.paused&&t.trapped){const k=jr({focusReason:o.value});e("focusout-prevented",k),k.defaultPrevented||Je(n,!0)}},0)}else{const m=y.target;m&&v.contains(m)||e("focusout",y)}};async function h(){await qt();const y=g(i);if(y){ll.push(a);const v=y.contains(document.activeElement)?r:document.activeElement;if(r=v,!y.contains(v)){const k=new Event(bo,il);y.addEventListener(bo,u),y.dispatchEvent(k),k.defaultPrevented||qt(()=>{let T=t.focusStartEl;Ni(T)||(Je(T),document.activeElement!==T&&(T="first")),T==="first"&&hE(Fc(y),!0),(document.activeElement===v||T==="container")&&Je(y)})}}}function p(){const y=g(i);if(y){y.removeEventListener(bo,u);const v=new CustomEvent(wo,{...il,detail:{focusReason:o.value}});y.addEventListener(wo,l),y.dispatchEvent(v),!v.defaultPrevented&&(o.value=="keyboard"||!pE()||y.contains(document.activeElement))&&Je(r??document.body),y.removeEventListener(wo,l),ll.remove(a)}}return ve(()=>{t.trapped&&h(),ue(()=>t.trapped,y=>{y?h():p()})}),Di(()=>{t.trapped&&p(),i.value&&(i.value.removeEventListener("keydown",s),i.value.removeEventListener("focusin",c),i.value.removeEventListener("focusout",f),i.value=void 0)}),{onKeydown:s}}});function mE(t,e,i,r,n,o){return w(t.$slots,"default",{handleKeydown:t.onKeydown})}var _E=Tr(gE,[["render",mE],["__file","focus-trap.vue"]]);const bE=Yi({to:{type:yt([String,Object]),required:!0},disabled:Boolean}),wE=C({__name:"teleport",props:bE,setup(t){return(e,i)=>e.disabled?w(e.$slots,"default",{key:0}):(_(),R(af,{key:1,to:e.to},[w(e.$slots,"default")],8,["to"]))}});var PE=Tr(wE,[["__file","teleport.vue"]]);const SE=Xi(PE),kE=(t,e)=>{if(!pe||!t||!e)return!1;const i=t.getBoundingClientRect();let r;return e instanceof Element?r=e.getBoundingClientRect():r={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},i.top<r.bottom&&i.bottom>r.top&&i.right>r.left&&i.left<r.right},OE=Yi({urlList:{type:yt(Array),default:()=>Bc([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:yt(String)}}),TE={close:()=>!0,switch:t=>Sr(t),rotate:t=>Sr(t)},EE=C({name:"ElImageViewer"}),CE=C({...EE,props:OE,emits:TE,setup(t,{expose:e,emit:i}){var r;const n=t,o={CONTAIN:{name:"contain",icon:ps(GT)},ORIGINAL:{name:"original",icon:ps(ZT)}},{t:a}=Mc(),s=is("image-viewer"),{nextZIndex:u}=PT(),l=L(),c=L([]),f=sf(),h=L(!0),p=L(n.initialIndex),y=Fa(o.CONTAIN),v=L({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),m=L((r=n.zIndex)!=null?r:u()),k=I(()=>{const{urlList:K}=n;return K.length<=1}),T=I(()=>p.value===0),O=I(()=>p.value===n.urlList.length-1),z=I(()=>n.urlList[p.value]),F=I(()=>[s.e("btn"),s.e("prev"),s.is("disabled",!n.infinite&&T.value)]),M=I(()=>[s.e("btn"),s.e("next"),s.is("disabled",!n.infinite&&O.value)]),D=I(()=>{const{scale:K,deg:oe,offsetX:te,offsetY:Se,enableTransition:$e}=v.value;let xe=te/K,Ge=Se/K;const Xn=oe*Math.PI/180,fs=Math.cos(Xn),ds=Math.sin(Xn);xe=xe*fs+Ge*ds,Ge=Ge*fs-te/K*ds;const Ji={transform:`scale(${K}) rotate(${oe}deg) translate(${xe}px, ${Ge}px)`,transition:$e?"transform .3s":""};return y.value.name===o.CONTAIN.name&&(Ji.maxWidth=Ji.maxHeight="100%"),Ji});function W(){H(),i("close")}function Q(){const K=_o(te=>{switch(te.code){case Ze.esc:n.closeOnPressEscape&&W();break;case Ze.space:Er();break;case Ze.left:Cr();break;case Ze.up:ie("zoomIn");break;case Ze.right:N();break;case Ze.down:ie("zoomOut");break}}),oe=_o(te=>{const Se=te.deltaY||te.deltaX;ie(Se<0?"zoomIn":"zoomOut",{zoomRate:n.zoomRate,enableTransition:!1})});f.run(()=>{Gt(document,"keydown",K),Gt(document,"wheel",oe)})}function H(){f.stop()}function ne(){h.value=!1}function J(K){h.value=!1,K.target.alt=a("el.image.error")}function se(K){if(h.value||K.button!==0||!l.value)return;v.value.enableTransition=!1;const{offsetX:oe,offsetY:te}=v.value,Se=K.pageX,$e=K.pageY,xe=_o(Xn=>{v.value={...v.value,offsetX:oe+Xn.pageX-Se,offsetY:te+Xn.pageY-$e}}),Ge=Gt(document,"mousemove",xe);Gt(document,"mouseup",()=>{Ge()}),K.preventDefault()}function me(){v.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function Er(){if(h.value)return;const K=$T(o),oe=Object.values(o),te=y.value.name,$e=(oe.findIndex(xe=>xe.name===te)+1)%K.length;y.value=o[K[$e]],me()}function Yn(K){const oe=n.urlList.length;p.value=(K+oe)%oe}function Cr(){T.value&&!n.infinite||Yn(p.value-1)}function N(){O.value&&!n.infinite||Yn(p.value+1)}function ie(K,oe={}){if(h.value)return;const{minScale:te,maxScale:Se}=n,{zoomRate:$e,rotateDeg:xe,enableTransition:Ge}={zoomRate:n.zoomRate,rotateDeg:90,enableTransition:!0,...oe};switch(K){case"zoomOut":v.value.scale>te&&(v.value.scale=Number.parseFloat((v.value.scale/$e).toFixed(3)));break;case"zoomIn":v.value.scale<Se&&(v.value.scale=Number.parseFloat((v.value.scale*$e).toFixed(3)));break;case"clockwise":v.value.deg+=xe,i("rotate",v.value.deg);break;case"anticlockwise":v.value.deg-=xe,i("rotate",v.value.deg);break}v.value.enableTransition=Ge}function Ir(K){var oe;((oe=K.detail)==null?void 0:oe.focusReason)==="pointer"&&K.preventDefault()}function Hc(){n.closeOnPressEscape&&W()}return ue(z,()=>{qt(()=>{const K=c.value[0];K!=null&&K.complete||(h.value=!0)})}),ue(p,K=>{me(),i("switch",K)}),ve(()=>{Q()}),e({setActiveItem:Yn}),(K,oe)=>(_(),R(g(SE),{to:"body",disabled:!K.teleported},{default:S(()=>[x($i,{name:"viewer-fade",appear:""},{default:S(()=>[P("div",{ref_key:"wrapper",ref:l,tabindex:-1,class:B(g(s).e("wrapper")),style:hr({zIndex:m.value})},[x(g(_E),{loop:"",trapped:"","focus-trap-el":l.value,"focus-start-el":"container",onFocusoutPrevented:Ir,onReleaseRequested:Hc},{default:S(()=>[P("div",{class:B(g(s).e("mask")),onClick:vl(te=>K.hideOnClickModal&&W(),["self"])},null,10,["onClick"]),$(" CLOSE "),P("span",{class:B([g(s).e("btn"),g(s).e("close")]),onClick:W},[x(g(Xe),null,{default:S(()=>[x(g(zT))]),_:1})],2),$(" ARROW "),g(k)?$("v-if",!0):(_(),b(Y,{key:0},[P("span",{class:B(g(F)),onClick:Cr},[x(g(Xe),null,{default:S(()=>[x(g(FT))]),_:1})],2),P("span",{class:B(g(M)),onClick:N},[x(g(Xe),null,{default:S(()=>[x(g(VT))]),_:1})],2)],64)),$(" ACTIONS "),P("div",{class:B([g(s).e("btn"),g(s).e("actions")])},[P("div",{class:B(g(s).e("actions__inner"))},[x(g(Xe),{onClick:te=>ie("zoomOut")},{default:S(()=>[x(g(nE))]),_:1},8,["onClick"]),x(g(Xe),{onClick:te=>ie("zoomIn")},{default:S(()=>[x(g(eE))]),_:1},8,["onClick"]),P("i",{class:B(g(s).e("actions__divider"))},null,2),x(g(Xe),{onClick:Er},{default:S(()=>[(_(),R(Oe(g(y).icon)))]),_:1}),P("i",{class:B(g(s).e("actions__divider"))},null,2),x(g(Xe),{onClick:te=>ie("anticlockwise")},{default:S(()=>[x(g(YT))]),_:1},8,["onClick"]),x(g(Xe),{onClick:te=>ie("clockwise")},{default:S(()=>[x(g(qT))]),_:1},8,["onClick"])],2)],2),$(" CANVAS "),P("div",{class:B(g(s).e("canvas"))},[(_(!0),b(Y,null,le(K.urlList,(te,Se)=>uf((_(),b("img",{ref_for:!0,ref:$e=>c.value[Se]=$e,key:te,src:te,style:hr(g(D)),class:B(g(s).e("img")),crossorigin:K.crossorigin,onLoad:ne,onError:J,onMousedown:se},null,46,["src","crossorigin"])),[[lf,Se===p.value]])),128))],2),w(K.$slots,"default")]),_:3},8,["focus-trap-el"])],6)]),_:3})]),_:3},8,["disabled"]))}});var IE=Tr(CE,[["__file","image-viewer.vue"]]);const $E=Xi(IE),xE=Yi({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:yt([String,Object])},previewSrcList:{type:yt(Array),default:()=>Bc([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:yt(String)}}),RE={load:t=>t instanceof Event,error:t=>t instanceof Event,switch:t=>Sr(t),close:()=>!0,show:()=>!0},LE=C({name:"ElImage",inheritAttrs:!1}),AE=C({...LE,props:xE,emits:RE,setup(t,{emit:e}){const i=t;let r="";const{t:n}=Mc(),o=is("image"),a=cf(),s=I(()=>ss(Object.entries(a).filter(([N])=>/^(data-|on[A-Z])/i.test(N)||["id","style"].includes(N)))),u=oE({excludeListeners:!0,excludeKeys:I(()=>Object.keys(s.value))}),l=L(),c=L(!1),f=L(!0),h=L(!1),p=L(),y=L(),v=pe&&"loading"in HTMLImageElement.prototype;let m,k;const T=I(()=>[o.e("inner"),z.value&&o.e("preview"),f.value&&o.is("loading")]),O=I(()=>{const{fit:N}=i;return pe&&N?{objectFit:N}:{}}),z=I(()=>{const{previewSrcList:N}=i;return ff(N)&&N.length>0}),F=I(()=>{const{previewSrcList:N,initialIndex:ie}=i;let Ir=ie;return ie>N.length-1&&(Ir=0),Ir}),M=I(()=>i.loading==="eager"?!1:!v&&i.loading==="lazy"||i.lazy),D=()=>{pe&&(f.value=!0,c.value=!1,l.value=i.src)};function W(N){f.value=!1,c.value=!1,e("load",N)}function Q(N){f.value=!1,c.value=!0,e("error",N)}function H(){kE(p.value,y.value)&&(D(),se())}const ne=dT(H,200,!0);async function J(){var N;if(!pe)return;await qt();const{scrollContainer:ie}=i;oT(ie)?y.value=ie:Ni(ie)&&ie!==""?y.value=(N=document.querySelector(ie))!=null?N:void 0:p.value&&(y.value=AT(p.value)),y.value&&(m=Gt(y,"scroll",ne),setTimeout(()=>H(),100))}function se(){!pe||!y.value||!ne||(m==null||m(),y.value=void 0)}function me(N){if(N.ctrlKey){if(N.deltaY<0)return N.preventDefault(),!1;if(N.deltaY>0)return N.preventDefault(),!1}}function Er(){z.value&&(k=Gt("wheel",me,{passive:!1}),r=document.body.style.overflow,document.body.style.overflow="hidden",h.value=!0,e("show"))}function Yn(){k==null||k(),document.body.style.overflow=r,h.value=!1,e("close")}function Cr(N){e("switch",N)}return ue(()=>i.src,()=>{M.value?(f.value=!0,c.value=!1,se(),J()):D()}),ve(()=>{M.value?J():D()}),(N,ie)=>(_(),b("div",Te({ref_key:"container",ref:p},g(s),{class:[g(o).b(),N.$attrs.class]}),[c.value?w(N.$slots,"error",{key:0},()=>[P("div",{class:B(g(o).e("error"))},X(g(n)("el.image.error")),3)]):(_(),b(Y,{key:1},[l.value!==void 0?(_(),b("img",Te({key:0},g(u),{src:l.value,loading:N.loading,style:g(O),class:g(T),crossorigin:N.crossorigin,onClick:Er,onLoad:W,onError:Q}),null,16,["src","loading","crossorigin"])):$("v-if",!0),f.value?(_(),b("div",{key:1,class:B(g(o).e("wrapper"))},[w(N.$slots,"placeholder",{},()=>[P("div",{class:B(g(o).e("placeholder"))},null,2)])],2)):$("v-if",!0)],64)),g(z)?(_(),b(Y,{key:2},[h.value?(_(),R(g($E),{key:0,"z-index":N.zIndex,"initial-index":g(F),infinite:N.infinite,"zoom-rate":N.zoomRate,"min-scale":N.minScale,"max-scale":N.maxScale,"url-list":N.previewSrcList,crossorigin:N.crossorigin,"hide-on-click-modal":N.hideOnClickModal,teleported:N.previewTeleported,"close-on-press-escape":N.closeOnPressEscape,onClose:Yn,onSwitch:Cr},{default:S(()=>[N.$slots.viewer?(_(),b("div",{key:0},[w(N.$slots,"viewer")])):$("v-if",!0)]),_:3},8,["z-index","initial-index","infinite","zoom-rate","min-scale","max-scale","url-list","crossorigin","hide-on-click-modal","teleported","close-on-press-escape"])):$("v-if",!0)],64)):$("v-if",!0)],16))}});var DE=Tr(AE,[["__file","image.vue"]]);const NE=Xi(DE),ME=C({__name:"DocImage",props:{src:{default:""},width:{default:void 0},height:{default:void 0},alt:{default:""}},setup(t){const e=t,i=I(()=>e.src||""),r=I(()=>[dt(i)]),n=I(()=>{const a=dt(i),s=a.split("/");return a?s[s.length-1]:""}),o=I(()=>{const{width:a,height:s}=e;return{width:a||"100%",height:s||"400px",margin:"0 auto"}});return(a,s)=>(_(),R(g(NE),{src:i.value,style:hr(o.value),"preview-src-list":r.value,"preview-teleported":!0,"hide-on-click-modal":!0,"initial-index":0,fit:"contain",alt:n.value,lazy:!0},null,8,["src","style","preview-src-list","alt"]))}}),jE={DocVideo:w1,DocImage:ME},FE={extends:Sl,Layout:Kv,enhanceApp({app:t}){for(const[e,i]of Object.entries(jE))t.component(e,i)}};export{FE as R,Ep as c,U as u};
